(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function fE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $d={exports:{}},xl={};var mv;function US(){if(mv)return xl;mv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var pv;function jS(){return pv||(pv=1,$d.exports=US()),$d.exports}var T=jS(),Jd={exports:{}},Se={};var gv;function zS(){if(gv)return Se;gv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function P(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,G={};function te(C,H,ie){this.props=C,this.context=H,this.refs=G,this.updater=ie||K}te.prototype.isReactComponent={},te.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},te.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ne(){}ne.prototype=te.prototype;function re(C,H,ie){this.props=C,this.context=H,this.refs=G,this.updater=ie||K}var ge=re.prototype=new ne;ge.constructor=re,X(ge,te.prototype),ge.isPureReactComponent=!0;var Te=Array.isArray;function Ee(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function w(C,H,ie){var le=ie.ref;return{$$typeof:r,type:C,key:H,ref:le!==void 0?le:null,props:ie}}function M(C,H){return w(C.type,H,C.props)}function O(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function k(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ie){return H[ie]})}var N=/\/+/g;function qe(C,H){return typeof C=="object"&&C!==null&&C.key!=null?k(""+C.key):H.toString(36)}function it(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Ee,Ee):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Y(C,H,ie,le,_e){var xe=typeof C;(xe==="undefined"||xe==="boolean")&&(C=null);var Ue=!1;if(C===null)Ue=!0;else switch(xe){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(C.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=C._init,Y(Ue(C._payload),H,ie,le,_e)}}if(Ue)return _e=_e(C),Ue=le===""?"."+qe(C,0):le,Te(_e)?(ie="",Ue!=null&&(ie=Ue.replace(N,"$&/")+"/"),Y(_e,H,ie,"",function(cs){return cs})):_e!=null&&(O(_e)&&(_e=M(_e,ie+(_e.key==null||C&&C.key===_e.key?"":(""+_e.key).replace(N,"$&/")+"/")+Ue)),H.push(_e)),1;Ue=0;var Dt=le===""?".":le+":";if(Te(C))for(var ot=0;ot<C.length;ot++)le=C[ot],xe=Dt+qe(le,ot),Ue+=Y(le,H,ie,xe,_e);else if(ot=P(C),typeof ot=="function")for(C=ot.call(C),ot=0;!(le=C.next()).done;)le=le.value,xe=Dt+qe(le,ot++),Ue+=Y(le,H,ie,xe,_e);else if(xe==="object"){if(typeof C.then=="function")return Y(it(C),H,ie,le,_e);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ae(C,H,ie){if(C==null)return C;var le=[],_e=0;return Y(C,le,"","",function(xe){return H.call(ie,xe,_e++)}),le}function fe(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(ie){(C._status===0||C._status===-1)&&(C._status=1,C._result=ie)},function(ie){(C._status===0||C._status===-1)&&(C._status=2,C._result=ie)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var Ie=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},He={map:ae,forEach:function(C,H,ie){ae(C,function(){H.apply(this,arguments)},ie)},count:function(C){var H=0;return ae(C,function(){H++}),H},toArray:function(C){return ae(C,function(H){return H})||[]},only:function(C){if(!O(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Se.Activity=b,Se.Children=He,Se.Component=te,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=re,Se.StrictMode=s,Se.Suspense=y,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(C){return I.H.useMemoCache(C)}},Se.cache=function(C){return function(){return C.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(C,H,ie){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var le=X({},C.props),_e=C.key;if(H!=null)for(xe in H.key!==void 0&&(_e=""+H.key),H)!R.call(H,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&H.ref===void 0||(le[xe]=H[xe]);var xe=arguments.length-2;if(xe===1)le.children=ie;else if(1<xe){for(var Ue=Array(xe),Dt=0;Dt<xe;Dt++)Ue[Dt]=arguments[Dt+2];le.children=Ue}return w(C.type,_e,le)},Se.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},Se.createElement=function(C,H,ie){var le,_e={},xe=null;if(H!=null)for(le in H.key!==void 0&&(xe=""+H.key),H)R.call(H,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=H[le]);var Ue=arguments.length-2;if(Ue===1)_e.children=ie;else if(1<Ue){for(var Dt=Array(Ue),ot=0;ot<Ue;ot++)Dt[ot]=arguments[ot+2];_e.children=Dt}if(C&&C.defaultProps)for(le in Ue=C.defaultProps,Ue)_e[le]===void 0&&(_e[le]=Ue[le]);return w(C,xe,_e)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(C){return{$$typeof:m,render:C}},Se.isValidElement=O,Se.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:fe}},Se.memo=function(C,H){return{$$typeof:g,type:C,compare:H===void 0?null:H}},Se.startTransition=function(C){var H=I.T,ie={};I.T=ie;try{var le=C(),_e=I.S;_e!==null&&_e(ie,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ee,Ie)}catch(xe){Ie(xe)}finally{H!==null&&ie.types!==null&&(H.types=ie.types),I.T=H}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(C){return I.H.use(C)},Se.useActionState=function(C,H,ie){return I.H.useActionState(C,H,ie)},Se.useCallback=function(C,H){return I.H.useCallback(C,H)},Se.useContext=function(C){return I.H.useContext(C)},Se.useDebugValue=function(){},Se.useDeferredValue=function(C,H){return I.H.useDeferredValue(C,H)},Se.useEffect=function(C,H){return I.H.useEffect(C,H)},Se.useEffectEvent=function(C){return I.H.useEffectEvent(C)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(C,H,ie){return I.H.useImperativeHandle(C,H,ie)},Se.useInsertionEffect=function(C,H){return I.H.useInsertionEffect(C,H)},Se.useLayoutEffect=function(C,H){return I.H.useLayoutEffect(C,H)},Se.useMemo=function(C,H){return I.H.useMemo(C,H)},Se.useOptimistic=function(C,H){return I.H.useOptimistic(C,H)},Se.useReducer=function(C,H,ie){return I.H.useReducer(C,H,ie)},Se.useRef=function(C){return I.H.useRef(C)},Se.useState=function(C){return I.H.useState(C)},Se.useSyncExternalStore=function(C,H,ie){return I.H.useSyncExternalStore(C,H,ie)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.4",Se}var yv;function Gm(){return yv||(yv=1,Jd.exports=zS()),Jd.exports}var j=Gm();const BS=fE(j);var Zd={exports:{}},Cl={},Wd={exports:{}},em={};var _v;function qS(){return _v||(_v=1,(function(r){function e(Y,ae){var fe=Y.length;Y.push(ae);e:for(;0<fe;){var Ie=fe-1>>>1,He=Y[Ie];if(0<o(He,ae))Y[Ie]=ae,Y[fe]=He,fe=Ie;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ae=Y[0],fe=Y.pop();if(fe!==ae){Y[0]=fe;e:for(var Ie=0,He=Y.length,C=He>>>1;Ie<C;){var H=2*(Ie+1)-1,ie=Y[H],le=H+1,_e=Y[le];if(0>o(ie,fe))le<He&&0>o(_e,ie)?(Y[Ie]=_e,Y[le]=fe,Ie=le):(Y[Ie]=ie,Y[H]=fe,Ie=H);else if(le<He&&0>o(_e,fe))Y[Ie]=_e,Y[le]=fe,Ie=le;else break e}}return ae}function o(Y,ae){var fe=Y.sortIndex-ae.sortIndex;return fe!==0?fe:Y.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var y=[],g=[],E=1,b=null,x=3,P=!1,K=!1,X=!1,G=!1,te=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ge(Y){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=Y)s(g),ae.sortIndex=ae.expirationTime,e(y,ae);else break;ae=n(g)}}function Te(Y){if(X=!1,ge(Y),!K)if(n(y)!==null)K=!0,Ee||(Ee=!0,k());else{var ae=n(g);ae!==null&&it(Te,ae.startTime-Y)}}var Ee=!1,I=-1,R=5,w=-1;function M(){return G?!0:!(r.unstable_now()-w<R)}function O(){if(G=!1,Ee){var Y=r.unstable_now();w=Y;var ae=!0;try{e:{K=!1,X&&(X=!1,ne(I),I=-1),P=!0;var fe=x;try{t:{for(ge(Y),b=n(y);b!==null&&!(b.expirationTime>Y&&M());){var Ie=b.callback;if(typeof Ie=="function"){b.callback=null,x=b.priorityLevel;var He=Ie(b.expirationTime<=Y);if(Y=r.unstable_now(),typeof He=="function"){b.callback=He,ge(Y),ae=!0;break t}b===n(y)&&s(y),ge(Y)}else s(y);b=n(y)}if(b!==null)ae=!0;else{var C=n(g);C!==null&&it(Te,C.startTime-Y),ae=!1}}break e}finally{b=null,x=fe,P=!1}ae=void 0}}finally{ae?k():Ee=!1}}}var k;if(typeof re=="function")k=function(){re(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,qe=N.port2;N.port1.onmessage=O,k=function(){qe.postMessage(null)}}else k=function(){te(O,0)};function it(Y,ae){I=te(function(){Y(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var fe=x;x=ae;try{return Y()}finally{x=fe}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var fe=x;x=Y;try{return ae()}finally{x=fe}},r.unstable_scheduleCallback=function(Y,ae,fe){var Ie=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ie+fe:Ie):fe=Ie,Y){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=fe+He,Y={id:E++,callback:ae,priorityLevel:Y,startTime:fe,expirationTime:He,sortIndex:-1},fe>Ie?(Y.sortIndex=fe,e(g,Y),n(y)===null&&Y===n(g)&&(X?(ne(I),I=-1):X=!0,it(Te,fe-Ie))):(Y.sortIndex=He,e(y,Y),K||P||(K=!0,Ee||(Ee=!0,k()))),Y},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Y){var ae=x;return function(){var fe=x;x=ae;try{return Y.apply(this,arguments)}finally{x=fe}}}})(em)),em}var vv;function HS(){return vv||(vv=1,Wd.exports=qS()),Wd.exports}var tm={exports:{}},$t={};var Ev;function FS(){if(Ev)return $t;Ev=1;var r=Gm();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:y,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,E)},$t.flushSync=function(y){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=E,s.d.f()}},$t.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},$t.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},$t.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:P}):E==="script"&&s.d.X(y,{crossOrigin:b,integrity:x,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},$t.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(y,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},$t.requestFormReset=function(y){s.d.r(y)},$t.unstable_batchedUpdates=function(y,g){return y(g)},$t.useFormState=function(y,g,E){return f.H.useFormState(y,g,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.4",$t}var Tv;function GS(){if(Tv)return tm.exports;Tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tm.exports=FS(),tm.exports}var bv;function QS(){if(bv)return Cl;bv=1;var r=HS(),e=Gm(),n=GS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),t;if(d===l)return y(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case te:return"Profiler";case G:return"StrictMode";case Te:return"Suspense";case Ee:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case re:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:qe(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return qe(t(i))}catch{}}return null}var it=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ie=[],He=-1;function C(t){return{current:t}}function H(t){0>He||(t.current=Ie[He],Ie[He]=null,He--)}function ie(t,i){He++,Ie[He]=t.current,t.current=i}var le=C(null),_e=C(null),xe=C(null),Ue=C(null);function Dt(t,i){switch(ie(xe,i),ie(_e,t),ie(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?P_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=P_(i),t=U_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(le),ie(le,t)}function ot(){H(le),H(_e),H(xe)}function cs(t){t.memoizedState!==null&&ie(Ue,t);var i=le.current,a=U_(i,t.type);i!==a&&(ie(_e,t),ie(le,a))}function ea(t){_e.current===t&&(H(le),H(_e)),Ue.current===t&&(H(Ue),Sl._currentValue=fe)}var ta,na;function ni(t){if(ta===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ta=i&&i[1]||"",na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+t+na}var So=!1;function hs(t,i){if(!t||So)return"";So=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var q=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){q=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){q=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var D=_.split(`
`),B=S.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===B.length)for(l=D.length-1,h=B.length-1;1<=l&&0<=h&&D[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==B[h]){var $=`
`+D[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{So=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ni(a):""}function Ao(t,i){switch(t.tag){case 26:case 27:case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return t.child!==i&&i!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return hs(t.type,!1);case 11:return hs(t.type.render,!1);case 1:return hs(t.type,!0);case 31:return ni("Activity");default:return""}}function wo(t){try{var i="",a=null;do i+=Ao(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,ur=r.unstable_cancelCallback,Jh=r.unstable_shouldYield,mu=r.unstable_requestPaint,tn=r.unstable_now,fs=r.unstable_getCurrentPriorityLevel,Ro=r.unstable_ImmediatePriority,xo=r.unstable_UserBlockingPriority,cr=r.unstable_NormalPriority,Zh=r.unstable_LowPriority,pu=r.unstable_IdlePriority,gu=r.log,yu=r.unstable_setDisableYieldValue,Bn=null,zt=null;function Rn(t){if(typeof gu=="function"&&yu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Bn,t)}catch{}}var mt=Math.clz32?Math.clz32:vu,_u=Math.log,ia=Math.LN2;function vu(t){return t>>>=0,t===0?32:31-(_u(t)/ia|0)|0}var ii=256,ds=262144,Et=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function si(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ri(l):(_&=S,_!==0?h=ri(_):a||(a=S&~t,a!==0&&(h=ri(a))))):(S=l&~d,S!==0?h=ri(S):_!==0?h=ri(_):a||(a=l&~t,a!==0&&(h=ri(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Wh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function ai(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ms(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ef(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-mt(a),Z=1<<$;S[$]=0,D[$]=-1;var q=B[$];if(q!==null)for(B[$]=null,$=0;$<q.length;$++){var Q=q[$];Q!==null&&(Q.lane&=-536870913)}a&=~Z}l!==0&&ps(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ps(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Co(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Io(t,i){var a=i&-i;return a=(a&42)!==0?1:gs(a),(a&(t.suspendedLanes|i))!==0?0:a}function gs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:ov(t.type))}function Hn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Fn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Fn,Lt="__reactProps$"+Fn,oi="__reactContainer$"+Fn,ra="__reactEvents$"+Fn,tf="__reactListeners$"+Fn,bu="__reactHandles$"+Fn,Su="__reactResources$"+Fn,li="__reactMarker$"+Fn;function sa(t){delete t[Tt],delete t[Lt],delete t[ra],delete t[tf],delete t[bu]}function ui(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[oi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=G_(t);t!==null;){if(a=t[Tt])return a;t=G_(t)}return i}t=a,a=t.parentNode}return null}function xn(t){if(t=t[Tt]||t[oi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ci(t){var i=t[Su];return i||(i=t[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[li]=!0}var No=new Set,Do={};function hi(t,i){fi(t,i),fi(t+"Capture",i)}function fi(t,i){for(Do[t]=i,t=0;t<i.length;t++)No.add(i[t])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Vo={};function Au(t){return vt.call(Vo,t)?!0:vt.call(Mo,t)?!1:Oo.test(t)?Vo[t]=!0:(Mo[t]=!0,!1)}function aa(t,i,a){if(Au(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ko(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=hr(t)?"checked":"value";t._valueTracker=ko(t,i,""+t[i])}}function ys(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=hr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _s=/[\n"\\]/g;function sn(t){return t.replace(_s,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function oa(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Lo(t,_,Pt(i)):a!=null?Lo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Pt(S):t.removeAttribute("name")}function wu(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Lo(t,i,a){i==="number"&&di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function fr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ru(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function dr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||xu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Uo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Po(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Po(t,d,i[d])}function la(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(t){return mr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var jo=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pr=null,mi=null;function vs(t){var i=xn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(oa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));oa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ys(l)}break e;case"textarea":Ru(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&fr(t,!!a.multiple,i,!1)}}}var ca=!1;function gr(t,i,a){if(ca)return t(i,a);ca=!0;try{var l=t(i);return l}finally{if(ca=!1,(pr!==null||mi!==null)&&(Tc(),pr&&(i=pr,t=mi,mi=pr=null,vs(i),t)))for(i=0;i<t.length;i++)vs(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(In)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Es=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Es=!1}var pi=null,zo=null,Ts=null;function Bo(){if(Ts)return Ts;var t,i=zo,a=i.length,l,h="value"in pi?pi.value:pi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ts=h.slice(t,1<l?1-l:void 0)}function bs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ki(){return!0}function Kn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ki:Kn,this.isPropagationStopped=Kn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),i}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Bt(Li),yr=b({},Li,{view:0,detail:0}),qo=Bt(yr),_r,ha,yi,fa=b({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yi&&(yi&&t.type==="mousemove"?(_r=t.screenX-yi.screenX,ha=t.screenY-yi.screenY):ha=_r=0,yi=t),_r)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),Ho=Bt(fa),Ss=b({},fa,{dataTransfer:0}),Iu=Bt(Ss),Nu=b({},yr,{relatedTarget:0}),As=Bt(Nu),Fo=b({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Du=Bt(Fo),da=b({},Li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ou=Bt(da),Mu=b({},Li,{data:0}),_i=Bt(Mu),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Lu[t])?!!i[t]:!1}function vr(){return Pu}var nn=b({},yr,{key:function(t){if(t.key){var i=Vu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=bs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(t){return t.type==="keypress"?bs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uu=Bt(nn),ju=b({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=Bt(ju),c=b({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),p=Bt(c),v=b({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),U=b({},fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Bt(U),se=b({},Li,{newState:0,oldState:0}),we=Bt(se),pt=[9,13,27,32],Fe=In&&"CompositionEvent"in window,lt=null;In&&"documentMode"in document&&(lt=document.documentMode);var Nn=In&&"TextEvent"in window&&!lt,vi=In&&(!Fe||lt&&8<lt&&11>=lt),Yn=" ",Xn=!1;function ws(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function lb(t,i){switch(t){case"compositionend":return ma(i);case"keypress":return i.which!==32?null:(Xn=!0,Yn);case"textInput":return t=i.data,t===Yn&&Xn?null:t;default:return null}}function ub(t,i){if(pa)return t==="compositionend"||!Fe&&ws(t,i)?(t=Bo(),Ts=zo=pi=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vi&&i.locale!=="ko"?null:i.data;default:return null}}var cb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!cb[t.type]:i==="textarea"}function Xp(t,i,a,l){pr?mi?mi.push(l):mi=[l]:pr=l,i=Cc(i,"onChange"),0<i.length&&(a=new gi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Go=null,Qo=null;function hb(t){D_(t,0)}function zu(t){var i=mn(t);if(ys(i))return t}function $p(t,i){if(t==="change")return i}var Jp=!1;if(In){var nf;if(In){var rf="oninput"in document;if(!rf){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),rf=typeof Zp.oninput=="function"}nf=rf}else nf=!1;Jp=nf&&(!document.documentMode||9<document.documentMode)}function Wp(){Go&&(Go.detachEvent("onpropertychange",eg),Qo=Go=null)}function eg(t){if(t.propertyName==="value"&&zu(Qo)){var i=[];Xp(i,Qo,t,Cn(t)),gr(hb,i)}}function fb(t,i,a){t==="focusin"?(Wp(),Go=i,Qo=a,Go.attachEvent("onpropertychange",eg)):t==="focusout"&&Wp()}function db(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(Qo)}function mb(t,i){if(t==="click")return zu(i)}function pb(t,i){if(t==="input"||t==="change")return zu(i)}function gb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:gb;function Ko(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ng(t,i){var a=tg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=tg(a)}}function ig(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ig(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function rg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=di(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=di(t.document)}return i}function sf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var yb=In&&"documentMode"in document&&11>=document.documentMode,ga=null,af=null,Yo=null,of=!1;function sg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;of||ga==null||ga!==di(l)||(l=ga,"selectionStart"in l&&sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Ko(Yo,l)||(Yo=l,l=Cc(af,"onSelect"),0<l.length&&(i=new gi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ga)))}function Rs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ya={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},lf={},ag={};In&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function xs(t){if(lf[t])return lf[t];if(!ya[t])return t;var i=ya[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ag)return lf[t]=i[a];return t}var og=xs("animationend"),lg=xs("animationiteration"),ug=xs("animationstart"),_b=xs("transitionrun"),vb=xs("transitionstart"),Eb=xs("transitioncancel"),cg=xs("transitionend"),hg=new Map,uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uf.push("scrollEnd");function $n(t,i){hg.set(t,i),hi(i,[t])}var Bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],_a=0,cf=0;function qu(){for(var t=_a,i=cf=_a=0;i<t;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&fg(a,h,d)}}function Hu(t,i,a,l){Dn[_a++]=t,Dn[_a++]=i,Dn[_a++]=a,Dn[_a++]=l,cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function hf(t,i,a,l){return Hu(t,i,a,l),Fu(t)}function Cs(t,i){return Hu(t,null,null,i),Fu(t)}function fg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-mt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Fu(t){if(50<gl)throw gl=0,Ed=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var va={};function Tb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,l){return new Tb(t,i,a,l)}function ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ui(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Gu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")ff(t)&&(_=1);else if(typeof t=="string")_=RS(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=yn(31,a,i,h),t.elementType=w,t.lanes=d,t;case X:return Is(a.children,h,d,i);case G:_=8,h|=24;break;case te:return t=yn(12,a,i,h|2),t.elementType=te,t.lanes=d,t;case Te:return t=yn(13,a,i,h),t.elementType=Te,t.lanes=d,t;case Ee:return t=yn(19,a,i,h),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ne:_=9;break e;case ge:_=11;break e;case I:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=yn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Is(t,i,a,l){return t=yn(7,t,l,i),t.lanes=a,t}function df(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function mg(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function mf(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var pg=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=pg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:wo(i)},pg.set(t,i),i)}return{value:t,source:i,stack:wo(i)}}var Ea=[],Ta=0,Qu=null,Xo=0,Mn=[],Vn=0,Er=null,Ei=1,Ti="";function ji(t,i){Ea[Ta++]=Xo,Ea[Ta++]=Qu,Qu=t,Xo=i}function gg(t,i,a){Mn[Vn++]=Ei,Mn[Vn++]=Ti,Mn[Vn++]=Er,Er=t;var l=Ei;t=Ti;var h=32-mt(l)-1;l&=~(1<<h),a+=1;var d=32-mt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ei=1<<32-mt(i)+h|a<<h|l,Ti=d+t}else Ei=1<<d|a<<h|l,Ti=t}function pf(t){t.return!==null&&(ji(t,1),gg(t,1,0))}function gf(t){for(;t===Qu;)Qu=Ea[--Ta],Ea[Ta]=null,Xo=Ea[--Ta],Ea[Ta]=null;for(;t===Er;)Er=Mn[--Vn],Mn[Vn]=null,Ti=Mn[--Vn],Mn[Vn]=null,Ei=Mn[--Vn],Mn[Vn]=null}function yg(t,i){Mn[Vn++]=Ei,Mn[Vn++]=Ti,Mn[Vn++]=Er,Ei=i.id,Ti=i.overflow,Er=t}var qt=null,rt=null,Pe=!1,Tr=null,kn=!1,yf=Error(s(519));function br(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $o(On(i,t)),yf}function _g(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[Lt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<_l.length;a++)De(_l[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),wu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),dr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||k_(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||br(t,!0)}function vg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qt=qt.return}}function ba(t){if(t!==qt)return!1;if(!Pe)return vg(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||kd(t.type,t.memoizedProps)),a=!a),a&&rt&&br(t),vg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=F_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=F_(t)}else i===27?(i=rt,Lr(t.type)?(t=zd,zd=null,rt=t):rt=i):rt=qt?Pn(t.stateNode.nextSibling):null;return!0}function Ns(){rt=qt=null,Pe=!1}function _f(){var t=Tr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Tr=null),t}function $o(t){Tr===null?Tr=[t]:Tr.push(t)}var vf=C(null),Ds=null,zi=null;function Sr(t,i,a){ie(vf,i._currentValue),i._currentValue=a}function Bi(t){t._currentValue=vf.current,H(vf)}function Ef(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Tf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var D=0;D<i.length;D++)if(S.context===i[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Ef(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Ef(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Sa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;gn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}h=h.return}t!==null&&Tf(i,t,a,l),i.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){Ds=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Eg(Ds,t)}function Yu(t,i){return Ds===null&&Os(t),Eg(t,i)}function Eg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zi===null){if(t===null)throw Error(s(308));zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else zi=zi.next=i;return a}var bb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Sb=r.unstable_scheduleCallback,Ab=r.unstable_NormalPriority,At={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bf(){return{controller:new bb,data:new Map,refCount:0}}function Jo(t){t.refCount--,t.refCount===0&&Sb(Ab,function(){t.controller.abort()})}var Zo=null,Sf=0,Aa=0,wa=null;function wb(t,i){if(Zo===null){var a=Zo=[];Sf=0,Aa=Rd(),wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sf++,i.then(Tg,Tg),i}function Tg(){if(--Sf===0&&Zo!==null){wa!==null&&(wa.status="fulfilled");var t=Zo;Zo=null,Aa=0,wa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Rb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var bg=Y.S;Y.S=function(t,i){s_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&wb(t,i),bg!==null&&bg(t,i)};var Ms=C(null);function Af(){var t=Ms.current;return t!==null?t:tt.pooledCache}function Xu(t,i){i===null?ie(Ms,Ms.current):ie(Ms,i.pool)}function Sg(){var t=Af();return t===null?null:{parent:At._currentValue,pool:t}}var Ra=Error(s(460)),wf=Error(s(474)),$u=Error(s(542)),Ju={then:function(){}};function Ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,xg(t),t;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,xg(t),t}throw ks=i,Ra}}function Vs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ks=a,Ra):a}}var ks=null;function Rg(){if(ks===null)throw Error(s(459));var t=ks;return ks=null,t}function xg(t){if(t===Ra||t===$u)throw Error(s(483))}var xa=null,Wo=0;function Zu(t){var i=Wo;return Wo+=1,xa===null&&(xa=[]),wg(xa,t,i)}function el(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Wu(t,i){throw i.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Cg(t){function i(L,V){if(t){var z=L.deletions;z===null?(L.deletions=[V],L.flags|=16):z.push(V)}}function a(L,V){if(!t)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=Ui(L,V),L.index=0,L.sibling=null,L}function d(L,V,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<V?(L.flags|=67108866,V):z):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,V,z,J){return V===null||V.tag!==6?(V=df(z,L.mode,J),V.return=L,V):(V=h(V,z),V.return=L,V)}function D(L,V,z,J){var de=z.type;return de===X?$(L,V,z.props.children,J,z.key):V!==null&&(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Vs(de)===V.type)?(V=h(V,z.props),el(V,z),V.return=L,V):(V=Gu(z.type,z.key,z.props,null,L.mode,J),el(V,z),V.return=L,V)}function B(L,V,z,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=mf(z,L.mode,J),V.return=L,V):(V=h(V,z.children||[]),V.return=L,V)}function $(L,V,z,J,de){return V===null||V.tag!==7?(V=Is(z,L.mode,J,de),V.return=L,V):(V=h(V,z),V.return=L,V)}function Z(L,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=df(""+V,L.mode,z),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case P:return z=Gu(V.type,V.key,V.props,null,L.mode,z),el(z,V),z.return=L,z;case K:return V=mf(V,L.mode,z),V.return=L,V;case R:return V=Vs(V),Z(L,V,z)}if(it(V)||k(V))return V=Is(V,L.mode,z,null),V.return=L,V;if(typeof V.then=="function")return Z(L,Zu(V),z);if(V.$$typeof===re)return Z(L,Yu(L,V),z);Wu(L,V)}return null}function q(L,V,z,J){var de=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:S(L,V,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===de?D(L,V,z,J):null;case K:return z.key===de?B(L,V,z,J):null;case R:return z=Vs(z),q(L,V,z,J)}if(it(z)||k(z))return de!==null?null:$(L,V,z,J,null);if(typeof z.then=="function")return q(L,V,Zu(z),J);if(z.$$typeof===re)return q(L,V,Yu(L,z),J);Wu(L,z)}return null}function Q(L,V,z,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(z)||null,S(V,L,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case P:return L=L.get(J.key===null?z:J.key)||null,D(V,L,J,de);case K:return L=L.get(J.key===null?z:J.key)||null,B(V,L,J,de);case R:return J=Vs(J),Q(L,V,z,J,de)}if(it(J)||k(J))return L=L.get(z)||null,$(V,L,J,de,null);if(typeof J.then=="function")return Q(L,V,z,Zu(J),de);if(J.$$typeof===re)return Q(L,V,z,Yu(V,J),de);Wu(V,J)}return null}function ce(L,V,z,J){for(var de=null,ze=null,he=V,Ce=V=0,Me=null;he!==null&&Ce<z.length;Ce++){he.index>Ce?(Me=he,he=null):Me=he.sibling;var Be=q(L,he,z[Ce],J);if(Be===null){he===null&&(he=Me);break}t&&he&&Be.alternate===null&&i(L,he),V=d(Be,V,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be,he=Me}if(Ce===z.length)return a(L,he),Pe&&ji(L,Ce),de;if(he===null){for(;Ce<z.length;Ce++)he=Z(L,z[Ce],J),he!==null&&(V=d(he,V,Ce),ze===null?de=he:ze.sibling=he,ze=he);return Pe&&ji(L,Ce),de}for(he=l(he);Ce<z.length;Ce++)Me=Q(he,L,Ce,z[Ce],J),Me!==null&&(t&&Me.alternate!==null&&he.delete(Me.key===null?Ce:Me.key),V=d(Me,V,Ce),ze===null?de=Me:ze.sibling=Me,ze=Me);return t&&he.forEach(function(Br){return i(L,Br)}),Pe&&ji(L,Ce),de}function pe(L,V,z,J){if(z==null)throw Error(s(151));for(var de=null,ze=null,he=V,Ce=V=0,Me=null,Be=z.next();he!==null&&!Be.done;Ce++,Be=z.next()){he.index>Ce?(Me=he,he=null):Me=he.sibling;var Br=q(L,he,Be.value,J);if(Br===null){he===null&&(he=Me);break}t&&he&&Br.alternate===null&&i(L,he),V=d(Br,V,Ce),ze===null?de=Br:ze.sibling=Br,ze=Br,he=Me}if(Be.done)return a(L,he),Pe&&ji(L,Ce),de;if(he===null){for(;!Be.done;Ce++,Be=z.next())Be=Z(L,Be.value,J),Be!==null&&(V=d(Be,V,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be);return Pe&&ji(L,Ce),de}for(he=l(he);!Be.done;Ce++,Be=z.next())Be=Q(he,L,Ce,Be.value,J),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ce:Be.key),V=d(Be,V,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(PS){return i(L,PS)}),Pe&&ji(L,Ce),de}function et(L,V,z,J){if(typeof z=="object"&&z!==null&&z.type===X&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:e:{for(var de=z.key;V!==null;){if(V.key===de){if(de=z.type,de===X){if(V.tag===7){a(L,V.sibling),J=h(V,z.props.children),J.return=L,L=J;break e}}else if(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Vs(de)===V.type){a(L,V.sibling),J=h(V,z.props),el(J,z),J.return=L,L=J;break e}a(L,V);break}else i(L,V);V=V.sibling}z.type===X?(J=Is(z.props.children,L.mode,J,z.key),J.return=L,L=J):(J=Gu(z.type,z.key,z.props,null,L.mode,J),el(J,z),J.return=L,L=J)}return _(L);case K:e:{for(de=z.key;V!==null;){if(V.key===de)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(L,V.sibling),J=h(V,z.children||[]),J.return=L,L=J;break e}else{a(L,V);break}else i(L,V);V=V.sibling}J=mf(z,L.mode,J),J.return=L,L=J}return _(L);case R:return z=Vs(z),et(L,V,z,J)}if(it(z))return ce(L,V,z,J);if(k(z)){if(de=k(z),typeof de!="function")throw Error(s(150));return z=de.call(z),pe(L,V,z,J)}if(typeof z.then=="function")return et(L,V,Zu(z),J);if(z.$$typeof===re)return et(L,V,Yu(L,z),J);Wu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(L,V.sibling),J=h(V,z),J.return=L,L=J):(a(L,V),J=df(z,L.mode,J),J.return=L,L=J),_(L)):a(L,V)}return function(L,V,z,J){try{Wo=0;var de=et(L,V,z,J);return xa=null,de}catch(he){if(he===Ra||he===$u)throw he;var ze=yn(29,he,null,L.mode);return ze.lanes=J,ze.return=L,ze}}}var Ls=Cg(!0),Ig=Cg(!1),Ar=!1;function Rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function wr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Fu(t),fg(t,null,a),i}return Hu(t,l,i,a),Fu(t)}function tl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Co(t,a)}}function Cf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var If=!1;function nl(){if(If){var t=wa;if(t!==null)throw t}}function il(t,i,a,l){If=!1;var h=t.updateQueue;Ar=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var D=S,B=D.next;D.next=null,_===null?d=B:_.next=B,_=D;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=B:S.next=B,$.lastBaseUpdate=D))}if(d!==null){var Z=h.baseState;_=0,$=B=D=null,S=d;do{var q=S.lane&-536870913,Q=q!==S.lane;if(Q?(Oe&q)===q:(l&q)===q){q!==0&&q===Aa&&(If=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=t,pe=S;q=i;var et=a;switch(pe.tag){case 1:if(ce=pe.payload,typeof ce=="function"){Z=ce.call(et,Z,q);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=pe.payload,q=typeof ce=="function"?ce.call(et,Z,q):ce,q==null)break e;Z=b({},Z,q);break e;case 2:Ar=!0}}q=S.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(B=$=Q,D=Z):$=$.next=Q,_|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);$===null&&(D=Z),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Dr|=_,t.lanes=_,t.memoizedState=Z}}function Ng(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Dg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ng(a[t],i)}var Ca=C(null),ec=C(0);function Og(t,i){t=$i,ie(ec,t),ie(Ca,i),$i=t|i.baseLanes}function Nf(){ie(ec,$i),ie(Ca,Ca.current)}function Df(){$i=ec.current,H(Ca),H(ec)}var _n=C(null),Ln=null;function xr(t){var i=t.alternate;ie(gt,gt.current&1),ie(_n,t),Ln===null&&(i===null||Ca.current!==null||i.memoizedState!==null)&&(Ln=t)}function Of(t){ie(gt,gt.current),ie(_n,t),Ln===null&&(Ln=t)}function Mg(t){t.tag===22?(ie(gt,gt.current),ie(_n,t),Ln===null&&(Ln=t)):Cr()}function Cr(){ie(gt,gt.current),ie(_n,_n.current)}function vn(t){H(_n),Ln===t&&(Ln=null),H(gt)}var gt=C(0);function tc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ud(a)||jd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qi=0,Re=null,Ze=null,wt=null,nc=!1,Ia=!1,Ps=!1,ic=0,rl=0,Na=null,xb=0;function ft(){throw Error(s(321))}function Mf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function Vf(t,i,a,l,h,d){return qi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?gy:Xf,Ps=!1,d=a(l,h),Ps=!1,Ia&&(d=kg(i,a,l,h)),Vg(t),d}function Vg(t){Y.H=ol;var i=Ze!==null&&Ze.next!==null;if(qi=0,wt=Ze=Re=null,nc=!1,rl=0,Na=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&Ku(t)&&(Rt=!0))}function kg(t,i,a,l){Re=t;var h=0;do{if(Ia&&(Na=null),rl=0,Ia=!1,25<=h)throw Error(s(301));if(h+=1,wt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=yy,d=i(a,l)}while(Ia);return d}function Cb(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?sl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),i}function kf(){var t=ic!==0;return ic=0,t}function Lf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Pf(t){if(nc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}nc=!1}qi=0,wt=Ze=Re=null,Ia=!1,rl=ic=0,Na=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Re.memoizedState=wt=t:wt=wt.next=t,wt}function yt(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=wt===null?Re.memoizedState:wt.next;if(i!==null)wt=i,Ze=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},wt===null?Re.memoizedState=wt=t:wt=wt.next=t}return wt}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var i=rl;return rl+=1,Na===null&&(Na=[]),t=wg(Na,t,i),i=Re,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?gy:Xf),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===re)return Ht(t)}throw Error(s(438,String(t)))}function Uf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=rc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Hi(t,i){return typeof i=="function"?i(t):i}function ac(t){var i=yt();return jf(i,Ze,t)}function jf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,D=null,B=i,$=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Oe&Z)===Z:(qi&Z)===Z){var q=B.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Aa&&($=!0);else if((qi&q)===q){B=B.next,q===Aa&&($=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=Z,_=d):D=D.next=Z,Re.lanes|=q,Dr|=q;Z=B.action,Ps&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else q={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=q,_=d):D=D.next=q,Re.lanes|=Z,Dr|=Z;B=B.next}while(B!==null&&B!==i);if(D===null?_=d:D.next=S,!gn(d,t.memoizedState)&&(Rt=!0,$&&(a=wa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zf(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);gn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Lg(t,i,a){var l=Re,h=yt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!gn((Ze||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,Hf(jg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Da(9,{destroy:void 0},Ug.bind(null,l,h,a,i),null),tt===null)throw Error(s(349));d||(qi&127)!==0||Pg(l,i,a)}return a}function Pg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=rc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ug(t,i,a,l){i.value=a,i.getSnapshot=l,zg(i)&&Bg(t)}function jg(t,i,a){return a(function(){zg(i)&&Bg(t)})}function zg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function Bg(t){var i=Cs(t,2);i!==null&&hn(i,t,2)}function Bf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Ps){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},i}function qg(t,i,a,l){return t.baseState=a,jf(t,Ze,typeof l=="function"?l:Hi)}function Ib(t,i,a,l,h){if(uc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Hg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Hg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var S=a(h,l),D=Y.S;D!==null&&D(_,S),Fg(t,i,S)}catch(B){qf(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),Fg(t,i,d)}catch(B){qf(t,i,B)}}function Fg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Gg(t,i,l)},function(l){return qf(t,i,l)}):Gg(t,i,a)}function Gg(t,i,a){i.status="fulfilled",i.value=a,Qg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Hg(t,a)))}function qf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Qg(i),i=i.next;while(i!==l)}t.action=null}function Qg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Kg(t,i){return i}function Yg(t,i){if(Pe){var a=tt.formState;if(a!==null){e:{var l=Re;if(Pe){if(rt){t:{for(var h=rt,d=kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=Pn(h.nextSibling),l=h.data==="F!";break e}}br(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:i},a.queue=l,a=dy.bind(null,Re,l),l.dispatch=a,l=Bf(!1),d=Yf.bind(null,Re,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Ib.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Xg(t){var i=yt();return $g(i,Ze,t)}function $g(t,i,a){if(i=jf(t,i,Kg)[0],t=ac(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=sl(i)}catch(_){throw _===Ra?$u:_}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Da(9,{destroy:void 0},Nb.bind(null,h,a),null)),[l,d,t]}function Nb(t,i){t.action=i}function Jg(t){var i=yt(),a=Ze;if(a!==null)return $g(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Da(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=rc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Zg(){return yt().memoizedState}function oc(t,i,a,l){var h=rn();Re.flags|=t,h.memoizedState=Da(1|i,{destroy:void 0},a,l===void 0?null:l)}function lc(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Mf(l,Ze.memoizedState.deps)?h.memoizedState=Da(i,d,a,l):(Re.flags|=t,h.memoizedState=Da(1|i,d,a,l))}function Wg(t,i){oc(8390656,8,t,i)}function Hf(t,i){lc(2048,8,t,i)}function Db(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=rc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function ey(t){var i=yt().memoizedState;return Db({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ty(t,i){return lc(4,2,t,i)}function ny(t,i){return lc(4,4,t,i)}function iy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ry(t,i,a){a=a!=null?a.concat([t]):null,lc(4,4,iy.bind(null,i,t),a)}function Ff(){}function sy(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Mf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ay(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Mf(i,l[1]))return l[0];if(l=t(),Ps){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function Gf(t,i,a){return a===void 0||(qi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=o_(),Re.lanes|=t,Dr|=t,a)}function oy(t,i,a,l){return gn(a,i)?a:Ca.current!==null?(t=Gf(t,a,l),gn(t,i)||(Rt=!0),t):(qi&42)===0||(qi&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=a):(t=o_(),Re.lanes|=t,Dr|=t,i)}function ly(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=Y.T,S={};Y.T=S,Yf(t,!1,i,a);try{var D=h(),B=Y.S;if(B!==null&&B(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=Rb(D,l);al(t,i,$,bn(t))}else al(t,i,l,bn(t))}catch(Z){al(t,i,{then:function(){},status:"rejected",reason:Z},bn())}finally{ae.p=d,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function Ob(){}function Qf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=uy(t).queue;ly(t,h,i,fe,a===null?Ob:function(){return cy(t),a(l)})}function uy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function cy(t){var i=uy(t);i.next===null&&(i=t.alternate.memoizedState),al(t,i.next.queue,{},bn())}function Kf(){return Ht(Sl)}function hy(){return yt().memoizedState}function fy(){return yt().memoizedState}function Mb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=wr(a);var l=Rr(i,t,a);l!==null&&(hn(l,i,a),tl(l,i,a)),i={cache:bf()},t.payload=i;return}i=i.return}}function Vb(t,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uc(t)?my(i,a):(a=hf(t,i,a,l),a!==null&&(hn(a,t,l),py(a,i,l)))}function dy(t,i,a){var l=bn();al(t,i,a,l)}function al(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(t))my(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,gn(S,_))return Hu(t,i,h,0),tt===null&&qu(),!1}catch{}if(a=hf(t,i,h,l),a!==null)return hn(a,t,l),py(a,i,l),!0}return!1}function Yf(t,i,a,l){if(l={lane:2,revertLane:Rd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(i)throw Error(s(479))}else i=hf(t,a,l,2),i!==null&&hn(i,t,2)}function uc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function my(t,i){Ia=nc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function py(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Co(t,a)}}var ol={readContext:Ht,use:sc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};ol.useEffectEvent=ft;var gy={readContext:Ht,use:sc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Wg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,oc(4194308,4,iy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return oc(4194308,4,t,i)},useInsertionEffect:function(t,i){oc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Ps){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Ps){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Vb.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Bf(t);var i=t.queue,a=dy.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ff,useDeferredValue:function(t,i){var a=rn();return Gf(a,t,i)},useTransition:function(){var t=Bf(!1);return t=ly.bind(null,Re,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=rn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Oe&127)!==0||Pg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Wg(jg.bind(null,l,d,t),[t]),l.flags|=2048,Da(9,{destroy:void 0},Ug.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=tt.identifierPrefix;if(Pe){var a=Ti,l=Ei;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ic++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=xb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Kf,useFormState:Yg,useActionState:Yg,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Yf.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Uf,useCacheRefresh:function(){return rn().memoizedState=Mb.bind(null,Re)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Xf={readContext:Ht,use:sc,useCallback:sy,useContext:Ht,useEffect:Hf,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ay,useReducer:ac,useRef:Zg,useState:function(){return ac(Hi)},useDebugValue:Ff,useDeferredValue:function(t,i){var a=yt();return oy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=ac(Hi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Lg,useId:hy,useHostTransitionStatus:Kf,useFormState:Xg,useActionState:Xg,useOptimistic:function(t,i){var a=yt();return qg(a,Ze,t,i)},useMemoCache:Uf,useCacheRefresh:fy};Xf.useEffectEvent=ey;var yy={readContext:Ht,use:sc,useCallback:sy,useContext:Ht,useEffect:Hf,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ay,useReducer:zf,useRef:Zg,useState:function(){return zf(Hi)},useDebugValue:Ff,useDeferredValue:function(t,i){var a=yt();return Ze===null?Gf(a,t,i):oy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=zf(Hi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Lg,useId:hy,useHostTransitionStatus:Kf,useFormState:Jg,useActionState:Jg,useOptimistic:function(t,i){var a=yt();return Ze!==null?qg(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:fy};yy.useEffectEvent=ey;function $f(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Jf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),h=wr(l);h.payload=i,a!=null&&(h.callback=a),i=Rr(t,h,l),i!==null&&(hn(i,t,l),tl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),h=wr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Rr(t,h,l),i!==null&&(hn(i,t,l),tl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=wr(a);l.tag=2,i!=null&&(l.callback=i),i=Rr(t,l,a),i!==null&&(hn(i,t,a),tl(i,t,a))}};function _y(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Ko(a,l)||!Ko(h,d):!0}function vy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Jf.enqueueReplaceState(i,i.state,null)}function Us(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ey(t){Bu(t)}function Ty(t){console.error(t)}function by(t){Bu(t)}function cc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Sy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zf(t,i,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){cc(t,i)},a}function Ay(t){return t=wr(t),t.tag=3,t}function wy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Sy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Sy(i,a,l),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function kb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Sa(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?bc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ju?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Sd(t,l,h)),!1;case 22:return a.flags|=65536,l===Ju?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Sd(t,l,h)),!1}throw Error(s(435,a.tag))}return Sd(t,l,h),bc(),!1}if(Pe)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==yf&&(t=Error(s(422),{cause:l}),$o(On(t,a)))):(l!==yf&&(i=Error(s(423),{cause:l}),$o(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=Zf(t.stateNode,l,h),Cf(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),pl===null?pl=[d]:pl.push(d),dt!==4&&(dt=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Zf(a.stateNode,l,t),Cf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ay(h),wy(h,t,a,l),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var Wf=Error(s(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?Ig(i,null,a,l):Ls(i,t.child,a,l)}function Ry(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Os(i),l=Vf(t,i,a,_,d,h),S=kf(),t!==null&&!Rt?(Lf(t,i,h),Fi(t,i,h)):(Pe&&S&&pf(i),i.flags|=1,Ft(t,i,l,h),i.child)}function xy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!ff(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Cy(t,i,d,l,h)):(t=Gu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!od(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(_,l)&&t.ref===i.ref)return Fi(t,i,h)}return i.flags|=1,t=Ui(d,l),t.ref=i.ref,t.return=i,i.child=t}function Cy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Ko(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,od(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Fi(t,i,h)}return ed(t,i,a,l,h)}function Iy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ny(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(i,d!==null?d.cachePool:null),d!==null?Og(i,d):Nf(),Mg(i);else return l=i.lanes=536870912,Ny(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Xu(i,d.cachePool),Og(i,d),Cr(),i.memoizedState=null):(t!==null&&Xu(i,null),Nf(),Cr());return Ft(t,i,h,a),i.child}function ll(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ny(t,i,a,l,h){var d=Af();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Xu(i,null),Nf(),Mg(i),t!==null&&Sa(t,i,l,!0),i.childLanes=h,null}function hc(t,i){return i=dc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Dy(t,i,a){return Ls(i,t.child,null,a),t=hc(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function Lb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=hc(i,l),i.lanes=536870912,ll(null,t);if(Of(i),(t=rt)?(t=H_(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Er!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=mg(t),a.return=i,i.child=a,qt=i,rt=null)):t=null,t===null)throw br(i);return i.lanes=536870912,null}return hc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Of(i),h)if(i.flags&256)i.flags&=-257,i=Dy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||Sa(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=tt,l!==null&&(_=Io(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Cs(t,_),hn(l,t,_),Wf;bc(),i=Dy(t,i,a)}else t=d.treeContext,rt=Pn(_.nextSibling),qt=i,Pe=!0,Tr=null,kn=!1,t!==null&&yg(i,t),i=hc(i,l),i.flags|=4096;return i}return t=Ui(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function fc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ed(t,i,a,l,h){return Os(i),a=Vf(t,i,a,l,void 0,h),l=kf(),t!==null&&!Rt?(Lf(t,i,h),Fi(t,i,h)):(Pe&&l&&pf(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Oy(t,i,a,l,h,d){return Os(i),i.updateQueue=null,a=kg(i,l,a,h),Vg(t),l=kf(),t!==null&&!Rt?(Lf(t,i,d),Fi(t,i,d)):(Pe&&l&&pf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function My(t,i,a,l,h){if(Os(i),i.stateNode===null){var d=va,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Rf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):va,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&($f(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Jf.enqueueReplaceState(d,d.state,null),il(i,l,d,h),nl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,D=Us(a,S);d.props=D;var B=d.context,$=a.contextType;_=va,typeof $=="object"&&$!==null&&(_=Ht($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&vy(i,d,l,_),Ar=!1;var q=i.memoizedState;d.state=q,il(i,l,d,h),nl(),B=i.memoizedState,S||q!==B||Ar?(typeof Z=="function"&&($f(i,a,Z,l),B=i.memoizedState),(D=Ar||_y(i,a,D,l,q,B,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,xf(t,i),_=i.memoizedProps,$=Us(a,_),d.props=$,Z=i.pendingProps,q=d.context,B=a.contextType,D=va,typeof B=="object"&&B!==null&&(D=Ht(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||q!==D)&&vy(i,d,l,D),Ar=!1,q=i.memoizedState,d.state=q,il(i,l,d,h),nl();var Q=i.memoizedState;_!==Z||q!==Q||Ar||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof S=="function"&&($f(i,a,S,l),Q=i.memoizedState),($=Ar||_y(i,a,$,l,q,Q,D)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=D,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,fc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ls(i,t.child,null,h),i.child=Ls(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Fi(t,i,h),t}function Vy(t,i,a,l){return Ns(),i.flags|=256,Ft(t,i,a,l),i.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nd(t){return{baseLanes:t,cachePool:Sg()}}function id(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function ky(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?xr(i):Cr(),(t=rt)?(t=H_(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Er!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=mg(t),a.return=i,i.child=a,qt=i,rt=null)):t=null,t===null)throw br(i);return jd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Cr(),h=i.mode,S=dc({mode:"hidden",children:S},h),l=Is(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=nd(a),l.childLanes=id(t,_,a),i.memoizedState=td,ll(null,l)):(xr(i),rd(i,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(d)i.flags&256?(xr(i),i.flags&=-257,i=sd(t,i,a)):i.memoizedState!==null?(Cr(),i.child=t.child,i.flags|=128,i=null):(Cr(),S=l.fallback,h=i.mode,l=dc({mode:"visible",children:l.children},h),S=Is(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Ls(i,t.child,null,a),l=i.child,l.memoizedState=nd(a),l.childLanes=id(t,_,a),i.memoizedState=td,i=ll(null,l));else if(xr(i),jd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,$o({value:l,source:null,stack:null}),i=sd(t,i,a)}else if(Rt||Sa(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=tt,_!==null&&(l=Io(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Cs(t,l),hn(_,t,l),Wf;Ud(S)||bc(),i=sd(t,i,a)}else Ud(S)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,rt=Pn(S.nextSibling),qt=i,Pe=!0,Tr=null,kn=!1,t!==null&&yg(i,t),i=rd(i,l.children),i.flags|=4096);return i}return h?(Cr(),S=l.fallback,h=i.mode,D=t.child,B=D.sibling,l=Ui(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?S=Ui(B,S):(S=Is(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,ll(null,l),l=i.child,S=t.child.memoizedState,S===null?S=nd(a):(h=S.cachePool,h!==null?(D=At._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Sg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=id(t,_,a),i.memoizedState=td,ll(t.child,l)):(xr(i),a=t.child,t=a.sibling,a=Ui(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function rd(t,i){return i=dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function dc(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function sd(t,i,a){return Ls(i,t.child,null,a),t=rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ly(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Ef(t.return,i,a)}function ad(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Py(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=gt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ie(gt,_),Ft(t,i,l,a),l=Pe?Xo:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ly(t,a,i);else if(t.tag===19)Ly(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&tc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ad(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&tc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ad(i,!0,a,null,d,l);break;case"together":ad(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Fi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Dr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Sa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ui(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ui(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function od(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function Pb(t,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),Sr(i,At,t.memoizedState.cache),Ns();break;case 27:case 5:cs(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:Sr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Of(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(xr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ky(t,i,a):(xr(i),t=Fi(t,i,a),t!==null?t.sibling:null);xr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Sa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Py(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(gt,gt.current),l)break;return null;case 22:return i.lanes=0,Iy(t,i,a,i.pendingProps);case 24:Sr(i,At,t.memoizedState.cache)}return Fi(t,i,a)}function Uy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!od(t,a)&&(i.flags&128)===0)return Rt=!1,Pb(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Pe&&(i.flags&1048576)!==0&&gg(i,Xo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Vs(i.elementType),i.type=t,typeof t=="function")ff(t)?(l=Us(t,l),i.tag=1,i=My(null,i,t,l,a)):(i.tag=0,i=ed(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ge){i.tag=11,i=Ry(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=xy(null,i,t,l,a);break e}}throw i=qe(t)||t,Error(s(306,i,""))}}return i;case 0:return ed(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Us(l,i.pendingProps),My(t,i,l,h,a);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,xf(t,i),il(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Sr(i,At,l),l!==d.cache&&Tf(i,[At],a,!0),nl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Vy(t,i,l,a);break e}else if(l!==h){h=On(Error(s(424)),i),$o(h),i=Vy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=Pn(t.firstChild),qt=i,Pe=!0,Tr=null,kn=!0,a=Ig(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ns(),l===h){i=Fi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return fc(t,i),t===null?(a=X_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=Ic(xe.current).createElement(a),l[Tt]=i,l[Lt]=t,Gt(l,a,t),bt(l),i.stateNode=l):i.memoizedState=X_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return cs(i),t===null&&Pe&&(l=i.stateNode=Q_(i.type,i.pendingProps,xe.current),qt=i,kn=!0,h=rt,Lr(i.type)?(zd=h,rt=Pn(l.firstChild)):rt=h),Ft(t,i,i.pendingProps.children,a),fc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=l=rt)&&(l=dS(l,i.type,i.pendingProps,kn),l!==null?(i.stateNode=l,qt=i,rt=Pn(l.firstChild),kn=!1,h=!0):h=!1),h||br(i)),cs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,kd(h,d)?l=null:_!==null&&kd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Vf(t,i,Cb,null,null,a),Sl._currentValue=h),fc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=rt)&&(a=mS(a,i.pendingProps,kn),a!==null?(i.stateNode=a,qt=i,rt=null,t=!0):t=!1),t||br(i)),null;case 13:return ky(t,i,a);case 4:return Dt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ls(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return Ry(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Sr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Os(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return xy(t,i,i.type,i.pendingProps,a);case 15:return Cy(t,i,i.type,i.pendingProps,a);case 19:return Py(t,i,a);case 31:return Lb(t,i,a);case 22:return Iy(t,i,a,i.pendingProps);case 24:return Os(i),l=Ht(At),t===null?(h=Af(),h===null&&(h=tt,d=bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Rf(i),Sr(i,At,h)):((t.lanes&a)!==0&&(xf(t,i),il(i,null,null,a),nl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Sr(i,At,l)):(l=d.cache,Sr(i,At,l),l!==h.cache&&Tf(i,[At],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gi(t){t.flags|=4}function ld(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(h_())t.flags|=8192;else throw ks=Ju,wf}else t.flags&=-16777217}function jy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ev(i))if(h_())t.flags|=8192;else throw ks=Ju,wf}function mc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Eu():536870912,t.lanes|=i,ka|=i)}function ul(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Ub(t,i,a){var l=i.pendingProps;switch(gf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Bi(At),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ba(i)?Gi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_f())),st(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Gi(i),d!==null?(st(i),jy(i,d)):(st(i),ld(i,h,null,l,a))):d?d!==t.memoizedState?(Gi(i),st(i),jy(i,d)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Gi(i),st(i),ld(i,h,t,l,a)),null;case 27:if(ea(i),a=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=le.current,ba(i)?_g(i):(t=Q_(h,l,a),i.stateNode=t,Gi(i))}return st(i),null;case 5:if(ea(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(d=le.current,ba(i))_g(i);else{var _=Ic(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Tt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Gi(i)}}return st(i),ld(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,ba(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||k_(t.nodeValue,a)),t||br(i,!0)}else t=Ic(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ba(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Ns(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=_f(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ba(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else Ns(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=_f(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),mc(i,i.updateQueue),st(i),null);case 4:return ot(),t===null&&Nd(i.stateNode.containerInfo),st(i),null;case 10:return Bi(i.type),st(i),null;case 19:if(H(gt),l=i.memoizedState,l===null)return st(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ul(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=tc(t),d!==null){for(i.flags|=128,ul(l,!1),t=d.updateQueue,i.updateQueue=t,mc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)dg(a,t),a=a.sibling;return ie(gt,gt.current&1|2),Pe&&ji(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>vc&&(i.flags|=128,h=!0,ul(l,!1),i.lanes=4194304)}else{if(!h)if(t=tc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,mc(i,t),ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return st(i),null}else 2*tn()-l.renderingStartTime>vc&&a!==536870912&&(i.flags|=128,h=!0,ul(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=gt.current,ie(gt,h?a&1|2:a&1),Pe&&ji(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return vn(i),Df(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&mc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&H(Ms),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(At),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function jb(t,i){switch(gf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Bi(At),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ea(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(s(340));Ns()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ns()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return H(gt),null;case 4:return ot(),null;case 10:return Bi(i.type),null;case 22:case 23:return vn(i),Df(),t!==null&&H(Ms),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Bi(At),null;case 25:return null;default:return null}}function zy(t,i){switch(gf(i),i.tag){case 3:Bi(At),ot();break;case 26:case 27:case 5:ea(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:H(gt);break;case 10:Bi(i.type);break;case 22:case 23:vn(i),Df(),t!==null&&H(Ms);break;case 24:Bi(At)}}function cl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Xe(i,i.return,S)}}function Ir(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var D=a,B=S;try{B()}catch($){Xe(h,D,$)}}}l=l.next}while(l!==d)}}catch($){Xe(i,i.return,$)}}function By(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Dg(i,a)}catch(l){Xe(t,t.return,l)}}}function qy(t,i,a){a.props=Us(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function hl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,i,h)}}function bi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function Hy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function ud(t,i,a){try{var l=t.stateNode;oS(l,t.type,a,i),l[Lt]=i}catch(h){Xe(t,t.return,h)}}function Fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Lr(t.type)||t.tag===4}function cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(l!==4&&(l===27&&Lr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(hd(t,i,a),t=t.sibling;t!==null;)hd(t,i,a),t=t.sibling}function pc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Lr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pc(t,i,a),t=t.sibling;t!==null;)pc(t,i,a),t=t.sibling}function Gy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[Tt]=t,i[Lt]=a}catch(d){Xe(t,t.return,d)}}var Qi=!1,xt=!1,fd=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function zb(t,i){if(t=t.containerInfo,Md=Lc,t=rg(t),sf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,D=-1,B=0,$=0,Z=t,q=null;t:for(;;){for(var Q;Z!==a||h!==0&&Z.nodeType!==3||(S=_+h),Z!==d||l!==0&&Z.nodeType!==3||(D=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)q=Z,Z=Q;for(;;){if(Z===t)break t;if(q===a&&++B===h&&(S=_),q===d&&++$===l&&(D=_),(Q=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=Q}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vd={focusedElem:t,selectionRange:a},Lc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Us(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Xe(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function Ky(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(t,a),l&4&&cl(5,a);break;case 1:if(Yi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=Us(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&By(a),l&512&&hl(a,a.return);break;case 3:if(Yi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Dg(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&Gy(a);case 26:case 5:Yi(t,a),i===null&&l&4&&Hy(a),l&512&&hl(a,a.return);break;case 12:Yi(t,a);break;case 31:Yi(t,a),l&4&&$y(t,a);break;case 13:Yi(t,a),l&4&&Jy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Xb.bind(null,a),pS(t,a))));break;case 22:if(l=a.memoizedState!==null||Qi,!l){i=i!==null&&i.memoizedState!==null||xt,h=Qi;var d=xt;Qi=l,(xt=i)&&!d?Xi(t,a,(a.subtreeFlags&8772)!==0):Yi(t,a),Qi=h,xt=d}break;case 30:break;default:Yi(t,a)}}function Yy(t){var i=t.alternate;i!==null&&(t.alternate=null,Yy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&sa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,on=!1;function Ki(t,i,a){for(a=a.child;a!==null;)Xy(t,i,a),a=a.sibling}function Xy(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:xt||bi(a,i),Ki(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||bi(a,i);var l=ut,h=on;Lr(a.type)&&(ut=a.stateNode,on=!1),Ki(t,i,a),El(a.stateNode),ut=l,on=h;break;case 5:xt||bi(a,i);case 6:if(l=ut,h=on,ut=null,Ki(t,i,a),ut=l,on=h,ut!==null)if(on)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:ut!==null&&(on?(t=ut,B_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ha(t)):B_(ut,a.stateNode));break;case 4:l=ut,h=on,ut=a.stateNode.containerInfo,on=!0,Ki(t,i,a),ut=l,on=h;break;case 0:case 11:case 14:case 15:Ir(2,a,i),xt||Ir(4,a,i),Ki(t,i,a);break;case 1:xt||(bi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qy(a,i,l)),Ki(t,i,a);break;case 21:Ki(t,i,a);break;case 22:xt=(l=xt)||a.memoizedState!==null,Ki(t,i,a),xt=l;break;default:Ki(t,i,a)}}function $y(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ha(t)}catch(a){Xe(i,i.return,a)}}}function Jy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ha(t)}catch(a){Xe(i,i.return,a)}}function Bb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Qy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Qy),i;default:throw Error(s(435,t.tag))}}function gc(t,i){var a=Bb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=$b.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Lr(S.type)){ut=S.stateNode,on=!1;break e}break;case 5:ut=S.stateNode,on=!1;break e;case 3:case 4:ut=S.stateNode.containerInfo,on=!0;break e}S=S.return}if(ut===null)throw Error(s(160));Xy(d,_,h),ut=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Zy(i,t),i=i.sibling}var Jn=null;function Zy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(Ir(3,t,t.return),cl(3,t),Ir(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(xt||a===null||bi(a,a.return)),l&64&&Qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Jn;if(ln(i,t),un(t),l&512&&(xt||a===null||bi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[li]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Tt]=t,bt(d),l=d;break e;case"link":var _=Z_("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Z_("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,bt(d),l=d}t.stateNode=l}else W_(h,t.type,t.stateNode);else t.stateNode=J_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?W_(h,t.type,t.stateNode):J_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ud(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(xt||a===null||bi(a,a.return)),a!==null&&l&4&&ud(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(xt||a===null||bi(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(ce){Xe(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ud(t,h,a!==null?a.memoizedProps:h)),l&1024&&(fd=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Xe(t,t.return,ce)}}break;case 3:if(Oc=null,h=Jn,Jn=Nc(i.containerInfo),ln(i,t),Jn=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(i.containerInfo)}catch(ce){Xe(t,t.return,ce)}fd&&(fd=!1,Wy(t));break;case 4:l=Jn,Jn=Nc(t.stateNode.containerInfo),ln(i,t),un(t),Jn=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_c=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=Qi,$=xt;if(Qi=B||h,xt=$||D,ln(i,t),xt=$,Qi=B,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Qi||xt||js(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var Z=D.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){Xe(D,D.return,ce)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ce){Xe(D,D.return,ce)}}}else if(i.tag===18){if(a===null){D=i;try{var Q=D.stateNode;h?q_(Q,!0):q_(D.stateNode,!1)}catch(ce){Xe(D,D.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gc(t,a))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Fy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=cd(t);pc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var S=cd(t);pc(t,S,_);break;case 3:case 4:var D=a.stateNode.containerInfo,B=cd(t);hd(t,B,D);break;default:throw Error(s(161))}}catch($){Xe(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Wy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Wy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Yi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ky(t,i.alternate,i),i=i.sibling}function js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ir(4,i,i.return),js(i);break;case 1:bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&qy(i,i.return,a),js(i);break;case 27:El(i.stateNode);case 26:case 5:bi(i,i.return),js(i);break;case 22:i.memoizedState===null&&js(i);break;case 30:js(i);break;default:js(i)}t=t.sibling}}function Xi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Xi(h,d,a),cl(4,d);break;case 1:if(Xi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Xe(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Ng(D[h],S)}catch(B){Xe(l,l.return,B)}}a&&_&64&&By(d),hl(d,d.return);break;case 27:Gy(d);case 26:case 5:Xi(h,d,a),a&&l===null&&_&4&&Hy(d),hl(d,d.return);break;case 12:Xi(h,d,a);break;case 31:Xi(h,d,a),a&&_&4&&$y(h,d);break;case 13:Xi(h,d,a),a&&_&4&&Jy(h,d);break;case 22:d.memoizedState===null&&Xi(h,d,a),hl(d,d.return);break;case 30:break;default:Xi(h,d,a)}i=i.sibling}}function dd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Jo(a))}function md(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t))}function Zn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e_(t,i,a,l),i=i.sibling}function e_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(t,i,a,l),h&2048&&cl(9,i);break;case 1:Zn(t,i,a,l);break;case 3:Zn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t)));break;case 12:if(h&2048){Zn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Xe(i,i.return,D)}}else Zn(t,i,a,l);break;case 31:Zn(t,i,a,l);break;case 13:Zn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(t,i,a,l):fl(t,i):d._visibility&2?Zn(t,i,a,l):(d._visibility|=2,Oa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&dd(_,i);break;case 24:Zn(t,i,a,l),h&2048&&md(i.alternate,i);break;default:Zn(t,i,a,l)}}function Oa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Oa(d,_,S,D,h),cl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Oa(d,_,S,D,h):fl(d,_):($._visibility|=2,Oa(d,_,S,D,h)),h&&B&2048&&dd(_.alternate,_);break;case 24:Oa(d,_,S,D,h),h&&B&2048&&md(_.alternate,_);break;default:Oa(d,_,S,D,h)}i=i.sibling}}function fl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:fl(a,l),h&2048&&dd(l.alternate,l);break;case 24:fl(a,l),h&2048&&md(l.alternate,l);break;default:fl(a,l)}i=i.sibling}}var dl=8192;function Ma(t,i,a){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)t_(t,i,a),t=t.sibling}function t_(t,i,a){switch(t.tag){case 26:Ma(t,i,a),t.flags&dl&&t.memoizedState!==null&&xS(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:Ma(t,i,a);break;case 3:case 4:var l=Jn;Jn=Nc(t.stateNode.containerInfo),Ma(t,i,a),Jn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=dl,dl=16777216,Ma(t,i,a),dl=l):Ma(t,i,a));break;default:Ma(t,i,a)}}function n_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,r_(l,t)}n_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)i_(t),t=t.sibling}function i_(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&Ir(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,yc(t)):ml(t);break;default:ml(t)}}function yc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,r_(l,t)}n_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ir(8,i,i.return),yc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,yc(i));break;default:yc(i)}t=t.sibling}}function r_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ir(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(Yy(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var qb={getCacheForType:function(t){var i=Ht(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(At).controller.signal}},Hb=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,Ne=null,Oe=0,Ye=0,En=null,Nr=!1,Va=!1,pd=!1,$i=0,dt=0,Dr=0,zs=0,gd=0,Tn=0,ka=0,pl=null,cn=null,yd=!1,_c=0,s_=0,vc=1/0,Ec=null,Or=null,Mt=0,Mr=null,La=null,Ji=0,_d=0,vd=null,a_=null,gl=0,Ed=null;function bn(){return(Ge&2)!==0&&Oe!==0?Oe&-Oe:Y.T!==null?Rd():Tu()}function o_(){if(Tn===0)if((Oe&536870912)===0||Pe){var t=ds;ds<<=1,(ds&3932160)===0&&(ds=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function hn(t,i,a){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),Vr(t,Oe,Tn,!1)),ms(t,a),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(zs|=a),dt===4&&Vr(t,Oe,Tn,!1)),Si(t))}function l_(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||qn(t,i),h=l?Qb(t,i):bd(t,i,!0),d=l;do{if(h===0){Va&&!l&&Vr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Fb(a)){h=bd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=pl;var D=S.current.memoizedState.isDehydrated;if(D&&(Pa(S,_).flags|=256),_=bd(S,_,!1),_!==2){if(pd&&!D){S.errorRecoveryDisabledLanes|=d,zs|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Pa(t,0),Vr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Vr(l,i,Tn,!Nr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=_c+300-tn(),10<h)){if(Vr(l,i,Tn,!Nr),si(l,0,!0)!==0)break e;Ji=i,l.timeoutHandle=j_(u_.bind(null,l,a,cn,Ec,yd,i,Tn,zs,ka,Nr,d,"Throttled",-0,0),h);break e}u_(l,a,cn,Ec,yd,i,Tn,zs,ka,Nr,d,null,-0,0)}}break}while(!0);Si(t)}function u_(t,i,a,l,h,d,_,S,D,B,$,Z,q,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},t_(i,d,Z);var ce=(d&62914560)===d?_c-tn():(d&4194048)===d?s_-tn():0;if(ce=CS(Z,ce),ce!==null){Ji=d,t.cancelPendingCommit=ce(y_.bind(null,t,i,d,a,l,h,_,S,D,$,Z,null,q,Q)),Vr(t,d,_,!B);return}}y_(t,i,d,a,l,h,_,S,D)}function Fb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vr(t,i,a,l){i&=~gd,i&=~zs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-mt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ps(t,a,i)}function Tc(){return(Ge&6)===0?(yl(0),!1):!0}function Td(){if(Ne!==null){if(Ye===0)var t=Ne.return;else t=Ne,zi=Ds=null,Pf(t),xa=null,Wo=0,t=Ne;for(;t!==null;)zy(t.alternate,t),t=t.return;Ne=null}}function Pa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,cS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ji=0,Td(),tt=t,Ne=a=Ui(t.current,null),Oe=i,Ye=0,En=null,Nr=!1,Va=qn(t,i),pd=!1,ka=Tn=gd=zs=Dr=dt=0,cn=pl=null,yd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-mt(l),d=1<<h;i|=t[h],l&=~d}return $i=i,qu(),a}function c_(t,i){Re=null,Y.H=ol,i===Ra||i===$u?(i=Rg(),Ye=3):i===wf?(i=Rg(),Ye=4):Ye=i===Wf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Ne===null&&(dt=1,cc(t,On(i,t.current)))}function h_(){var t=_n.current;return t===null?!0:(Oe&4194048)===Oe?Ln===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Ln:!1}function f_(){var t=Y.H;return Y.H=ol,t===null?ol:t}function d_(){var t=Y.A;return Y.A=qb,t}function bc(){dt=4,Nr||(Oe&4194048)!==Oe&&_n.current!==null||(Va=!0),(Dr&134217727)===0&&(zs&134217727)===0||tt===null||Vr(tt,Oe,Tn,!1)}function bd(t,i,a){var l=Ge;Ge|=2;var h=f_(),d=d_();(tt!==t||Oe!==i)&&(Ec=null,Pa(t,i)),i=!1;var _=dt;e:do try{if(Ye!==0&&Ne!==null){var S=Ne,D=En;switch(Ye){case 8:Td(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var B=Ye;if(Ye=0,En=null,Ua(t,S,D,B),a&&Va){_=0;break e}break;default:B=Ye,Ye=0,En=null,Ua(t,S,D,B)}}Gb(),_=dt;break}catch($){c_(t,$)}while(!0);return i&&t.shellSuspendCounter++,zi=Ds=null,Ge=l,Y.H=h,Y.A=d,Ne===null&&(tt=null,Oe=0,qu()),_}function Gb(){for(;Ne!==null;)m_(Ne)}function Qb(t,i){var a=Ge;Ge|=2;var l=f_(),h=d_();tt!==t||Oe!==i?(Ec=null,vc=tn()+500,Pa(t,i)):Va=qn(t,i);e:do try{if(Ye!==0&&Ne!==null){i=Ne;var d=En;t:switch(Ye){case 1:Ye=0,En=null,Ua(t,i,d,1);break;case 2:case 9:if(Ag(d)){Ye=0,En=null,p_(i);break}i=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),Si(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Ag(d)?(Ye=0,En=null,p_(i)):(Ye=0,En=null,Ua(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(_?ev(_):S.stateNode.complete){Ye=0,En=null;var D=S.sibling;if(D!==null)Ne=D;else{var B=S.return;B!==null?(Ne=B,Sc(B)):Ne=null}break t}}Ye=0,En=null,Ua(t,i,d,5);break;case 6:Ye=0,En=null,Ua(t,i,d,6);break;case 8:Td(),dt=6;break e;default:throw Error(s(462))}}Kb();break}catch($){c_(t,$)}while(!0);return zi=Ds=null,Y.H=l,Y.A=h,Ge=a,Ne!==null?0:(tt=null,Oe=0,qu(),dt)}function Kb(){for(;Ne!==null&&!Jh();)m_(Ne)}function m_(t){var i=Uy(t.alternate,t,$i);t.memoizedProps=t.pendingProps,i===null?Sc(t):Ne=i}function p_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Oy(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=Oy(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Pf(i);default:zy(a,i),i=Ne=dg(i,$i),i=Uy(a,i,$i)}t.memoizedProps=t.pendingProps,i===null?Sc(t):Ne=i}function Ua(t,i,a,l){zi=Ds=null,Pf(i),xa=null,Wo=0;var h=i.return;try{if(kb(t,h,i,a,Oe)){dt=1,cc(t,On(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;dt=1,cc(t,On(a,t.current)),Ne=null;return}i.flags&32768?(Pe||l===1?t=!0:Va||(Oe&536870912)!==0?t=!1:(Nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),g_(i,t)):Sc(i)}function Sc(t){var i=t;do{if((i.flags&32768)!==0){g_(i,Nr);return}t=i.return;var a=Ub(i.alternate,i,$i);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);dt===0&&(dt=5)}function g_(t,i){do{var a=jb(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);dt=6,Ne=null}function y_(t,i,a,l,h,d,_,S,D){t.cancelPendingCommit=null;do Ac();while(Mt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=cf,ef(t,a,d,_,S,D),t===tt&&(Ne=tt=null,Oe=0),La=i,Mr=t,Ji=a,_d=d,vd=h,a_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Jb(cr,function(){return b_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=ae.p,ae.p=2,_=Ge,Ge|=4;try{zb(t,i,a)}finally{Ge=_,ae.p=h,Y.T=l}}Mt=1,__(),v_(),E_()}}function __(){if(Mt===1){Mt=0;var t=Mr,i=La,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{Zy(i,t);var d=Vd,_=rg(t.containerInfo),S=d.focusedElem,D=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&ig(S.ownerDocument.documentElement,S)){if(D!==null&&sf(S)){var B=D.start,$=D.end;if($===void 0&&($=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min($,S.value.length);else{var Z=S.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var Q=q.getSelection(),ce=S.textContent.length,pe=Math.min(D.start,ce),et=D.end===void 0?pe:Math.min(D.end,ce);!Q.extend&&pe>et&&(_=et,et=pe,pe=_);var L=ng(S,pe),V=ng(S,et);if(L&&V&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var z=Z.createRange();z.setStart(L.node,L.offset),Q.removeAllRanges(),pe>et?(Q.addRange(z),Q.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),Q.addRange(z))}}}}for(Z=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var J=Z[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Lc=!!Md,Vd=Md=null}finally{Ge=h,ae.p=l,Y.T=a}}t.current=i,Mt=2}}function v_(){if(Mt===2){Mt=0;var t=Mr,i=La,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{Ky(t,i.alternate,i)}finally{Ge=h,ae.p=l,Y.T=a}}Mt=3}}function E_(){if(Mt===4||Mt===3){Mt=0,mu();var t=Mr,i=La,a=Ji,l=a_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,La=Mr=null,T_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Or=null),Vi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=ae.p,ae.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Y.T=i,ae.p=h}}(Ji&3)!==0&&Ac(),Si(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ed?gl++:(gl=0,Ed=t):gl=0,yl(0)}}function T_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Jo(i)))}function Ac(){return __(),v_(),E_(),b_()}function b_(){if(Mt!==5)return!1;var t=Mr,i=_d;_d=0;var a=Vi(Ji),l=Y.T,h=ae.p;try{ae.p=32>a?32:a,Y.T=null,a=vd,vd=null;var d=Mr,_=Ji;if(Mt=0,La=Mr=null,Ji=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,i_(d.current),e_(d,d.current,_,a),Ge=S,yl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{ae.p=h,Y.T=l,T_(t,i)}}function S_(t,i,a){i=On(a,i),i=Zf(t.stateNode,i,2),t=Rr(t,i,2),t!==null&&(ms(t,2),Si(t))}function Xe(t,i,a){if(t.tag===3)S_(t,t,a);else for(;i!==null;){if(i.tag===3){S_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Or===null||!Or.has(l))){t=On(a,t),a=Ay(2),l=Rr(i,a,2),l!==null&&(wy(a,l,i,t),ms(l,2),Si(l));break}}i=i.return}}function Sd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Hb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(pd=!0,h.add(a),t=Yb.bind(null,t,i,a),i.then(t,t))}function Yb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Oe&a)===a&&(dt===4||dt===3&&(Oe&62914560)===Oe&&300>tn()-_c?(Ge&2)===0&&Pa(t,0):gd|=a,ka===Oe&&(ka=0)),Si(t)}function A_(t,i){i===0&&(i=Eu()),t=Cs(t,i),t!==null&&(ms(t,i),Si(t))}function Xb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),A_(t,a)}function $b(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),A_(t,a)}function Jb(t,i){return Ot(t,i)}var wc=null,ja=null,Ad=!1,Rc=!1,wd=!1,kr=0;function Si(t){t!==ja&&t.next===null&&(ja===null?wc=ja=t:ja=ja.next=t),Rc=!0,Ad||(Ad=!0,Wb())}function yl(t,i){if(!wd&&Rc){wd=!0;do for(var a=!1,l=wc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,C_(l,d))}else d=Oe,d=si(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||qn(l,d)||(a=!0,C_(l,d));l=l.next}while(a);wd=!1}}function Zb(){w_()}function w_(){Rc=Ad=!1;var t=0;kr!==0&&uS()&&(t=kr);for(var i=tn(),a=null,l=wc;l!==null;){var h=l.next,d=R_(l,i);d===0?(l.next=null,a===null?wc=h:a.next=h,h===null&&(ja=a)):(a=l,(t!==0||(d&3)!==0)&&(Rc=!0)),l=h}Mt!==0&&Mt!==5||yl(t),kr!==0&&(kr=0)}function R_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),S=1<<_,D=h[_];D===-1?((S&a)===0||(S&l)!==0)&&(h[_]=Wh(S,i)):D<=i&&(t.expiredLanes|=S),d&=~S}if(i=tt,a=Oe,a=si(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ur(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ur(l),Vi(a)){case 2:case 8:a=xo;break;case 32:a=cr;break;case 268435456:a=pu;break;default:a=cr}return l=x_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ur(l),t.callbackPriority=2,t.callbackNode=null,2}function x_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var l=Oe;return l=si(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(l_(t,l,i),R_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?x_.bind(null,t):null)}function C_(t,i){if(Ac())return null;l_(t,i,!0)}function Wb(){hS(function(){(Ge&6)!==0?Ot(Ro,Zb):w_()})}function Rd(){if(kr===0){var t=Aa;t===0&&(t=ii,ii<<=1,(ii&261888)===0&&(ii=256)),kr=t}return kr}function I_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ua(""+t)}function N_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function eS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=I_((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?I_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new gi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(kr!==0){var D=_?N_(h,_):new FormData(h);Qf(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=_?N_(h,_):new FormData(h),Qf(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var xd=0;xd<uf.length;xd++){var Cd=uf[xd],tS=Cd.toLowerCase(),nS=Cd[0].toUpperCase()+Cd.slice(1);$n(tS,"on"+nS)}$n(og,"onAnimationEnd"),$n(lg,"onAnimationIteration"),$n(ug,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(_b,"onTransitionRun"),$n(vb,"onTransitionStart"),$n(Eb,"onTransitionCancel"),$n(cg,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function D_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,B=S.currentTarget;if(S=S.listener,D!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch($){Bu($)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,B=S.currentTarget,S=S.listener,D!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch($){Bu($)}h.currentTarget=null,d=D}}}}function De(t,i){var a=i[ra];a===void 0&&(a=i[ra]=new Set);var l=t+"__bubble";a.has(l)||(O_(i,t,2,!1),a.add(l))}function Id(t,i,a){var l=0;i&&(l|=4),O_(a,t,l,i)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[xc]){t[xc]=!0,No.forEach(function(a){a!=="selectionchange"&&(iS.has(a)||Id(a,!1,t),Id(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[xc]||(i[xc]=!0,Id("selectionchange",!1,i))}}function O_(t,i,a,l){switch(ov(i)){case 2:var h=DS;break;case 8:h=OS;break;default:h=Gd}a=h.bind(null,i,a,t),h=void 0,!Es||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Dd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=ui(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}S=S.parentNode}}l=l.return}gr(function(){var B=d,$=Cn(a),Z=[];e:{var q=hg.get(t);if(q!==void 0){var Q=gi,ce=t;switch(t){case"keypress":if(bs(a)===0)break e;case"keydown":case"keyup":Q=Uu;break;case"focusin":ce="focus",Q=As;break;case"focusout":ce="blur",Q=As;break;case"beforeblur":case"afterblur":Q=As;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=p;break;case og:case lg:case ug:Q=Du;break;case cg:Q=A;break;case"scroll":case"scrollend":Q=qo;break;case"wheel":Q=F;break;case"copy":case"cut":case"paste":Q=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Pi;break;case"toggle":case"beforetoggle":Q=we}var pe=(i&4)!==0,et=!pe&&(t==="scroll"||t==="scrollend"),L=pe?q!==null?q+"Capture":null:q;pe=[];for(var V=B,z;V!==null;){var J=V;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||L===null||(J=Qn(V,L),J!=null&&pe.push(vl(V,J,z))),et)break;V=V.return}0<pe.length&&(q=new Q(q,ce,null,a,$),Z.push({event:q,listeners:pe}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&a!==jo&&(ce=a.relatedTarget||a.fromElement)&&(ui(ce)||ce[oi]))break e;if((Q||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(ce=a.relatedTarget||a.toElement,Q=B,ce=ce?ui(ce):null,ce!==null&&(et=u(ce),pe=ce.tag,ce!==et||pe!==5&&pe!==27&&pe!==6)&&(ce=null)):(Q=null,ce=B),Q!==ce)){if(pe=Ho,J="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Pi,J="onPointerLeave",L="onPointerEnter",V="pointer"),et=Q==null?q:mn(Q),z=ce==null?q:mn(ce),q=new pe(J,V+"leave",Q,a,$),q.target=et,q.relatedTarget=z,J=null,ui($)===B&&(pe=new pe(L,V+"enter",ce,a,$),pe.target=z,pe.relatedTarget=et,J=pe),et=J,Q&&ce)t:{for(pe=rS,L=Q,V=ce,z=0,J=L;J;J=pe(J))z++;J=0;for(var de=V;de;de=pe(de))J++;for(;0<z-J;)L=pe(L),z--;for(;0<J-z;)V=pe(V),J--;for(;z--;){if(L===V||V!==null&&L===V.alternate){pe=L;break t}L=pe(L),V=pe(V)}pe=null}else pe=null;Q!==null&&M_(Z,q,Q,pe,!1),ce!==null&&et!==null&&M_(Z,et,ce,pe,!0)}}e:{if(q=B?mn(B):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var ze=$p;else if(Yp(q))if(Jp)ze=pb;else{ze=db;var he=fb}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&la(B.elementType)&&(ze=$p):ze=mb;if(ze&&(ze=ze(t,B))){Xp(Z,ze,a,$);break e}he&&he(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Lo(q,"number",q.value)}switch(he=B?mn(B):window,t){case"focusin":(Yp(he)||he.contentEditable==="true")&&(ga=he,af=B,Yo=null);break;case"focusout":Yo=af=ga=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,sg(Z,a,$);break;case"selectionchange":if(yb)break;case"keydown":case"keyup":sg(Z,a,$)}var Ce;if(Fe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else pa?ws(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(vi&&a.locale!=="ko"&&(pa||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&pa&&(Ce=Bo()):(pi=$,zo="value"in pi?pi.value:pi.textContent,pa=!0)),he=Cc(B,Me),0<he.length&&(Me=new _i(Me,t,null,a,$),Z.push({event:Me,listeners:he}),Ce?Me.data=Ce:(Ce=ma(a),Ce!==null&&(Me.data=Ce)))),(Ce=Nn?lb(t,a):ub(t,a))&&(Me=Cc(B,"onBeforeInput"),0<Me.length&&(he=new _i("onBeforeInput","beforeinput",null,a,$),Z.push({event:he,listeners:Me}),he.data=Ce)),eS(Z,t,B,a,$)}D_(Z,i)})}function vl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Cc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,a),h!=null&&l.unshift(vl(t,h,d)),h=Qn(t,i),h!=null&&l.push(vl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function rS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function M_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,D=S.alternate,B=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||B===null||(D=B,h?(B=Qn(a,d),B!=null&&_.unshift(vl(a,B,D))):h||(B=Qn(a,d),B!=null&&_.push(vl(a,B,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var sS=/\r\n?/g,aS=/\u0000|\uFFFD/g;function V_(t){return(typeof t=="string"?t:""+t).replace(sS,`
`).replace(aS,"")}function k_(t,i){return i=V_(i),V_(t)===i}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":Uo(t,l,d);break;case"data":if(i!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ua(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ua(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ua(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),aa(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":aa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cu.get(a)||a,aa(t,a,l))}}function Od(t,i,a,l,h,d){switch(a){case"style":Uo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Do.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):aa(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,_,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var S=d=_=h=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":D=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:We(t,i,l,$,a,null)}}wu(t,d,S,D,B,_,h,!1);return;case"select":De("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:We(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?fr(t,!!l,i,!1):a!=null&&fr(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:We(t,i,_,S,a,null)}dr(t,l,h,d);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,i,D,l,a,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)De(_l[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,B,l,a,null)}return;default:if(la(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Od(t,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&We(t,i,S,l,a,null))}function oS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,D=null,B=null,$=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=Z;default:l.hasOwnProperty(Q)||We(t,i,Q,null,l,Z)}}for(var q in l){var Q=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(Q!=null||Z!=null))switch(q){case"type":d=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==Z&&We(t,i,q,Q,l,Z)}}oa(t,_,S,D,B,$,d,h);return;case"select":Q=_=S=q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(d)||We(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==D&&We(t,i,h,d,l,D)}i=S,a=_,l=Q,q!=null?fr(t,!!a,q,!1):!!l!=!!a&&(i!=null?fr(t,!!a,i,!0):fr(t,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,_,h,l,d)}Ru(t,q,Q);return;case"option":for(var ce in a)q=a[ce],a.hasOwnProperty(ce)&&q!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:We(t,i,ce,null,l,q));for(D in l)q=l[D],Q=a[D],l.hasOwnProperty(D)&&q!==Q&&(q!=null||Q!=null)&&(D==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":We(t,i,D,q,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)q=a[pe],a.hasOwnProperty(pe)&&q!=null&&!l.hasOwnProperty(pe)&&We(t,i,pe,null,l,q);for(B in l)if(q=l[B],Q=a[B],l.hasOwnProperty(B)&&q!==Q&&(q!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:We(t,i,B,q,l,Q)}return;default:if(la(i)){for(var et in a)q=a[et],a.hasOwnProperty(et)&&q!==void 0&&!l.hasOwnProperty(et)&&Od(t,i,et,void 0,l,q);for($ in l)q=l[$],Q=a[$],!l.hasOwnProperty($)||q===Q||q===void 0&&Q===void 0||Od(t,i,$,q,l,Q);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&We(t,i,L,null,l,q);for(Z in l)q=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||q===Q||q==null&&Q==null||We(t,i,Z,q,l,Q)}function L_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&L_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>S)break;var $=D.transferSize,Z=D.initiatorType;$&&L_(Z)&&(D=D.responseEnd,_+=$*(D<S?1:(S-B)/(D-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Md=null,Vd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function P_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function kd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ld=null;function uS(){var t=window.event;return t&&t.type==="popstate"?t===Ld?!1:(Ld=t,!0):(Ld=null,!1)}var j_=typeof setTimeout=="function"?setTimeout:void 0,cS=typeof clearTimeout=="function"?clearTimeout:void 0,z_=typeof Promise=="function"?Promise:void 0,hS=typeof queueMicrotask=="function"?queueMicrotask:typeof z_<"u"?function(t){return z_.resolve(null).then(t).catch(fS)}:j_;function fS(t){setTimeout(function(){throw t})}function Lr(t){return t==="head"}function B_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ha(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")El(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,El(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[li]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&El(t.ownerDocument.body);a=h}while(a);Ha(i)}function q_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Pd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function dS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[li])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function mS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function H_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function Ud(t){return t.data==="$?"||t.data==="$~"}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function pS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var zd=null;function F_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function G_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Q_(t,i,a){switch(i=Ic(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function El(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);sa(t)}var Un=new Map,K_=new Set;function Nc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=ae.d;ae.d={f:gS,r:yS,D:_S,C:vS,L:ES,m:TS,X:SS,S:bS,M:AS};function gS(){var t=Zi.f(),i=Tc();return t||i}function yS(t){var i=xn(t);i!==null&&i.tag===5&&i.type==="form"?cy(i):Zi.r(t)}var za=typeof document>"u"?null:document;function Y_(t,i,a){var l=za;if(l&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),K_.has(h)||(K_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),bt(i),l.head.appendChild(i)))}}function _S(t){Zi.D(t),Y_("dns-prefetch",t,null)}function vS(t,i){Zi.C(t,i),Y_("preconnect",t,i)}function ES(t,i,a){Zi.L(t,i,a);var l=za;if(l&&t&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(i){case"style":d=Ba(t);break;case"script":d=qa(t)}Un.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Tl(d))||i==="script"&&l.querySelector(bl(d))||(i=l.createElement("link"),Gt(i,"link",t),bt(i),l.head.appendChild(i)))}}function TS(t,i){Zi.m(t,i);var a=za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=qa(t)}if(!Un.has(d)&&(t=b({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),Gt(l,"link",t),bt(l),a.head.appendChild(l)}}}function bS(t,i,a){Zi.S(t,i,a);var l=za;if(l&&t){var h=ci(l).hoistableStyles,d=Ba(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Tl(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&Bd(t,a);var D=_=l.createElement("link");bt(D),Gt(D,"link",t),D._p=new Promise(function(B,$){D.onload=B,D.onerror=$}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Dc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function SS(t,i){Zi.X(t,i);var a=za;if(a&&t){var l=ci(a).hoistableScripts,h=qa(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=b({src:t,async:!0},i),(i=Un.get(h))&&qd(t,i),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function AS(t,i){Zi.M(t,i);var a=za;if(a&&t){var l=ci(a).hoistableScripts,h=qa(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&qd(t,i),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function X_(t,i,a,l){var h=(h=xe.current)?Nc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ba(a.href),a=ci(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ba(a.href);var d=ci(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Tl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||wS(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qa(a),a=ci(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ba(t){return'href="'+sn(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function $_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function wS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),bt(i),t.head.appendChild(i))}function qa(t){return'[src="'+sn(t)+'"]'}function bl(t){return"script[async]"+t}function J_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Gt(l,"style",h),Dc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ba(a.href);var d=t.querySelector(Tl(h));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=$_(a),(h=Un.get(h))&&Bd(l,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var _=d;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Gt(d,"link",l),i.state.loading|=4,Dc(d,a.precedence,t),i.instance=d;case"script":return d=qa(a.src),(h=t.querySelector(bl(d)))?(i.instance=h,bt(h),h):(l=a,(h=Un.get(d))&&(l=b({},a),qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Dc(l,a.precedence,t));return i.instance}function Dc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Bd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Oc=null;function Z_(t,i,a){if(Oc===null){var l=new Map,h=Oc=new Map;h.set(a,l)}else h=Oc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[li]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function W_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function RS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function xS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ba(l.href),d=i.querySelector(Tl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Mc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,l=$_(l),(h=Un.get(h))&&Bd(l,h),d=d.createElement("link"),bt(d);var _=d;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Mc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Hd=0;function CS(t,i){return t.stylesheets&&t.count===0&&kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Hd===0&&(Hd=62500*lS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Hd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,i.forEach(IS,t),Vc=null,Mc.call(t))}function IS(t,i){if(!(i.state.loading&4)){var a=Vc.get(t);if(a)var l=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Sl={$$typeof:re,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function NS(t,i,a,l,h,d,_,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function tv(t,i,a,l,h,d,_,S,D,B,$,Z){return t=new NS(t,i,a,_,D,B,$,Z,S),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=bf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Rf(d),t}function nv(t){return t?(t=va,t):va}function iv(t,i,a,l,h,d){h=nv(h),l.context===null?l.context=h:l.pendingContext=h,l=wr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Rr(t,l,i),a!==null&&(hn(a,t,i),tl(a,t,i))}function rv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Fd(t,i){rv(t,i),(t=t.alternate)&&rv(t,i)}function sv(t){if(t.tag===13||t.tag===31){var i=Cs(t,67108864);i!==null&&hn(i,t,67108864),Fd(t,67108864)}}function av(t){if(t.tag===13||t.tag===31){var i=bn();i=gs(i);var a=Cs(t,i);a!==null&&hn(a,t,i),Fd(t,i)}}var Lc=!0;function DS(t,i,a,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=2,Gd(t,i,a,l)}finally{ae.p=d,Y.T=h}}function OS(t,i,a,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=8,Gd(t,i,a,l)}finally{ae.p=d,Y.T=h}}function Gd(t,i,a,l){if(Lc){var h=Qd(l);if(h===null)Dd(t,i,l,Pc,a),lv(t,l);else if(VS(h,t,i,a,l))l.stopPropagation();else if(lv(t,l),i&4&&-1<MS.indexOf(t)){for(;h!==null;){var d=xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ri(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-mt(_);S.entanglements[1]|=D,_&=~D}Si(d),(Ge&6)===0&&(vc=tn()+500,yl(0))}}break;case 31:case 13:S=Cs(d,2),S!==null&&hn(S,d,2),Tc(),Fd(d,2)}if(d=Qd(l),d===null&&Dd(t,i,l,Pc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Dd(t,i,l,null,a)}}function Qd(t){return t=Cn(t),Kd(t)}var Pc=null;function Kd(t){if(Pc=null,t=ui(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Pc=t,null}function ov(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fs()){case Ro:return 2;case xo:return 8;case cr:case Zh:return 32;case pu:return 268435456;default:return 32}default:return 32}}var Yd=!1,Pr=null,Ur=null,jr=null,Al=new Map,wl=new Map,zr=[],MS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lv(t,i){switch(t){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(i.pointerId)}}function Rl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=xn(i),i!==null&&sv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function VS(t,i,a,l,h){switch(i){case"focusin":return Pr=Rl(Pr,t,i,a,l,h),!0;case"dragenter":return Ur=Rl(Ur,t,i,a,l,h),!0;case"mouseover":return jr=Rl(jr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Al.set(d,Rl(Al.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,Rl(wl.get(d)||null,t,i,a,l,h)),!0}return!1}function uv(t){var i=ui(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){av(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){av(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);jo=l,a.target.dispatchEvent(l),jo=null}else return i=xn(a),i!==null&&sv(i),t.blockedOn=a,!1;i.shift()}return!0}function cv(t,i,a){Uc(t)&&a.delete(i)}function kS(){Yd=!1,Pr!==null&&Uc(Pr)&&(Pr=null),Ur!==null&&Uc(Ur)&&(Ur=null),jr!==null&&Uc(jr)&&(jr=null),Al.forEach(cv),wl.forEach(cv)}function jc(t,i){t.blockedOn===i&&(t.blockedOn=null,Yd||(Yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kS)))}var zc=null;function hv(t){zc!==t&&(zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Kd(l||a)===null)continue;break}var d=xn(a);d!==null&&(t.splice(i,3),i-=3,Qf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ha(t){function i(D){return jc(D,t)}Pr!==null&&jc(Pr,t),Ur!==null&&jc(Ur,t),jr!==null&&jc(jr,t),Al.forEach(i),wl.forEach(i);for(var a=0;a<zr.length;a++){var l=zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)uv(a),a.blockedOn===null&&zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||hv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)S=_.formAction;else if(Kd(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),hv(a)}}}function fv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Xd(t){this._internalRoot=t}Bc.prototype.render=Xd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();iv(a,l,t,i,null,null)},Bc.prototype.unmount=Xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;iv(t.current,2,null,t,null,null),Tc(),i[oi]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Tu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<zr.length&&i!==0&&i<zr[a].priority;a++);zr.splice(a,0,t),a===0&&uv(t)}};var dv=e.version;if(dv!=="19.2.4")throw Error(s(527,dv,"19.2.4"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var LS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{Bn=qc.inject(LS),zt=qc}catch{}}return Cl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ey,d=Ty,_=by;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=tv(t,1,!1,null,null,a,l,null,h,d,_,fv),t[oi]=i.current,Nd(t),new Xd(i)},Cl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ey,_=Ty,S=by,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=tv(t,1,!0,i,a??null,l,h,D,d,_,S,fv),i.context=nv(null),a=i.current,l=bn(),l=gs(l),h=wr(l),h.callback=null,Rr(a,h,l),a=l,i.current.lanes=a,ms(i,a),Si(i),t[oi]=i.current,Nd(t),new Bc(i)},Cl.version="19.2.4",Cl}var Sv;function KS(){if(Sv)return Zd.exports;Sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zd.exports=QS(),Zd.exports}var YS=KS();const XS=fE(YS);var Av="popstate";function $S(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return _m("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:ql(o)}return ZS(e,n,null,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Di(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JS(){return Math.random().toString(36).substring(2,10)}function wv(r,e){return{usr:r.state,key:r.key,idx:e}}function _m(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ho(e):e,state:n,key:e&&e.key||s||JS()}}function ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ho(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function ZS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let G=E(),te=G==null?null:G-g;g=G,y&&y({action:m,location:X.location,delta:te})}function x(G,te){m="PUSH";let ne=_m(X.location,G,te);g=E()+1;let re=wv(ne,g),ge=X.createHref(ne);try{f.pushState(re,"",ge)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;o.location.assign(ge)}u&&y&&y({action:m,location:X.location,delta:1})}function P(G,te){m="REPLACE";let ne=_m(X.location,G,te);g=E();let re=wv(ne,g),ge=X.createHref(ne);f.replaceState(re,"",ge),u&&y&&y({action:m,location:X.location,delta:0})}function K(G){return WS(G)}let X={get action(){return m},get location(){return r(o,f)},listen(G){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Av,b),y=G,()=>{o.removeEventListener(Av,b),y=null}},createHref(G){return e(o,G)},createURL:K,encodeLocation(G){let te=K(G);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:x,replace:P,go(G){return f.go(G)}};return X}function WS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ql(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function dE(r,e,n="/"){return eA(r,e,n,!1)}function eA(r,e,n,s){let o=typeof e=="string"?ho(e):e,u=nr(o.pathname||"/",n);if(u==null)return null;let f=mE(r);tA(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let g=fA(u);m=cA(f[y],g,s)}return m}function mE(r,e=[],n=[],s="",o=!1){let u=(f,m,y=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;ct(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=tr([s,E.relativePath]),x=n.concat(E);f.children&&f.children.length>0&&(ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),mE(f.children,e,x,b,y)),!(f.path==null&&!f.index)&&e.push({path:b,score:lA(b,f.index),routesMeta:x})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let y of pE(f.path))u(f,m,!0,y)}),e}function pE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=pE(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function tA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:uA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var nA=/^:[\w-]+$/,iA=3,rA=2,sA=1,aA=10,oA=-2,Rv=r=>r==="*";function lA(r,e){let n=r.split("/"),s=n.length;return n.some(Rv)&&(s+=oA),e&&(s+=rA),n.filter(o=>!Rv(o)).reduce((o,u)=>o+(nA.test(u)?iA:u===""?sA:aA),s)}function uA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function cA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=lh({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},E),x=y.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=lh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:tr([u,b.pathname]),pathnameBase:gA(tr([u,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(u=tr([u,b.pathnameBase]))}return f}function lh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=hA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},x)=>{if(E==="*"){let K=m[x]||"";f=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const P=m[x];return b&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function hA(r,e=!1,n=!0){Di(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function fA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Di(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function nr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var dA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function mA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ho(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=xv(n.substring(1),"/"):u=xv(n,e)):u=e,{pathname:u,search:yA(s),hash:_A(o)}}function xv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function nm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gE(r){let e=pA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function yE(r,e,n,s=!1){let o;typeof r=="string"?o=ho(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),nm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),nm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),nm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),b-=1;o.pathname=x.join("/")}m=b>=0?e[b]:"/"}let y=mA(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||E)&&(y.pathname+="/"),y}var tr=r=>r.join("/").replace(/\/\/+/g,"/"),gA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),yA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,_A=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,vA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function EA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function TA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vE(r,e){let n=r;if(typeof n!="string"||!dA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(_E)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=nr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Di(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var EE=["POST","PUT","PATCH","DELETE"];new Set(EE);var bA=["GET",...EE];new Set(bA);var fo=j.createContext(null);fo.displayName="DataRouter";var Ch=j.createContext(null);Ch.displayName="DataRouterState";var SA=j.createContext(!1),TE=j.createContext({isTransitioning:!1});TE.displayName="ViewTransition";var AA=j.createContext(new Map);AA.displayName="Fetchers";var wA=j.createContext(null);wA.displayName="Await";var zn=j.createContext(null);zn.displayName="Navigation";var Wl=j.createContext(null);Wl.displayName="Location";var Mi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var Qm=j.createContext(null);Qm.displayName="RouteError";var bE="REACT_ROUTER_ERROR",RA="REDIRECT",xA="ROUTE_ERROR_RESPONSE";function CA(r){if(r.startsWith(`${bE}:${RA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function IA(r){if(r.startsWith(`${bE}:${xA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new vA(e.status,e.statusText,e.data)}catch{}}function NA(r,{relative:e}={}){ct(eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(zn),{hash:o,pathname:u,search:f}=tu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:tr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function eu(){return j.useContext(Wl)!=null}function os(){return ct(eu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Wl).location}var SE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AE(r){j.useContext(zn).static||j.useLayoutEffect(r)}function DA(){let{isDataRoute:r}=j.useContext(Mi);return r?QA():OA()}function OA(){ct(eu(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(fo),{basename:e,navigator:n}=j.useContext(zn),{matches:s}=j.useContext(Mi),{pathname:o}=os(),u=JSON.stringify(gE(s)),f=j.useRef(!1);return AE(()=>{f.current=!0}),j.useCallback((y,g={})=>{if(Di(f.current,SE),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=yE(y,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:tr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}var MA=j.createContext(null);function VA(r){let e=j.useContext(Mi).outlet;return j.useMemo(()=>e&&j.createElement(MA.Provider,{value:r},e),[e,r])}function tu(r,{relative:e}={}){let{matches:n}=j.useContext(Mi),{pathname:s}=os(),o=JSON.stringify(gE(n));return j.useMemo(()=>yE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function kA(r,e){return wE(r,e)}function wE(r,e,n,s,o){ct(eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(zn),{matches:f}=j.useContext(Mi),m=f[f.length-1],y=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let ne=b&&b.path||"";xE(g,!b||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let x=os(),P;if(e){let ne=typeof e=="string"?ho(e):e;ct(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),P=ne}else P=x;let K=P.pathname||"/",X=K;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");X="/"+K.replace(/^\//,"").split("/").slice(ne.length).join("/")}let G=dE(r,{pathname:X});Di(b||G!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Di(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=zA(G&&G.map(ne=>Object.assign({},ne,{params:Object.assign({},y,ne.params),pathname:tr([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:tr([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,s,o);return e&&te?j.createElement(Wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},te):te}function LA(){let r=GA(),e=EA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,f)}var PA=j.createElement(LA,null),RE=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=IA(r.digest);n&&(r=n)}let e=r!==void 0?j.createElement(Mi.Provider,{value:this.props.routeContext},j.createElement(Qm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?j.createElement(UA,{error:r},e):e}};RE.contextType=SA;var im=new WeakMap;function UA({children:r,error:e}){let{basename:n}=j.useContext(zn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=CA(e.digest);if(s){let o=im.get(e);if(o)throw o;let u=vE(s.location,n);if(_E&&!im.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw im.set(e,f),f}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function jA({routeContext:r,match:e,children:n}){let s=j.useContext(fo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Mi.Provider,{value:r},n)}function zA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);ct(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,y=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(y=E),b.route.id){let{loaderData:x,errors:P}=n,K=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!P||P[b.route.id]===void 0);if(b.route.lazy||K){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let g=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:TA(n.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,x)=>{let P,K=!1,X=null,G=null;n&&(P=f&&b.route.id?f[b.route.id]:void 0,X=b.route.errorElement||PA,m&&(y<0&&x===0?(xE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,G=null):y===x&&(K=!0,G=b.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,x+1)),ne=()=>{let re;return P?re=X:K?re=G:b.route.Component?re=j.createElement(b.route.Component,null):b.route.element?re=b.route.element:re=E,j.createElement(jA,{match:b,routeContext:{outlet:E,matches:te,isDataRoute:n!=null},children:re})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?j.createElement(RE,{location:n.location,revalidation:n.revalidation,component:X,error:P,children:ne(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:g}):ne()},null)}function Km(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BA(r){let e=j.useContext(fo);return ct(e,Km(r)),e}function qA(r){let e=j.useContext(Ch);return ct(e,Km(r)),e}function HA(r){let e=j.useContext(Mi);return ct(e,Km(r)),e}function Ym(r){let e=HA(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function FA(){return Ym("useRouteId")}function GA(){let r=j.useContext(Qm),e=qA("useRouteError"),n=Ym("useRouteError");return r!==void 0?r:e.errors?.[n]}function QA(){let{router:r}=BA("useNavigate"),e=Ym("useNavigate"),n=j.useRef(!1);return AE(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{Di(n.current,SE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Cv={};function xE(r,e,n){!e&&!Cv[r]&&(Cv[r]=!0,Di(!1,n))}j.memo(KA);function KA({routes:r,future:e,state:n,onError:s}){return wE(r,void 0,n,s,e)}function YA(r){return VA(r.context)}function Fr(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ct(!eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),y=j.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=ho(n));let{pathname:g="/",search:E="",hash:b="",state:x=null,key:P="default"}=n,K=j.useMemo(()=>{let X=nr(g,m);return X==null?null:{location:{pathname:X,search:E,hash:b,state:x,key:P},navigationType:s}},[m,g,E,b,x,P,s]);return Di(K!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:j.createElement(zn.Provider,{value:y},j.createElement(Wl.Provider,{children:e,value:K}))}function $A({children:r,location:e}){return kA(vm(r),e)}function vm(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,vm(s.props.children,u));return}ct(s.type===Fr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=vm(s.props.children,u)),n.push(f)}),n}var $c="get",Jc="application/x-www-form-urlencoded";function Ih(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function JA(r){return Ih(r)&&r.tagName.toLowerCase()==="button"}function ZA(r){return Ih(r)&&r.tagName.toLowerCase()==="form"}function WA(r){return Ih(r)&&r.tagName.toLowerCase()==="input"}function ew(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function tw(r,e){return r.button===0&&(!e||e==="_self")&&!ew(r)}var Hc=null;function nw(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}var iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rm(r){return r!=null&&!iw.has(r)?(Di(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jc}"`),null):r}function rw(r,e){let n,s,o,u,f;if(ZA(r)){let m=r.getAttribute("action");s=m?nr(m,e):null,n=r.getAttribute("method")||$c,o=rm(r.getAttribute("enctype"))||Jc,u=new FormData(r)}else if(JA(r)||WA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(s=y?nr(y,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||$c,o=rm(r.getAttribute("formenctype"))||rm(m.getAttribute("enctype"))||Jc,u=new FormData(m,r),!nw()){let{name:g,type:E,value:b}=r;if(E==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,b)}}else{if(Ih(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$c,s=null,o=Jc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function sw(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&nr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function aw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ow(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function lw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await aw(u,n);return f.links?f.links():[]}return[]}));return fw(s.flat(1).filter(ow).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Iv(r,e,n,s,o,u){let f=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,m=(y,g)=>n[g].pathname!==y.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,g)=>f(y,g)||m(y,g)):u==="data"?e.filter((y,g)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let b=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function uw(r,e,{includeHydrateFallback:n}={}){return cw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function cw(r){return[...new Set(r)]}function hw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function fw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(hw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function CE(){let r=j.useContext(fo);return Xm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function dw(){let r=j.useContext(Ch);return Xm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var $m=j.createContext(void 0);$m.displayName="FrameworkContext";function IE(){let r=j.useContext($m);return Xm(r,"You must render this element inside a <HydratedRouter> element"),r}function mw(r,e){let n=j.useContext($m),[s,o]=j.useState(!1),[u,f]=j.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,x=j.useRef(null);j.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=te=>{te.forEach(ne=>{f(ne.isIntersecting)})},G=new IntersectionObserver(X,{threshold:.5});return x.current&&G.observe(x.current),()=>{G.disconnect()}}},[r]),j.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let P=()=>{o(!0)},K=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:Il(m,P),onBlur:Il(y,K),onMouseEnter:Il(g,P),onMouseLeave:Il(E,K),onTouchStart:Il(b,P)}]:[!1,x,{}]}function Il(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function pw({page:r,...e}){let{router:n}=CE(),s=j.useMemo(()=>dE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(yw,{page:r,matches:s,...e}):null}function gw(r){let{manifest:e,routeModules:n}=IE(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return lw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function yw({page:r,matches:e,...n}){let s=os(),{future:o,manifest:u,routeModules:f}=IE(),{basename:m}=CE(),{loaderData:y,matches:g}=dw(),E=j.useMemo(()=>Iv(r,e,g,u,s,"data"),[r,e,g,u,s]),b=j.useMemo(()=>Iv(r,e,g,u,s,"assets"),[r,e,g,u,s]),x=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let X=new Set,G=!1;if(e.forEach(ne=>{let re=u.routes[ne.route.id];!re||!re.hasLoader||(!E.some(ge=>ge.route.id===ne.route.id)&&ne.route.id in y&&f[ne.route.id]?.shouldRevalidate||re.hasClientLoader?G=!0:X.add(ne.route.id))}),X.size===0)return[];let te=sw(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return G&&X.size>0&&te.searchParams.set("_routes",e.filter(ne=>X.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[te.pathname+te.search]},[m,o.unstable_trailingSlashAwareDataRequests,y,s,u,E,e,r,f]),P=j.useMemo(()=>uw(b,u),[b,u]),K=gw(b);return j.createElement(j.Fragment,null,x.map(X=>j.createElement("link",{key:X,rel:"prefetch",as:"fetch",href:X,...n})),P.map(X=>j.createElement("link",{key:X,rel:"modulepreload",href:X,...n})),K.map(({key:X,link:G})=>j.createElement("link",{key:X,nonce:n.nonce,...G,crossOrigin:G.crossOrigin??n.crossOrigin})))}function _w(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vw&&(window.__reactRouterVersion="7.13.0")}catch{}function Ew({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=j.useRef();o.current==null&&(o.current=$S({window:s,v5Compat:!0}));let u=o.current,[f,m]=j.useState({action:u.action,location:u.location}),y=j.useCallback(g=>{n===!1?m(g):j.startTransition(()=>m(g))},[n]);return j.useLayoutEffect(()=>u.listen(y),[u,y]),j.createElement(XA,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var NE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nh=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:x,...P},K){let{basename:X,unstable_useTransitions:G}=j.useContext(zn),te=typeof g=="string"&&NE.test(g),ne=vE(g,X);g=ne.to;let re=NA(g,{relative:o}),[ge,Te,Ee]=mw(s,P),I=Aw(g,{replace:f,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:G});function R(M){e&&e(M),M.defaultPrevented||I(M)}let w=j.createElement("a",{...P,...Ee,href:ne.absoluteURL||re,onClick:ne.isExternal||u?e:R,ref:_w(K,Te),target:y,"data-discover":!te&&n==="render"?"true":void 0});return ge&&!te?j.createElement(j.Fragment,null,w,j.createElement(pw,{page:re})):w});Nh.displayName="Link";var Tw=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,...g},E){let b=tu(f,{relative:g.relative}),x=os(),P=j.useContext(Ch),{navigator:K,basename:X}=j.useContext(zn),G=P!=null&&Iw(b)&&m===!0,te=K.encodeLocation?K.encodeLocation(b).pathname:b.pathname,ne=x.pathname,re=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),re=re?re.toLowerCase():null,te=te.toLowerCase()),re&&X&&(re=nr(re,X)||re);const ge=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let Te=ne===te||!o&&ne.startsWith(te)&&ne.charAt(ge)==="/",Ee=re!=null&&(re===te||!o&&re.startsWith(te)&&re.charAt(te.length)==="/"),I={isActive:Te,isPending:Ee,isTransitioning:G},R=Te?e:void 0,w;typeof s=="function"?w=s(I):w=[s,Te?"active":null,Ee?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return j.createElement(Nh,{...g,"aria-current":R,className:w,ref:E,style:M,to:f,viewTransition:m},typeof y=="function"?y(I):y)});Tw.displayName="NavLink";var bw=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=$c,action:m,onSubmit:y,relative:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:x,...P},K)=>{let{unstable_useTransitions:X}=j.useContext(zn),G=xw(),te=Cw(m,{relative:g}),ne=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&NE.test(m),ge=Te=>{if(y&&y(Te),Te.defaultPrevented)return;Te.preventDefault();let Ee=Te.nativeEvent.submitter,I=Ee?.getAttribute("formmethod")||f,R=()=>G(Ee||Te.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:x});X&&n!==!1?j.startTransition(()=>R()):R()};return j.createElement("form",{ref:K,method:ne,action:te,onSubmit:s?y:ge,...P,"data-discover":!re&&r==="render"?"true":void 0})});bw.displayName="Form";function Sw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DE(r){let e=j.useContext(fo);return ct(e,Sw(r)),e}function Aw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y}={}){let g=DA(),E=os(),b=tu(r,{relative:u});return j.useCallback(x=>{if(tw(x,e)){x.preventDefault();let P=n!==void 0?n:ql(E)===ql(b),K=()=>g(r,{replace:P,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});y?j.startTransition(()=>K()):K()}},[E,g,b,n,s,e,r,o,u,f,m,y])}var ww=0,Rw=()=>`__${String(++ww)}__`;function xw(){let{router:r}=DE("useSubmit"),{basename:e}=j.useContext(zn),n=FA(),s=r.fetch,o=r.navigate;return j.useCallback(async(u,f={})=>{let{action:m,method:y,encType:g,formData:E,body:b}=rw(u,e);if(f.navigate===!1){let x=f.fetcherKey||Rw();await s(x,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||y,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||y,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function Cw(r,{relative:e}={}){let{basename:n}=j.useContext(zn),s=j.useContext(Mi);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...tu(r||".",{relative:e})},f=os();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:tr([n,u.pathname])),ql(u)}function Iw(r,{relative:e}={}){let n=j.useContext(TE);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DE("useViewTransitionState"),o=tu(r,{relative:e});if(!n.isTransitioning)return!1;let u=nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return lh(o.pathname,f)!=null||lh(o.pathname,u)!=null}const OE=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const Nw=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Dw=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const Nv=r=>{const e=Dw(r);return e.charAt(0).toUpperCase()+e.slice(1)};var Ow={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mw=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Vw=j.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},y)=>j.createElement("svg",{ref:y,...Ow,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:OE("lucide",o),...!u&&!Mw(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>j.createElement(g,E)),...Array.isArray(u)?u:[u]]));const $e=(r,e)=>{const n=j.forwardRef(({className:s,...o},u)=>j.createElement(Vw,{ref:u,iconNode:e,className:OE(`lucide-${Nw(Nv(r))}`,`lucide-${r}`,s),...o}));return n.displayName=Nv(r),n};const kw=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Lw=$e("arrow-up-right",kw);const Pw=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Uw=$e("banknote",Pw);const jw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ME=$e("calendar",jw);const zw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Bw=$e("circle-alert",zw);const qw=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Dv=$e("coins",qw);const Hw=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Fw=$e("database",Hw);const Gw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Jm=$e("download",Gw);const Qw=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Kw=$e("funnel",Qw);const Yw=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Xw=$e("history",Yw);const $w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Jw=$e("info",$w);const Zw=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Ww=$e("landmark",Zw);const e2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],t2=$e("layout-dashboard",e2);const n2=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Dh=$e("package",n2);const i2=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ov=$e("pen-line",i2);const r2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zm=$e("plus",r2);const s2=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],a2=$e("receipt",s2);const o2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],l2=$e("refresh-cw",o2);const u2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],c2=$e("search",u2);const h2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],f2=$e("settings",h2);const d2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],m2=$e("shield-check",d2);const p2=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Wm=$e("shopping-bag",p2);const g2=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Mv=$e("shopping-cart",g2);const y2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],VE=$e("trash-2",y2);const _2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],kE=$e("trending-up",_2);const v2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],LE=$e("triangle-alert",v2);const E2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],T2=$e("upload",E2);const b2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vv=$e("user",b2);const S2=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],PE=$e("wallet",S2);const A2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ep=$e("x",A2);function w2(){const r=os(),e=[{to:"/",icon:T.jsx(t2,{size:20}),label:"Dashboard"},{to:"/inventory",icon:T.jsx(Dh,{size:20}),label:"Stock"},{to:"/orders",icon:T.jsx(Wm,{size:20}),label:"Orders"},{to:"/expenses",icon:T.jsx(a2,{size:20}),label:"Expenses"},{to:"/finances",icon:T.jsx(PE,{size:20}),label:"Finances"},{to:"/settings",icon:T.jsx(f2,{size:20}),label:"Settings"}];return T.jsxs("div",{className:"flex h-screen w-full bg-[#F8FAFC]",children:[T.jsxs("aside",{className:"hidden md:flex w-64 bg-[#0F172A] text-white flex-col shrink-0 shadow-2xl",children:[T.jsxs("div",{className:"p-8 text-xl font-black border-b border-slate-800 tracking-tighter uppercase",children:["Ricollections ",T.jsx("span",{className:"text-[#ED985F]",children:"Store"})]}),T.jsx("nav",{className:"flex-1 p-4 space-y-2 mt-4",children:e.map(n=>T.jsx(R2,{to:n.to,icon:n.icon,label:n.label,active:r.pathname===n.to},n.to))})]}),T.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-around items-center px-2 py-3 z-50 shadow-[0_-4px_10px_rgba(0,0,0,0.05)]",children:e.map(n=>{const s=r.pathname===n.to;return T.jsxs(Nh,{to:n.to,className:`flex flex-col items-center gap-1 transition-colors ${s?"text-[#ED985F]":"text-slate-400"}`,children:[n.icon,T.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:n.label})]},n.to)})}),T.jsx("main",{className:"flex-1 overflow-y-auto p-6 md:p-10 pb-24 md:pb-10",children:T.jsx("div",{className:"max-w-6xl mx-auto",children:T.jsx(YA,{})})})]})}function R2({to:r,icon:e,label:n,active:s}){return T.jsxs(Nh,{to:r,className:`flex items-center gap-3 p-3 rounded-xl transition-all ${s?"bg-[#ED985F] text-[#0F172A] font-bold":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[e," ",n]})}const x2=()=>{};var kv={};const UE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},C2=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},jE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,P=g&63;y||(P=64,f||(x=64)),s.push(n[E],n[b],n[x],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(UE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):C2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new I2;const x=u<<2|m>>4;if(s.push(x),g!==64){const P=m<<4&240|g>>2;if(s.push(P),b!==64){const K=g<<6&192|b;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class I2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N2=function(r){const e=UE(r);return jE.encodeByteArray(e,!0)},uh=function(r){return N2(r).replace(/\./g,"")},zE=function(r){try{return jE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function D2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const O2=()=>D2().__FIREBASE_DEFAULTS__,M2=()=>{if(typeof process>"u"||typeof kv>"u")return;const r=kv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},V2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&zE(r[1]);return e&&JSON.parse(e)},Oh=()=>{try{return x2()||O2()||M2()||V2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},BE=r=>Oh()?.emulatorHosts?.[r],k2=r=>{const e=BE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},qE=()=>Oh()?.config,HE=r=>Oh()?.[`_${r}`];class L2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function mo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function FE(r){return(await fetch(r,{credentials:"include"})).ok}function P2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[uh(JSON.stringify(n)),uh(JSON.stringify(f)),""].join(".")}const Ll={};function U2(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?r.emulator.push(e):r.prod.push(e);return r}function j2(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Lv=!1;function GE(r,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Ll[r]===e||Ll[r]||Lv)return;Ll[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=U2().prod.length>0;function f(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,P){x.setAttribute("width","24"),x.setAttribute("id",P),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Lv=!0,f()},x}function E(x,P){x.setAttribute("id",P),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=j2(s),P=n("text"),K=document.getElementById(P)||document.createElement("span"),X=n("learnmore"),G=document.getElementById(X)||document.createElement("a"),te=n("preprendIcon"),ne=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const re=x.element;m(re),E(G,X);const ge=g();y(ne,te),re.append(ne,K,G,ge),document.body.appendChild(re)}u?(K.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function B2(){const r=Oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function H2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function F2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G2(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Q2(){return!B2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K2(){try{return typeof indexedDB=="object"}catch{return!1}}function Y2(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const X2="FirebaseError";class lr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=X2,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?$2(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new lr(o,m,s)}}function $2(r,e){return r.replace(J2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const J2=/\{\$([^}]+)}/g;function Z2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ks(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Pv(u)&&Pv(f)){if(!Ks(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Pv(r){return r!==null&&typeof r=="object"}function iu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function W2(r,e){const n=new eR(r,e);return n.subscribe.bind(n)}class eR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");tR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=sm),o.error===void 0&&(o.error=sm),o.complete===void 0&&(o.complete=sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function sm(){}function Yt(r){return r&&r._delegate?r._delegate:r}class Ys{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bs="[DEFAULT]";class nR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new L2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rR(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iR(r){return r===Bs?void 0:r}function rR(r){return r.instantiationMode==="EAGER"}class sR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const aR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},oR=Ve.INFO,lR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},uR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=lR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tp{constructor(e){this.name=e,this._logLevel=oR,this._logHandler=uR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const cR=(r,e)=>e.some(n=>r instanceof n);let Uv,jv;function hR(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fR(){return jv||(jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QE=new WeakMap,Em=new WeakMap,KE=new WeakMap,am=new WeakMap,np=new WeakMap;function dR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n($r(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&QE.set(n,r)}).catch(()=>{}),np.set(e,r),e}function mR(r){if(Em.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Em.set(r,e)}let Tm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Em.get(r);if(e==="objectStoreNames")return r.objectStoreNames||KE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function pR(r){Tm=r(Tm)}function gR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(om(this),e,...n);return KE.set(s,e.sort?e.sort():[e]),$r(s)}:fR().includes(r)?function(...e){return r.apply(om(this),e),$r(QE.get(this))}:function(...e){return $r(r.apply(om(this),e))}}function yR(r){return typeof r=="function"?gR(r):(r instanceof IDBTransaction&&mR(r),cR(r,hR())?new Proxy(r,Tm):r)}function $r(r){if(r instanceof IDBRequest)return dR(r);if(am.has(r))return am.get(r);const e=yR(r);return e!==r&&(am.set(r,e),np.set(e,r)),e}const om=r=>np.get(r);function _R(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=$r(f);return s&&f.addEventListener("upgradeneeded",y=>{s($r(f.result),y.oldVersion,y.newVersion,$r(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const vR=["get","getKey","getAll","getAllKeys","count"],ER=["put","add","delete","clear"],lm=new Map;function zv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=ER.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||vR.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return lm.set(e,u),u}pR(r=>({...r,get:(e,n,s)=>zv(e,n)||r.get(e,n,s),has:(e,n)=>!!zv(e,n)||r.has(e,n)}));class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function bR(r){return r.getComponent()?.type==="VERSION"}const bm="@firebase/app",Bv="0.14.7";const ir=new tp("@firebase/app"),SR="@firebase/app-compat",AR="@firebase/analytics-compat",wR="@firebase/analytics",RR="@firebase/app-check-compat",xR="@firebase/app-check",CR="@firebase/auth",IR="@firebase/auth-compat",NR="@firebase/database",DR="@firebase/data-connect",OR="@firebase/database-compat",MR="@firebase/functions",VR="@firebase/functions-compat",kR="@firebase/installations",LR="@firebase/installations-compat",PR="@firebase/messaging",UR="@firebase/messaging-compat",jR="@firebase/performance",zR="@firebase/performance-compat",BR="@firebase/remote-config",qR="@firebase/remote-config-compat",HR="@firebase/storage",FR="@firebase/storage-compat",GR="@firebase/firestore",QR="@firebase/ai",KR="@firebase/firestore-compat",YR="firebase",XR="12.8.0";const Sm="[DEFAULT]",$R={[bm]:"fire-core",[SR]:"fire-core-compat",[wR]:"fire-analytics",[AR]:"fire-analytics-compat",[xR]:"fire-app-check",[RR]:"fire-app-check-compat",[CR]:"fire-auth",[IR]:"fire-auth-compat",[NR]:"fire-rtdb",[DR]:"fire-data-connect",[OR]:"fire-rtdb-compat",[MR]:"fire-fn",[VR]:"fire-fn-compat",[kR]:"fire-iid",[LR]:"fire-iid-compat",[PR]:"fire-fcm",[UR]:"fire-fcm-compat",[jR]:"fire-perf",[zR]:"fire-perf-compat",[BR]:"fire-rc",[qR]:"fire-rc-compat",[HR]:"fire-gcs",[FR]:"fire-gcs-compat",[GR]:"fire-fst",[KR]:"fire-fst-compat",[QR]:"fire-vertex","fire-js":"fire-js",[YR]:"fire-js-all"};const ch=new Map,JR=new Map,Am=new Map;function qv(r,e){try{r.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function no(r){const e=r.name;if(Am.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;Am.set(e,r);for(const n of ch.values())qv(n,r);for(const n of JR.values())qv(n,r);return!0}function ip(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function wi(r){return r==null?!1:r.settings!==void 0}const ZR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new nu("app","Firebase",ZR);class WR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const po=XR;function YE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Sm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Jr.create("bad-app-name",{appName:String(o)});if(n||(n=qE()),!n)throw Jr.create("no-options");const u=ch.get(o);if(u){if(Ks(n,u.options)&&Ks(s,u.config))return u;throw Jr.create("duplicate-app",{appName:o})}const f=new sR(o);for(const y of Am.values())f.addComponent(y);const m=new WR(n,s,f);return ch.set(o,m),m}function XE(r=Sm){const e=ch.get(r);if(!e&&r===Sm&&qE())return YE();if(!e)throw Jr.create("no-app",{appName:r});return e}function Zr(r,e,n){let s=$R[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(f.join(" "));return}no(new Ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const ex="firebase-heartbeat-database",tx=1,Hl="firebase-heartbeat-store";let um=null;function $E(){return um||(um=_R(ex,tx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Jr.create("idb-open",{originalErrorMessage:r.message})})),um}async function nx(r){try{const n=(await $E()).transaction(Hl),s=await n.objectStore(Hl).get(JE(r));return await n.done,s}catch(e){if(e instanceof lr)ir.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e?.message});ir.warn(n.message)}}}async function Hv(r,e){try{const s=(await $E()).transaction(Hl,"readwrite");await s.objectStore(Hl).put(e,JE(r)),await s.done}catch(n){if(n instanceof lr)ir.warn(n.message);else{const s=Jr.create("idb-set",{originalErrorMessage:n?.message});ir.warn(s.message)}}}function JE(r){return`${r.name}!${r.options.appId}`}const ix=1024,rx=30;class sx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ox(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Fv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>rx){const o=lx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ir.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fv(),{heartbeatsToSend:n,unsentEntries:s}=ax(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ir.warn(e),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function ax(r,e=ix){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Gv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Gv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ox{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K2()?Y2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Hv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Hv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Gv(r){return uh(JSON.stringify({version:2,heartbeats:r})).length}function lx(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function ux(r){no(new Ys("platform-logger",e=>new TR(e),"PRIVATE")),no(new Ys("heartbeat",e=>new sx(e),"PRIVATE")),Zr(bm,Bv,r),Zr(bm,Bv,"esm2020"),Zr("fire-js","")}ux("");var cx="firebase",hx="12.8.0";Zr(cx,hx,"app");var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wr,ZE;(function(){var r;function e(I,R){function w(){}w.prototype=R.prototype,I.F=R.prototype,I.prototype=new w,I.prototype.constructor=I,I.D=function(M,O,k){for(var N=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)N[qe-2]=arguments[qe];return R.prototype[O].apply(M,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,w){w||(w=0);const M=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)M[O]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(O=0;O<16;++O)M[O]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=I.g[0],w=I.g[1],O=I.g[2];let k=I.g[3],N;N=R+(k^w&(O^k))+M[0]+3614090360&4294967295,R=w+(N<<7&4294967295|N>>>25),N=k+(O^R&(w^O))+M[1]+3905402710&4294967295,k=R+(N<<12&4294967295|N>>>20),N=O+(w^k&(R^w))+M[2]+606105819&4294967295,O=k+(N<<17&4294967295|N>>>15),N=w+(R^O&(k^R))+M[3]+3250441966&4294967295,w=O+(N<<22&4294967295|N>>>10),N=R+(k^w&(O^k))+M[4]+4118548399&4294967295,R=w+(N<<7&4294967295|N>>>25),N=k+(O^R&(w^O))+M[5]+1200080426&4294967295,k=R+(N<<12&4294967295|N>>>20),N=O+(w^k&(R^w))+M[6]+2821735955&4294967295,O=k+(N<<17&4294967295|N>>>15),N=w+(R^O&(k^R))+M[7]+4249261313&4294967295,w=O+(N<<22&4294967295|N>>>10),N=R+(k^w&(O^k))+M[8]+1770035416&4294967295,R=w+(N<<7&4294967295|N>>>25),N=k+(O^R&(w^O))+M[9]+2336552879&4294967295,k=R+(N<<12&4294967295|N>>>20),N=O+(w^k&(R^w))+M[10]+4294925233&4294967295,O=k+(N<<17&4294967295|N>>>15),N=w+(R^O&(k^R))+M[11]+2304563134&4294967295,w=O+(N<<22&4294967295|N>>>10),N=R+(k^w&(O^k))+M[12]+1804603682&4294967295,R=w+(N<<7&4294967295|N>>>25),N=k+(O^R&(w^O))+M[13]+4254626195&4294967295,k=R+(N<<12&4294967295|N>>>20),N=O+(w^k&(R^w))+M[14]+2792965006&4294967295,O=k+(N<<17&4294967295|N>>>15),N=w+(R^O&(k^R))+M[15]+1236535329&4294967295,w=O+(N<<22&4294967295|N>>>10),N=R+(O^k&(w^O))+M[1]+4129170786&4294967295,R=w+(N<<5&4294967295|N>>>27),N=k+(w^O&(R^w))+M[6]+3225465664&4294967295,k=R+(N<<9&4294967295|N>>>23),N=O+(R^w&(k^R))+M[11]+643717713&4294967295,O=k+(N<<14&4294967295|N>>>18),N=w+(k^R&(O^k))+M[0]+3921069994&4294967295,w=O+(N<<20&4294967295|N>>>12),N=R+(O^k&(w^O))+M[5]+3593408605&4294967295,R=w+(N<<5&4294967295|N>>>27),N=k+(w^O&(R^w))+M[10]+38016083&4294967295,k=R+(N<<9&4294967295|N>>>23),N=O+(R^w&(k^R))+M[15]+3634488961&4294967295,O=k+(N<<14&4294967295|N>>>18),N=w+(k^R&(O^k))+M[4]+3889429448&4294967295,w=O+(N<<20&4294967295|N>>>12),N=R+(O^k&(w^O))+M[9]+568446438&4294967295,R=w+(N<<5&4294967295|N>>>27),N=k+(w^O&(R^w))+M[14]+3275163606&4294967295,k=R+(N<<9&4294967295|N>>>23),N=O+(R^w&(k^R))+M[3]+4107603335&4294967295,O=k+(N<<14&4294967295|N>>>18),N=w+(k^R&(O^k))+M[8]+1163531501&4294967295,w=O+(N<<20&4294967295|N>>>12),N=R+(O^k&(w^O))+M[13]+2850285829&4294967295,R=w+(N<<5&4294967295|N>>>27),N=k+(w^O&(R^w))+M[2]+4243563512&4294967295,k=R+(N<<9&4294967295|N>>>23),N=O+(R^w&(k^R))+M[7]+1735328473&4294967295,O=k+(N<<14&4294967295|N>>>18),N=w+(k^R&(O^k))+M[12]+2368359562&4294967295,w=O+(N<<20&4294967295|N>>>12),N=R+(w^O^k)+M[5]+4294588738&4294967295,R=w+(N<<4&4294967295|N>>>28),N=k+(R^w^O)+M[8]+2272392833&4294967295,k=R+(N<<11&4294967295|N>>>21),N=O+(k^R^w)+M[11]+1839030562&4294967295,O=k+(N<<16&4294967295|N>>>16),N=w+(O^k^R)+M[14]+4259657740&4294967295,w=O+(N<<23&4294967295|N>>>9),N=R+(w^O^k)+M[1]+2763975236&4294967295,R=w+(N<<4&4294967295|N>>>28),N=k+(R^w^O)+M[4]+1272893353&4294967295,k=R+(N<<11&4294967295|N>>>21),N=O+(k^R^w)+M[7]+4139469664&4294967295,O=k+(N<<16&4294967295|N>>>16),N=w+(O^k^R)+M[10]+3200236656&4294967295,w=O+(N<<23&4294967295|N>>>9),N=R+(w^O^k)+M[13]+681279174&4294967295,R=w+(N<<4&4294967295|N>>>28),N=k+(R^w^O)+M[0]+3936430074&4294967295,k=R+(N<<11&4294967295|N>>>21),N=O+(k^R^w)+M[3]+3572445317&4294967295,O=k+(N<<16&4294967295|N>>>16),N=w+(O^k^R)+M[6]+76029189&4294967295,w=O+(N<<23&4294967295|N>>>9),N=R+(w^O^k)+M[9]+3654602809&4294967295,R=w+(N<<4&4294967295|N>>>28),N=k+(R^w^O)+M[12]+3873151461&4294967295,k=R+(N<<11&4294967295|N>>>21),N=O+(k^R^w)+M[15]+530742520&4294967295,O=k+(N<<16&4294967295|N>>>16),N=w+(O^k^R)+M[2]+3299628645&4294967295,w=O+(N<<23&4294967295|N>>>9),N=R+(O^(w|~k))+M[0]+4096336452&4294967295,R=w+(N<<6&4294967295|N>>>26),N=k+(w^(R|~O))+M[7]+1126891415&4294967295,k=R+(N<<10&4294967295|N>>>22),N=O+(R^(k|~w))+M[14]+2878612391&4294967295,O=k+(N<<15&4294967295|N>>>17),N=w+(k^(O|~R))+M[5]+4237533241&4294967295,w=O+(N<<21&4294967295|N>>>11),N=R+(O^(w|~k))+M[12]+1700485571&4294967295,R=w+(N<<6&4294967295|N>>>26),N=k+(w^(R|~O))+M[3]+2399980690&4294967295,k=R+(N<<10&4294967295|N>>>22),N=O+(R^(k|~w))+M[10]+4293915773&4294967295,O=k+(N<<15&4294967295|N>>>17),N=w+(k^(O|~R))+M[1]+2240044497&4294967295,w=O+(N<<21&4294967295|N>>>11),N=R+(O^(w|~k))+M[8]+1873313359&4294967295,R=w+(N<<6&4294967295|N>>>26),N=k+(w^(R|~O))+M[15]+4264355552&4294967295,k=R+(N<<10&4294967295|N>>>22),N=O+(R^(k|~w))+M[6]+2734768916&4294967295,O=k+(N<<15&4294967295|N>>>17),N=w+(k^(O|~R))+M[13]+1309151649&4294967295,w=O+(N<<21&4294967295|N>>>11),N=R+(O^(w|~k))+M[4]+4149444226&4294967295,R=w+(N<<6&4294967295|N>>>26),N=k+(w^(R|~O))+M[11]+3174756917&4294967295,k=R+(N<<10&4294967295|N>>>22),N=O+(R^(k|~w))+M[2]+718787259&4294967295,O=k+(N<<15&4294967295|N>>>17),N=w+(k^(O|~R))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+k&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const w=R-this.blockSize,M=this.C;let O=this.h,k=0;for(;k<R;){if(O==0)for(;k<=w;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<R;)if(M[O++]=I.charCodeAt(k++),O==this.blockSize){o(this,M),O=0;break}}else for(;k<R;)if(M[O++]=I[k++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var w=I.length-8;w<I.length;++w)I[w]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)I[R++]=this.g[w]>>>M&255;return I};function u(I,R){var w=m;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=R(I)}function f(I,R){this.h=R;const w=[];let M=!0;for(let O=I.length-1;O>=0;O--){const k=I[O]|0;M&&k==R||(w[O]=k,M=!1)}this.g=w}var m={};function y(I){return-128<=I&&I<128?u(I,function(R){return new f([R|0],R<0?-1:0)}):new f([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return G(g(-I));const R=[];let w=1;for(let M=0;I>=w;M++)R[M]=I/w|0,w*=4294967296;return new f(R,0)}function E(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return G(E(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=g(Math.pow(R,8));let M=b;for(let k=0;k<I.length;k+=8){var O=Math.min(8,I.length-k);const N=parseInt(I.substring(k,k+O),R);O<8?(O=g(Math.pow(R,O)),M=M.j(O).add(g(N))):(M=M.j(w),M=M.add(g(N)))}return M}var b=y(0),x=y(1),P=y(16777216);r=f.prototype,r.m=function(){if(X(this))return-G(this).m();let I=0,R=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);I+=(M>=0?M:4294967296+M)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(K(this))return"0";if(X(this))return"-"+G(this).toString(I);const R=g(Math.pow(I,6));var w=this;let M="";for(;;){const O=ge(w,R).g;w=te(w,O.j(R));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(I);if(w=O,K(w))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function K(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function X(I){return I.h==-1}r.l=function(I){return I=te(this,I),X(I)?-1:K(I)?0:1};function G(I){const R=I.g.length,w=[];for(let M=0;M<R;M++)w[M]=~I.g[M];return new f(w,~I.h).add(x)}r.abs=function(){return X(this)?G(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),w=[];let M=0;for(let O=0;O<=R;O++){let k=M+(this.i(O)&65535)+(I.i(O)&65535),N=(k>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);M=N>>>16,k&=65535,N&=65535,w[O]=N<<16|k}return new f(w,w[w.length-1]&-2147483648?-1:0)};function te(I,R){return I.add(G(R))}r.j=function(I){if(K(this)||K(I))return b;if(X(this))return X(I)?G(this).j(G(I)):G(G(this).j(I));if(X(I))return G(this.j(G(I)));if(this.l(P)<0&&I.l(P)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,w=[];for(var M=0;M<2*R;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<I.g.length;O++){const k=this.i(M)>>>16,N=this.i(M)&65535,qe=I.i(O)>>>16,it=I.i(O)&65535;w[2*M+2*O]+=N*it,ne(w,2*M+2*O),w[2*M+2*O+1]+=k*it,ne(w,2*M+2*O+1),w[2*M+2*O+1]+=N*qe,ne(w,2*M+2*O+1),w[2*M+2*O+2]+=k*qe,ne(w,2*M+2*O+2)}for(I=0;I<R;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=R;I<2*R;I++)w[I]=0;return new f(w,0)};function ne(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function re(I,R){this.g=I,this.h=R}function ge(I,R){if(K(R))throw Error("division by zero");if(K(I))return new re(b,b);if(X(I))return R=ge(G(I),R),new re(G(R.g),G(R.h));if(X(R))return R=ge(I,G(R)),new re(G(R.g),R.h);if(I.g.length>30){if(X(I)||X(R))throw Error("slowDivide_ only works with positive integers.");for(var w=x,M=R;M.l(I)<=0;)w=Te(w),M=Te(M);var O=Ee(w,1),k=Ee(M,1);for(M=Ee(M,2),w=Ee(w,2);!K(M);){var N=k.add(M);N.l(I)<=0&&(O=O.add(w),k=N),M=Ee(M,1),w=Ee(w,1)}return R=te(I,O.j(R)),new re(O,R)}for(O=b;I.l(R)>=0;){for(w=Math.max(1,Math.floor(I.m()/R.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=g(w),N=k.j(R);X(N)||N.l(I)>0;)w-=M,k=g(w),N=k.j(R);K(k)&&(k=x),O=O.add(k),I=te(I,N)}return new re(O,I)}r.B=function(I){return ge(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),w=[];for(let M=0;M<R;M++)w[M]=this.i(M)&I.i(M);return new f(w,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),w=[];for(let M=0;M<R;M++)w[M]=this.i(M)|I.i(M);return new f(w,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),w=[];for(let M=0;M<R;M++)w[M]=this.i(M)^I.i(M);return new f(w,this.h^I.h)};function Te(I){const R=I.g.length+1,w=[];for(let M=0;M<R;M++)w[M]=I.i(M)<<1|I.i(M-1)>>>31;return new f(w,I.h)}function Ee(I,R){const w=R>>5;R%=32;const M=I.g.length-w,O=[];for(let k=0;k<M;k++)O[k]=R>0?I.i(k+w)>>>R|I.i(k+w+1)<<32-R:I.i(k+w);return new f(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ZE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Wr=f}).apply(typeof Qv<"u"?Qv:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var WE,Ol,eT,Zc,wm,tT,nT,iT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break e;v=v[U]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function y(c,p,v){return c.call.apply(c.bind,arguments)}function g(c,p,v){return g=y,g.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,U,F){for(var se=Array(arguments.length-2),we=2;we<arguments.length;we++)se[we-2]=arguments[we];return p.prototype[U].apply(A,se)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function K(c,p){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const F=U.length||0;c.length=v+F;for(let se=0;se<F;se++)c[v+se]=U[se]}else c.push(U)}}class X{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function G(c){f.setTimeout(()=>{throw c},0)}function te(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ne{constructor(){this.h=this.g=null}add(p,v){const A=re.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new X(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,Ee=!1,I=new ne,R=()=>{const c=Promise.resolve(void 0);Te=()=>{c.then(w)}};function w(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){G(v)}var p=re;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Ee=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function qe(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}b(qe,O),qe.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var it="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ae(c,p,v,A,U){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=U,this.key=++Y,this.da=this.fa=!1}function fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function He(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function C(c){const p={};for(const v in c)p[v]=c[v];return p}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,p){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let F=0;F<H.length;F++)v=H[F],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,p,v,A,U){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const se=xe(c,p,A,U);return se>-1?(p=c[se],v||(p.fa=!1)):(p=new ae(p,this.src,F,!!A,U),p.fa=v,c.push(p)),p};function _e(c,p){const v=p.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,p,void 0),F;(F=U>=0)&&Array.prototype.splice.call(A,U,1),F&&(fe(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function xe(c,p,v,A){for(let U=0;U<c.length;++U){const F=c[U];if(!F.da&&F.listener==p&&F.capture==!!v&&F.ha==A)return U}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Dt={};function ot(c,p,v,A,U){if(Array.isArray(p)){for(let F=0;F<p.length;F++)ot(c,p[F],v,A,U);return null}return v=wo(v),c&&c[it]?c.J(p,v,m(A)?!!A.capture:!1,U):cs(c,p,v,!1,A,U)}function cs(c,p,v,A,U,F){if(!p)throw Error("Invalid event type");const se=m(U)?!!U.capture:!!U;let we=hs(c);if(we||(c[Ue]=we=new le(c)),v=we.add(p,v,A,se,F),v.proxy)return v;if(A=ea(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(U=se),U===void 0&&(U=!1),c.addEventListener(p.toString(),A,U);else if(c.attachEvent)c.attachEvent(ni(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ea(){function c(v){return p.call(c.src,c.listener,v)}const p=So;return c}function ta(c,p,v,A,U){if(Array.isArray(p))for(var F=0;F<p.length;F++)ta(c,p[F],v,A,U);else A=m(A)?!!A.capture:!!A,v=wo(v),c&&c[it]?(c=c.i,F=String(p).toString(),F in c.g&&(p=c.g[F],v=xe(p,v,A,U),v>-1&&(fe(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[F],c.h--)))):c&&(c=hs(c))&&(p=c.g[p.toString()],c=-1,p&&(c=xe(p,v,A,U)),(v=c>-1?p[c]:null)&&na(v))}function na(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[it])_e(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(ni(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=hs(p))?(_e(v,c),v.h==0&&(v.src=null,p[Ue]=null)):fe(c)}}}function ni(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function So(c,p){if(c.da)c=!0;else{p=new qe(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&na(c),c=v.call(A,p)}return c}function hs(c){return c=c[Ue],c instanceof le?c:null}var Ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function wo(c){return typeof c=="function"?c:(c[Ao]||(c[Ao]=function(p){return c.handleEvent(p)}),c[Ao])}function vt(){M.call(this),this.i=new le(this),this.M=this,this.G=null}b(vt,M),vt.prototype[it]=!0,vt.prototype.removeEventListener=function(c,p,v,A){ta(this,c,p,v,A)};function Ot(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var U=p;p=new O(A,c),ie(p,U)}U=!0;let F,se;if(v)for(se=v.length-1;se>=0;se--)F=p.g=v[se],U=ur(F,A,!0,p)&&U;if(F=p.g=c,U=ur(F,A,!0,p)&&U,U=ur(F,A,!1,p)&&U,v)for(se=0;se<v.length;se++)F=p.g=v[se],U=ur(F,A,!1,p)&&U}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)fe(v[A]);delete c.g[p],c.h--}}this.G=null},vt.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},vt.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function ur(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let F=0;F<p.length;++F){const se=p[F];if(se&&!se.da&&se.capture==v){const we=se.listener,pt=se.ha||se.src;se.fa&&_e(c.i,se),U=we.call(pt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Jh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function mu(c){c.g=Jh(()=>{c.g=null,c.i&&(c.i=!1,mu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class tn extends M{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:mu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){M.call(this),this.h=c,this.g={}}b(fs,M);var Ro=[];function xo(c){Ie(c.g,function(p,v){this.g.hasOwnProperty(v)&&na(p)},c),c.g={}}fs.prototype.N=function(){fs.Z.N.call(this),xo(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=f.JSON.stringify,Zh=f.JSON.parse,pu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function gu(){}function yu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){O.call(this,"d")}b(zt,O);function Rn(){O.call(this,"c")}b(Rn,O);var mt={},_u=null;function ia(){return _u=_u||new vt}mt.Ia="serverreachability";function vu(c){O.call(this,mt.Ia,c)}b(vu,O);function ii(c){const p=ia();Ot(p,new vu(p))}mt.STAT_EVENT="statevent";function ds(c,p){O.call(this,mt.STAT_EVENT,c),this.stat=p}b(ds,O);function Et(c){const p=ia();Ot(p,new ds(p,c))}mt.Ja="timingevent";function ri(c,p){O.call(this,mt.Ja,c),this.size=p}b(ri,O);function si(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Wh(c,p,v,A,U,F){c.info(function(){if(c.g)if(F){var se="",we=F.split("&");for(let Fe=0;Fe<we.length;Fe++){var pt=we[Fe].split("=");if(pt.length>1){const lt=pt[0];pt=pt[1];const Nn=lt.split("_");se=Nn.length>=2&&Nn[1]=="type"?se+(lt+"="+pt+"&"):se+(lt+"=redacted&")}}}else se=null;else se=F;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+p+`
`+v+`
`+se})}function Eu(c,p,v,A,U,F,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+p+`
`+v+`
`+F+" "+se})}function ai(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+ef(c,v)+(A?" "+A:"")})}function ms(c,p){c.info(function(){return"TIMEOUT: "+p})}qn.prototype.info=function(){};function ef(c,p){if(!c.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return cr(F)}catch{return p}}var ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Io;function gs(){}b(gs,gu),gs.prototype.g=function(){return new XMLHttpRequest},Io=new gs;function Vi(c){return encodeURIComponent(String(c))}function Tu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Hn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function oi(c,p,v){c.M=1,c.A=ys(St(p)),c.u=v,c.R=!0,ra(c,null)}function ra(c,p){c.F=Date.now(),li(c),c.B=St(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),la(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Fn,c.g=Lu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new tn(g(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ro[0]=U.toString()),U=Ro);for(let F=0;F<U.length;F++){const se=ot(v,U[F],A||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=c.J?C(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ii(),Wh(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Kn(c)==3?p.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Kn(this.g),pt=this.g.ya(),Fe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||we!=4||pt==7||(pt==8||Fe<=0?ii(3):ii(2)),ui(this);var p=this.g.ca();this.X=p;var v=tf(this);if(this.o=p==200,Eu(this.i,this.v,this.B,this.l,this.S,we,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var F=A;break t}}F=null}if(c=F)ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,c);else{this.o=!1,this.m=3,Et(12),mn(this),xn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=Su(this,v),lt==Lt){we==4&&(this.m=4,Et(14),c=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Tt){this.m=4,Et(15),ai(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ai(this.i,this.l,lt,null),ci(this,lt);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)ai(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fo(se),se.P=!0,Et(11))}}else ai(this.i,this.l,v,null),ci(this,v);we==4&&mn(this),this.o&&!this.K&&(we==4?Ou(this.j,this):(this.o=!1,li(this)))}else Li(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),mn(this),xn(this)}}}catch{}};function tf(c){if(!bu(c))return c.g.la();const p=Bt(c.g);if(p==="")return"";let v="";const A=p.length,U=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),xn(c),"";c.h.i=new f.TextDecoder}for(let F=0;F<A;F++)c.h.h=!0,v+=c.h.i.decode(p[F],{stream:!(U&&F==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function bu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Su(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?Lt:(v=Number(p.substring(v,A)),isNaN(v)?Tt:(A+=1,A+v>p.length?Lt:(p=p.slice(A,A+v),c.C=A+v,p)))}Hn.prototype.cancel=function(){this.K=!0,mn(this)};function li(c){c.T=Date.now()+c.H,sa(c,c.H)}function sa(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=si(g(c.aa,c),p)}function ui(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ms(this.i,this.B),this.M!=2&&(ii(),Et(17)),mn(this),this.m=2,xn(this)):sa(this,this.T-c)};function xn(c){c.j.I==0||c.K||Ou(c.j,c)}function mn(c){ui(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,xo(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function ci(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||fi(v.h,c))){if(!c.L&&fi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)da(v),_r(v);else break e;As(v),Et(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(g(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((c.L||v.g==c)&&da(v),!N(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let Fe=U[p];const lt=Fe[0];if(!(lt<=v.K))if(v.K=lt,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const Nn=Fe[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const vi=Fe[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Yn=Fe[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Xn=c.g;if(Xn){const ws=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var F=A.h;F.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Oo(F,F.h),F.h=null))}if(A.G){const ma=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(A.wa=ma,Ke(A.J,A.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var se=c;if(A.na=ku(A,A.L?A.ba:null,A.W),se.L){Mo(A.h,se);var we=se,pt=A.O;pt&&(we.H=pt),we.D&&(ui(we),li(we)),A.g=se}else Nu(A);v.i.length>0&&yi(v)}else Fe[0]!="stop"&&Fe[0]!="close"||_i(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?_i(v,7):qo(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}ii(4)}catch{}}var bt=class{constructor(c,p){this.g=c,this.map=p}};function No(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Do(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hi(c){return c.h?1:c.g?c.g.size:0}function fi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Oo(c,p){c.g?c.g.add(p):c.h=p}function Mo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}No.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return P(c.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let U,F=null;A>=0?(U=c[v].substring(0,A),F=c[v].substring(A+1)):U=c[v],p(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof pn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,hr(this,c.u),this.h=c.h,ko(this,Cu(c.i)),this.m=c.m):c&&(p=String(c).match(Au))?(this.l=!1,Pt(this,p[1]||"",!0),this.o=di(p[2]||""),this.g=di(p[3]||"",!0),hr(this,p[4]),this.h=di(p[5]||"",!0),ko(this,p[6]||"",!0),this.m=di(p[7]||"")):(this.l=!1,this.i=new dr(null,this.l))}pn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(_s(p,oa,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(_s(p,oa,!0),"@"),c.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(_s(v,v.charAt(0)=="/"?Lo:wu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",_s(v,Ru)),c.join("")},pn.prototype.resolve=function(c){const p=St(this);let v=!!c.j;v?Pt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)hr(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=p.h.lastIndexOf("/");U!=-1&&(A=p.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let se=0;se<U.length;){const we=U[se++];we=="."?A&&se==U.length&&F.push(""):we==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&se==U.length&&F.push("")):(F.push(we),A=!0)}A=F.join("/")}else A=U}return v?p.h=A:v=c.i.toString()!=="",v?ko(p,Cu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function St(c){return new pn(c)}function Pt(c,p,v){c.j=v?di(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function hr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function ko(c,p,v){p instanceof dr?(c.i=p,ua(c.i,c.l)):(v||(p=_s(p,fr)),c.i=new dr(p,c.l))}function Ke(c,p,v){c.i.set(p,v)}function ys(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function di(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var oa=/[#\/\?@]/g,wu=/[#\?:]/g,Lo=/[#\?]/g,fr=/[#\?@]/g,Ru=/#/g;function dr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&aa(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=dr.prototype,r.add=function(c,p){an(this),this.i=null,c=mr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function xu(c,p){an(c),p=mr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Po(c,p){return an(c),p=mr(c,p),c.g.has(p)}r.forEach=function(c,p){an(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(p,U,A,this)},this)},this)};function Uo(c,p){an(c);let v=[];if(typeof p=="string")Po(c,p)&&(v=v.concat(c.g.get(mr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return an(this),this.i=null,c=mr(this,c),Po(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=Uo(this,c),c.length>0?String(c[0]):p):p};function la(c,p,v){xu(c,p),v.length>0&&(c.i=null,c.g.set(mr(c,p),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const U=Vi(v);v=Uo(this,v);for(let F=0;F<v.length;F++){let se=U;v[F]!==""&&(se+="="+Vi(v[F])),c.push(se)}}return this.i=c.join("&")};function Cu(c){const p=new dr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function mr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ua(c,p){p&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(xu(this,A),la(this,U,v))},c)),c.j=p}function Gn(c,p){const v=new qn;if(f.Image){const A=new Image;A.onload=E(Cn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=E(Cn,v,"TestLoadImage: error",!1,p,A),A.onabort=E(Cn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(Cn,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function jo(c,p){const v=new qn,A=new AbortController,U=setTimeout(()=>{A.abort(),Cn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(U),F.ok?Cn(v,"TestPingServer: ok",!0,p):Cn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Cn(v,"TestPingServer: error",!1,p)})}function Cn(c,p,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function pr(){this.g=new pu}function mi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(mi,gu),mi.prototype.g=function(){return new vs(this.i,this.h)};function vs(c,p){vt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(vs,vt),r=vs.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?gr(this):Qn(this),this.readyState==3&&ca(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,gr(this))},r.Na=function(c){this.g&&(this.response=c,gr(this))},r.ga=function(){this.g&&gr(this)};function gr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let p="";return Ie(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function Es(c,p,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=In(v),typeof c=="string"?v!=null&&Vi(v):Ke(c,p,v))}function Je(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Je,vt);var pi=/^https?$/i,zo=["POST","PUT"];r=Je.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Io.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){Ts(this,F);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())v.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(zo,p,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,se]of v)this.g.setRequestHeader(F,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Ts(this,F)}};function Ts(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Bo(c),ki(c)}function Bo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?bs(this):this.Xa())},r.Xa=function(){bs(this)};function bs(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var A;if(A=F===0){let se=String(c.D).match(Au)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),A=!pi.test(se?se.toLowerCase():"")}v=A}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var U=Kn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Bo(c)}}finally{ki(c)}}}}function ki(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Zh(p)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(c){const p={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var v=Tu(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=p[U]||[];p[U]=F,F.push(v)}He(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function yr(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,c),this.Za=gi("retryDelaySeedMs",1e4,c),this.Ta=gi("forwardChannelMaxRetries",2,c),this.va=gi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new No(c&&c.concurrentRequestLimit),this.Ba=new pr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=yr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,A){Et(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=ku(this,null,this.W),yi(this)};function qo(c){if(ha(c),c.I==3){var p=c.V++,v=St(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",p),Ke(v,"TYPE","terminate"),Ss(c,v),p=new Hn(c,c.j,p),p.M=2,p.A=ys(St(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Lu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),li(p)}Vu(c)}function _r(c){c.g&&(Fo(c),c.g.cancel(),c.g=null)}function ha(c){_r(c),c.v&&(f.clearTimeout(c.v),c.v=null),da(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function yi(c){if(!Do(c.h)&&!c.m){c.m=!0;var p=c.Ea;Te||R(),Ee||(Te(),Ee=!0),I.add(p,c),c.D=0}}function fa(c,p){return hi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=si(g(c.Ea,c,p),Mu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Hn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=C(F),ie(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Iu(this,U,p),v=St(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Ss(this,v),F&&(this.R?p="headers="+Vi(In(F))+"&"+p:this.u&&Es(v,this.u,F)),Oo(this.h,U),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",p),Ke(v,"SID","null"),U.U=!0,oi(U,v,null)):oi(U,v,p),this.I=2}}else this.I==3&&(c?Ho(this,c):this.i.length==0||Do(this.h)||Ho(this))};function Ho(c,p){var v;p?v=p.l:v=c.V++;const A=St(c.J);Ke(A,"SID",c.M),Ke(A,"RID",v),Ke(A,"AID",c.K),Ss(c,A),c.u&&c.o&&Es(A,c.u,c.o),v=new Hn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Iu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Oo(c.h,v),oi(v,A,p)}function Ss(c,p){c.H&&Ie(c.H,function(v,A){Ke(p,A,v)}),c.l&&Ie({},function(v,A){Ke(p,A,v)})}function Iu(c,p,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var U=c.i;let we=-1;for(;;){const pt=["count="+v];we==-1?v>0?(we=U[0].g,pt.push("ofs="+we)):we=0:pt.push("ofs="+we);let Fe=!0;for(let lt=0;lt<v;lt++){var F=U[lt].g;const Nn=U[lt].map;if(F-=we,F<0)we=Math.max(0,U[lt].g-100),Fe=!1;else try{F="req"+F+"_"||"";try{var se=Nn instanceof Map?Nn:Object.entries(Nn);for(const[vi,Yn]of se){let Xn=Yn;m(Yn)&&(Xn=cr(Yn)),pt.push(F+vi+"="+encodeURIComponent(Xn))}}catch(vi){throw pt.push(F+"type="+encodeURIComponent("_badmap")),vi}}catch{A&&A(Nn)}}if(Fe){se=pt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),p.G=c,se}function Nu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Te||R(),Ee||(Te(),Ee=!0),I.add(p,c),c.A=0}}function As(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=si(g(c.Da,c),Mu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=si(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),_r(this),Du(this))};function Fo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Du(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=St(c.na);Ke(p,"RID","rpc"),Ke(p,"SID",c.M),Ke(p,"AID",c.K),Ke(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(p,"TO",c.ia),Ke(p,"TYPE","xmlhttp"),Ss(c,p),c.u&&c.o&&Es(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ys(St(p)),v.u=null,v.R=!0,ra(v,c)}r.Va=function(){this.C!=null&&(this.C=null,_r(this),As(this),Et(19))};function da(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ou(c,p){var v=null;if(c.g==p){da(c),Fo(c),c.g=null;var A=2}else if(fi(c.h,p))v=p.G,Mo(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=c.D;A=ia(),Ot(A,new ri(A,v)),yi(c)}else Nu(c);else if(U=p.m,U==3||U==0&&p.X>0||!(A==1&&fa(c,p)||A==2&&As(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),U){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function Mu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function _i(c,p){if(c.j.info("Error code "+p),p==2){var v=g(c.bb,c),A=c.Ua;const U=!A;A=new pn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(A,"https"),ys(A),U?Gn(A.toString(),v):jo(A.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(p),Vu(c),ha(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Vu(c){if(c.I=0,c.ja=[],c.l){const p=Vo(c.h);(p.length!=0||c.i.length!=0)&&(K(c.ja,p),K(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function ku(c,p,v){var A=v instanceof pn?St(v):new pn(v);if(A.g!="")p&&(A.g=p+"."+A.g),hr(A,A.u);else{var U=f.location;A=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const F=new pn(null);A&&Pt(F,A),p&&(F.g=p),U&&hr(F,U),v&&(F.h=v),A=F}return v=c.G,p=c.wa,v&&p&&Ke(A,v,p),Ke(A,"VER",c.ka),Ss(c,A),A}function Lu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Je(new mi({ab:v})):new Je(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}r=Pu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function vr(){}vr.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){vt.call(this),this.g=new yr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!N(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!N(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Pi(this)}b(nn,vt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){qo(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=cr(c),c=v);p.i.push(new bt(p.Ya++,c)),p.I==3&&yi(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,nn.Z.N.call(this)};function Uu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}b(Uu,zt);function ju(){Rn.call(this),this.status=1}b(ju,Rn);function Pi(c){this.g=c}b(Pi,Pu),Pi.prototype.ra=function(){Ot(this.g,"a")},Pi.prototype.qa=function(c){Ot(this.g,new Uu(c))},Pi.prototype.pa=function(c){Ot(this.g,new ju)},Pi.prototype.oa=function(){Ot(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,iT=function(){return new vr},nT=function(){return ia()},tT=mt,wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,Zc=ps,Co.COMPLETE="complete",eT=Co,yu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Ol=yu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,WE=Je}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let go="12.8.0";function fx(r){go=r}const Xs=new tp("@firebase/firestore");function Fa(){return Xs.logLevel}function ue(r,...e){if(Xs.logLevel<=Ve.DEBUG){const n=e.map(rp);Xs.debug(`Firestore (${go}): ${r}`,...n)}}function rr(r,...e){if(Xs.logLevel<=Ve.ERROR){const n=e.map(rp);Xs.error(`Firestore (${go}): ${r}`,...n)}}function io(r,...e){if(Xs.logLevel<=Ve.WARN){const n=e.map(rp);Xs.warn(`Firestore (${go}): ${r}`,...n)}}function rp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ye(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,rT(r,s,n)}function rT(r,e,n){let s=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw rr(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||rT(e,o,s)}function Ae(r,e){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class sT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class mx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class px{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new sT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class gx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class yx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new gx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Kv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _x{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Kv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class sp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=vx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function Rm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return cm(o)===cm(u)?ke(o,u):cm(o)?1:-1}return ke(r.length,e.length)}const Ex=55296,Tx=57343;function cm(r){const e=r.charCodeAt(0);return e>=Ex&&e<=Tx}function ro(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const Yv="__name__";class Ai{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ai.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=Ai.isNumericId(e),o=Ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ai.extractNumericId(e).compare(Ai.extractNumericId(n)):Rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wr.fromString(e.substring(4,e.length-2))}}class nt extends Ai{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const bx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ai{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return bx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yv}static keyField(){return new Kt([Yv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(nt.fromString(e))}static fromName(e){return new me(nt.fromString(e).popFirst(5))}static empty(){return new me(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new nt(e.slice()))}}function aT(r,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Sx(r,e,n,s){if(e===!0&&s===!0)throw new oe(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Xv(r){if(!me.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $v(r){if(me.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function oT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Mh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function Fs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mh(r);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function ru(r,e){if(!oT(r))throw new oe(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(W.INVALID_ARGUMENT,n);return!0}const Jv=-62135596800,Zv=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Zv);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jv)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zv}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Nt("string",at._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new at(0,0))}static max(){return new be(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fl=-1;function Ax(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new ts(o,me.empty(),e)}function wx(r){return new ts(r.readTime,r.key,Fl)}class ts{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ts(be.min(),me.empty(),Fl)}static max(){return new ts(be.max(),me.empty(),Fl)}}function Rx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}const xx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==xx)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(y=>s(y)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Ix(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(r){return r.name==="IndexedDbTransactionError"}class Vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vh.ce=-1;const ap=-1;function kh(r){return r==null}function hh(r){return r===0&&1/r==-1/0}function Nx(r){return typeof r=="number"&&Number.isInteger(r)&&!hh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const lT="";function Dx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Wv(e)),e=Ox(r.get(n),e);return Wv(e)}function Ox(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case lT:n+="";break;default:n+=u}}return n}function Wv(r){return r+lT+""}function e0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ls(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function uT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t0(this.data.getIterator())}getIteratorFrom(e){return new t0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class t0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new An([])}unionWith(e){let n=new kt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class cT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cT("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const Mx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=Mx.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function is(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const hT="server_timestamp",fT="__type__",dT="__previous_value__",mT="__local_write_time__";function op(r){return(r?.mapValue?.fields||{})[fT]?.stringValue===hT}function Lh(r){const e=r.mapValue.fields[dT];return op(e)?Lh(e):e}function Gl(r){const e=ns(r.mapValue.fields[mT].timestampValue);return new at(e.seconds,e.nanos)}class Vx{constructor(e,n,s,o,u,f,m,y,g,E,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=b}}const fh="(default)";class Ql{constructor(e,n){this.projectId=e,this.database=n||fh}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}function kx(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(r.options.projectId,e)}const pT="__type__",Lx="__max__",Qc={mapValue:{}},gT="__vector__",dh="value";function rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?op(r)?4:Ux(r)?9007199254740991:Px(r)?10:11:ye(28295,{value:r})}function Oi(r,e){if(r===e)return!0;const n=rs(r);if(n!==rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Gl(r).isEqual(Gl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ns(o.timestampValue),m=ns(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return is(o.bytesValue).isEqual(is(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?hh(f)===hh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ro(r.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(e0(f)!==e0(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Oi(f[y],m[y])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function Kl(r,e){return(r.values||[]).find((n=>Oi(n,e)))!==void 0}function so(r,e){if(r===e)return 0;const n=rs(r),s=rs(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=_t(u.integerValue||u.doubleValue),y=_t(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(r,e);case 3:return n0(r.timestampValue,e.timestampValue);case 4:return n0(Gl(r),Gl(e));case 5:return Rm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=is(u),y=is(f);return m.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const E=ke(m[g],y[g]);if(E!==0)return E}return ke(m.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ke(_t(u.latitude),_t(f.latitude));return m!==0?m:ke(_t(u.longitude),_t(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return i0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},y=f.fields||{},g=m[dh]?.arrayValue,E=y[dh]?.arrayValue,b=ke(g?.values?.length||0,E?.values?.length||0);return b!==0?b:i0(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Qc.mapValue&&f===Qc.mapValue)return 0;if(u===Qc.mapValue)return 1;if(f===Qc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let b=0;b<y.length&&b<E.length;++b){const x=Rm(y[b],E[b]);if(x!==0)return x;const P=so(m[y[b]],g[E[b]]);if(P!==0)return P}return ke(y.length,E.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function n0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=ns(r),s=ns(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function i0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=so(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function ao(r){return xm(r)}function xm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ns(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return is(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=xm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${xm(n.fields[f])}`;return o+"}"})(r.mapValue):ye(61005,{value:r})}function Wc(r){switch(rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(r);return e?16+Wc(e):16;case 5:return 2*r.stringValue.length;case 6:return is(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Wc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ls(s.fields,((u,f)=>{o+=u.length+Wc(f)})),o})(r.mapValue);default:throw ye(13486,{value:r})}}function r0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Cm(r){return!!r&&"integerValue"in r}function lp(r){return!!r&&"arrayValue"in r}function s0(r){return!!r&&"nullValue"in r}function a0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function eh(r){return!!r&&"mapValue"in r}function Px(r){return(r?.mapValue?.fields||{})[pT]?.stringValue===gT}function Pl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ls(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Pl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pl(r.arrayValue.values[n]);return e}return{...r}}function Ux(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Lx}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Pl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ls(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new dn(Pl(this.value))}}function yT(r){const e=[];return ls(r.fields,((n,s)=>{const o=new Kt([n]);if(eh(s)){const u=yT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new An(e)}class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,be.min(),be.min(),be.min(),dn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,be.min(),be.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,be.min(),be.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mh{constructor(e,n){this.position=e,this.inclusive=n}}function o0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=so(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function l0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Oi(r.position[n],e.position[n]))return!1;return!0}class ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function jx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class _T{}class It extends _T{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Bx(e,n,s):n==="array-contains"?new Fx(e,s):n==="in"?new Gx(e,s):n==="not-in"?new Qx(e,s):n==="array-contains-any"?new Kx(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new qx(e,s):new Hx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(so(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends _T{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ti(e,n)}matches(e){return vT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vT(r){return r.op==="and"}function ET(r){return zx(r)&&vT(r)}function zx(r){for(const e of r.filters)if(e instanceof ti)return!1;return!0}function Im(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(ET(r))return r.filters.map((e=>Im(e))).join(",");{const e=r.filters.map((n=>Im(n))).join(",");return`${r.op}(${e})`}}function TT(r,e){return r instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Oi(s.value,o.value)})(r,e):r instanceof ti?(function(s,o){return o instanceof ti&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&TT(f,o.filters[m])),!0):!1})(r,e):void ye(19439)}function bT(r){return r instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`})(r):r instanceof ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(bT).join(" ,")+"}"})(r):"Filter"}class Bx extends It{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class qx extends It{constructor(e,n){super(e,"in",n),this.keys=ST("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Hx extends It{constructor(e,n){super(e,"not-in",n),this.keys=ST("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ST(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class Fx extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lp(n)&&Kl(n.arrayValue,this.value)}}class Gx extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class Qx extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kl(this.value.arrayValue,n)}}class Kx extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Kl(this.value.arrayValue,s)))}}class Yx{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function u0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Yx(r,e,n,s,o,u,f)}function up(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Im(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ao(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ao(s))).join(",")),e.Te=n}return e.Te}function cp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!jx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!TT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!l0(r.startAt,e.startAt)&&l0(r.endAt,e.endAt)}function Nm(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class su{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Xx(r,e,n,s,o,u,f,m){return new su(r,e,n,s,o,u,f,m)}function hp(r){return new su(r)}function c0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $x(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function AT(r){return r.collectionGroup!==null}function Ul(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new kt(Kt.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ph(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new ph(Kt.keyField(),s))}return e.Ie}function Ri(r){const e=Ae(r);return e.Ee||(e.Ee=Jx(e,Ul(r))),e.Ee}function Jx(r,e){if(r.limitType==="F")return u0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ph(o.field,u)}));const n=r.endAt?new mh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new mh(r.startAt.position,r.startAt.inclusive):null;return u0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Dm(r,e){const n=r.filters.concat([e]);return new su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Om(r,e,n){return new su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ph(r,e){return cp(Ri(r),Ri(e))&&r.limitType===e.limitType}function wT(r){return`${up(Ri(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>bT(o))).join(", ")}]`),kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ao(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ao(o))).join(",")),`Target(${s})`})(Ri(r))}; limitType=${r.limitType})`}function Uh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Ul(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,y){const g=o0(f,m,y);return f.inclusive?g<=0:g<0})(s.startAt,Ul(s),o)||s.endAt&&!(function(f,m,y){const g=o0(f,m,y);return f.inclusive?g>=0:g>0})(s.endAt,Ul(s),o))})(r,e)}function Zx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function RT(r){return(e,n)=>{let s=!1;for(const o of Ul(r)){const u=Wx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Wx(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?so(y,g):ye(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class Zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return uT(this.inner)}size(){return this.innerSize}}const eC=new ht(me.comparator);function sr(){return eC}const xT=new ht(me.comparator);function Ml(...r){let e=xT;for(const n of r)e=e.insert(n.key,n);return e}function CT(r){let e=xT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function qs(){return jl()}function IT(){return jl()}function jl(){return new Zs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const tC=new ht(me.comparator),nC=new kt(me.comparator);function Le(...r){let e=nC;for(const n of r)e=e.add(n);return e}const iC=new kt(ke);function rC(){return iC}function fp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function NT(r){return{integerValue:""+r}}function DT(r,e){return Nx(e)?NT(e):fp(r,e)}class jh{constructor(){this._=void 0}}function sC(r,e,n){return r instanceof gh?(function(o,u){const f={fields:{[fT]:{stringValue:hT},[mT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&op(u)&&(u=Lh(u)),u&&(f.fields[dT]=u),{mapValue:f}})(n,e):r instanceof Yl?MT(r,e):r instanceof Xl?VT(r,e):(function(o,u){const f=OT(o,u),m=h0(f)+h0(o.Ae);return Cm(f)&&Cm(o.Ae)?NT(m):fp(o.serializer,m)})(r,e)}function aC(r,e,n){return r instanceof Yl?MT(r,e):r instanceof Xl?VT(r,e):n}function OT(r,e){return r instanceof $l?(function(s){return Cm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class gh extends jh{}class Yl extends jh{constructor(e){super(),this.elements=e}}function MT(r,e){const n=kT(e);for(const s of r.elements)n.some((o=>Oi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Xl extends jh{constructor(e){super(),this.elements=e}}function VT(r,e){let n=kT(e);for(const s of r.elements)n=n.filter((o=>!Oi(o,s)));return{arrayValue:{values:n}}}class $l extends jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function h0(r){return _t(r.integerValue||r.doubleValue)}function kT(r){return lp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class oC{constructor(e,n){this.field=e,this.transform=n}}function lC(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Yl&&o instanceof Yl||s instanceof Xl&&o instanceof Xl?ro(s.elements,o.elements,Oi):s instanceof $l&&o instanceof $l?Oi(s.Ae,o.Ae):s instanceof gh&&o instanceof gh})(r.transform,e.transform)}class uC{constructor(e,n){this.version=e,this.transformResults=n}}class wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class zh{}function LT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Bh(r.key,wn.none()):new au(r.key,r.data,wn.none());{const n=r.data,s=dn.empty();let o=new kt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new us(r.key,s,new An(o.toArray()),wn.none())}}function cC(r,e,n){r instanceof au?(function(o,u,f){const m=o.value.clone(),y=d0(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof us?(function(o,u,f){if(!th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=d0(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(PT(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function zl(r,e,n,s){return r instanceof au?(function(u,f,m,y){if(!th(u.precondition,f))return m;const g=u.value.clone(),E=m0(u.fieldTransforms,y,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof us?(function(u,f,m,y){if(!th(u.precondition,f))return m;const g=m0(u.fieldTransforms,y,f),E=f.data;return E.setAll(PT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,m){return th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function hC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=OT(s.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(s.field,u))}return n||null}function f0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ro(s,o,((u,f)=>lC(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends zh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class us extends zh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function PT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function d0(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,aC(f,m,n[o]))}return s}function m0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,sC(u,f,e))}return s}class Bh extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fC extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=IT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=LT(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,((n,s)=>f0(n,s)))&&ro(this.baseMutations,e.baseMutations,((n,s)=>f0(n,s)))}}class dp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return tC})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new dp(e,n,s,o)}}class mC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class pC{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,je;function gC(r){switch(r){case W.OK:return ye(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function UT(r){if(r===void 0)return rr("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ct.OK:return W.OK;case Ct.CANCELLED:return W.CANCELLED;case Ct.UNKNOWN:return W.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return W.INTERNAL;case Ct.UNAVAILABLE:return W.UNAVAILABLE;case Ct.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ct.NOT_FOUND:return W.NOT_FOUND;case Ct.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ct.ABORTED:return W.ABORTED;case Ct.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ct.DATA_LOSS:return W.DATA_LOSS;default:return ye(39323,{code:r})}}(je=Ct||(Ct={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function yC(){return new TextEncoder}const _C=new Wr([4294967295,4294967295],0);function p0(r){const e=yC().encode(r),n=new ZE;return n.update(e),new Uint8Array(n.digest())}function g0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wr([n,s],0),new Wr([o,u],0)]}class mp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(s<0)throw new Vl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Wr.fromNumber(s)));return o.compare(_C)===1&&(o=new Wr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=p0(e),[s,o]=g0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new mp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=p0(e),[s,o]=g0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new qh(be.min(),o,new ht(ke),sr(),Le())}}class ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ou(s,n,Le(),Le(),Le())}}class nh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class jT{constructor(e,n){this.targetId=e,this.Ce=n}}class zT{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class y0{constructor(){this.ve=0,this.Fe=_0(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new ou(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=_0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class vC{constructor(e){this.Ge=e,this.ze=new Map,this.je=sr(),this.He=Kc(),this.Je=Kc(),this.Ze=new ht(ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Nm(u))if(s===0){const f=new me(u.path);this.et(n,f,Wt.newNoDocument(f,be.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=is(s).toUint8Array()}catch(y){if(y instanceof cT)return io("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new mp(f,o,u)}catch(y){return io(y instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Nm(m.target)){const y=new me(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Wt.newNoDocument(y,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Le();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new qh(e,n,this.Ze,this.je,s);return this.je=sr(),this.He=Kc(),this.Je=Kc(),this.Ze=new ht(ke),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new y0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new kt(ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new kt(ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kc(){return new ht(me.comparator)}function _0(){return new ht(me.comparator)}const EC={asc:"ASCENDING",desc:"DESCENDING"},TC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bC={and:"AND",or:"OR"};class SC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mm(r,e){return r.useProto3Json||kh(e)?e:{value:e}}function yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function AC(r,e){return yh(r,e.toTimestamp())}function xi(r){return Qe(!!r,49232),be.fromTimestamp((function(n){const s=ns(n);return new at(s.seconds,s.nanos)})(r))}function pp(r,e){return Vm(r,e).canonicalString()}function Vm(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function qT(r){const e=nt.fromString(r);return Qe(KT(e),10190,{key:e.toString()}),e}function km(r,e){return pp(r.databaseId,e.path)}function hm(r,e){const n=qT(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(FT(n))}function HT(r,e){return pp(r.databaseId,e)}function wC(r){const e=qT(r);return e.length===4?nt.emptyPath():FT(e)}function Lm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function FT(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function v0(r,e,n){return{name:km(r,e),fields:n.value.mapValue.fields}}function RC(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ye(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?W.UNKNOWN:UT(g.code);return new oe(E,g.message||"")})(f);n=new zT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=hm(r,s.document.name),u=xi(s.document.updateTime),f=s.document.createTime?xi(s.document.createTime):be.min(),m=new dn({mapValue:{fields:s.document.fields}}),y=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new nh(g,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=hm(r,s.document),u=s.readTime?xi(s.readTime):be.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new nh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=hm(r,s.document),u=s.removedTargetIds||[];n=new nh([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new pC(o,u),m=s.targetId;n=new jT(m,f)}}return n}function xC(r,e){let n;if(e instanceof au)n={update:v0(r,e.key,e.value)};else if(e instanceof Bh)n={delete:km(r,e.key)};else if(e instanceof us)n={update:v0(r,e.key,e.data),updateMask:LC(e.fieldMask)};else{if(!(e instanceof fC))return ye(16599,{dt:e.type});n={verify:km(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof gh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Yl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:AC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(r,e.precondition)),n}function CC(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?xi(o.updateTime):xi(u);return f.isEqual(be.min())&&(f=xi(u)),new uC(f,o.transformResults||[])})(n,e)))):[]}function IC(r,e){return{documents:[HT(r,e.path)]}}function NC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=HT(r,o);const u=(function(g){if(g.length!==0)return QT(ti.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(x){return{field:Qa(x.field),direction:MC(x.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Mm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function DC(r){let e=wC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const x=GT(b);return x instanceof ti&&ET(x)?x.getFilters():[x]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((x=>(function(K){return new ph(Ka(K.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let x;return x=typeof b=="object"?b.value:b,kh(x)?null:x})(n.limit));let y=null;n.startAt&&(y=(function(b){const x=!!b.before,P=b.values||[];return new mh(P,x)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const x=!b.before,P=b.values||[];return new mh(P,x)})(n.endAt)),Xx(e,o,f,u,m,"F",y,g)}function OC(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ka(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ka(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(n){return It.create(Ka(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ti.create(n.compositeFilter.filters.map((s=>GT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(r):ye(30097,{filter:r})}function MC(r){return EC[r]}function VC(r){return TC[r]}function kC(r){return bC[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Kt.fromServerFormat(r.fieldPath)}function QT(r){return r instanceof It?(function(n){if(n.op==="=="){if(a0(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(s0(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(a0(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(s0(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:VC(n.op),value:n.value}}})(r):r instanceof ti?(function(n){const s=n.getFilters().map((o=>QT(o)));return s.length===1?s[0]:{compositeFilter:{op:kC(n.op),filters:s}}})(r):ye(54877,{filter:r})}function LC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function YT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Xr{constructor(e,n,s,o,u=be.min(),f=be.min(),m=Xt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class PC{constructor(e){this.yt=e}}function UC(r){const e=DC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Om(e,e.limit,"L"):e}class jC{constructor(){this.Sn=new zC}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ts.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class zC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(nt.comparator)).toArray()}}const E0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(XT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class oo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new oo(0)}static ar(){return new oo(-1)}}const T0="LruGarbageCollector",BC=1048576;function b0([r,e],[n,s]){const o=ke(r,n);return o===0?ke(e,s):o}class qC{constructor(e){this.Pr=e,this.buffer=new kt(b0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();b0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(T0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?ue(T0,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.Ar(3e5)}))}}class FC{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Vh.ce);const s=new qC(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(E0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,y,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),Fa()<=Ve.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${b} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function GC(r,e){return new FC(r,e)}class QC{constructor(){this.changes=new Zs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class YC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&zl(s.mutation,o,An.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=qs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Ml();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=qs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=sr();const f=jl(),m=(function(){return jl()})();return n.forEach(((y,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof us)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),zl(E.mutation,g,E.mutation.getFieldMask(),at.now())):f.set(g.key,An.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new KC(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=jl();let o=new ht(((f,m)=>f-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let E=s.get(y)||An.empty();E=m.applyToLocalView(g,E),s.set(y,E);const b=(o.get(m.batchId)||Le()).add(y);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,E=y.value,b=IT();E.forEach((x=>{if(!u.has(x)){const P=LT(n.get(x),s.get(x));P!==null&&b.set(x,P),u=u.add(x)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ee.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return $x(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(qs());let m=Fl,y=u;return f.next((g=>ee.forEach(g,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((x=>{y=y.insert(E,x)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,y,g,Le()))).next((E=>({batchId:m,changes:CT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Ml();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ml();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(y=>{const g=(function(b,x){return new su(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((b,x)=>{f=f.insert(b,x)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((y,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))}));let m=Ml();return f.forEach(((y,g)=>{const E=u.get(y);E!==void 0&&zl(E.mutation,g,An.empty(),at.now()),Uh(n,g)&&(m=m.insert(y,g))})),m}))}}class XC{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:UC(o.bundledQuery),readTime:xi(o.readTime)}})(n)),ee.resolve()}}class $C{constructor(){this.overlays=new ht(me.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=qs();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=qs(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=qs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=qs(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ee.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new mC(n,s));let u=this.Lr.get(n);u===void 0&&(u=Le(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class JC{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class gp{constructor(){this.kr=new kt(jt.Kr),this.qr=new kt(jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new jt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new me(new nt([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new me(new nt([])),s=new jt(n,e),o=new jt(n,e+1);let u=Le();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new jt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return me.comparator(e.key,n.key)||ke(e.Hr,n.Hr)}static Ur(e,n){return ke(e.Hr,n.Hr)||me.comparator(e.key,n.key)}}class ZC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(jt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new dC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?ap:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(ke);return n.forEach((o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),ee.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new jt(new me(u),0);let m=new kt(ke);return this.Jr.forEachWhile((y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Hr)),!0)}),f),ee.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new jt(n,0),o=this.Jr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class WC{constructor(e){this.ti=e,this.docs=(function(){return new ht(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=sr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=sr();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||Rx(wx(E),s)<=0||(o.has(E.key)||Uh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ni(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new eI(this)}getSize(e){return ee.resolve(this.size)}}class eI extends QC{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class tI{constructor(e){this.persistence=e,this.ri=new Zs((n=>up(n)),cp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new gp,this.targetCount=0,this.oi=oo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new oo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}class $T{constructor(e,n){this._i={},this.overlays={},this.ai=new Vh(0),this.ui=!1,this.ui=!0,this.ci=new JC,this.referenceDelegate=e(this),this.li=new tI(this),this.indexManager=new jC,this.remoteDocumentCache=(function(o){return new WC(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new PC(n),this.Pi=new XC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $C,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new ZC(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new nI(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class nI extends Cx{constructor(e){super(),this.currentSequenceNumber=e}}class yp{constructor(e){this.persistence=e,this.Ri=new gp,this.Ai=null}static Vi(e){return new yp(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(s=>{const o=me.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class _h{constructor(e,n){this.persistence=e,this.fi=new Zs((s=>Dx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=GC(this,n)}static Vi(e,n){return new _h(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wc(e.data.value)),n}wr(e,n,s){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _p{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new _p(e,n.fromCache,s,o)}}class iI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Q2()?8:Ix(en())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new iI;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Fa()<=Ve.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(Fa()<=Ve.DEBUG&&ue("QueryEngine","Query:",Ga(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Fa()<=Ve.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(n))):ee.resolve())}gs(e,n){if(c0(n))return ee.resolve(null);let s=Ri(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Om(n,null,"F"),s=Ri(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Le(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const g=this.bs(n,m);return this.Ss(n,g,f,y.readTime)?this.gs(e,Om(n,null,"F")):this.Ds(e,g,n,y)}))))})))))}ps(e,n,s,o){return c0(n)||o.isEqual(be.min())?ee.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?ee.resolve(null):(Fa()<=Ve.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ga(n)),this.Ds(e,f,n,Ax(o,Fl)).next((m=>m)))}))}bs(e,n){let s=new kt(RT(e));return n.forEach(((o,u)=>{Uh(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return Fa()<=Ve.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.fs.getDocumentsMatchingQuery(e,n,ts.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const vp="LocalStore",sI=3e8;class aI{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(ke),this.Fs=new Zs((u=>up(u)),cp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function oI(r,e,n,s){return new aI(r,e,n,s)}async function JT(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let y=Le();for(const g of o){f.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next((g=>({Ns:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function lI(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,E){const b=g.batch,x=b.keys();let P=ee.resolve();return x.forEach((K=>{P=P.next((()=>E.getEntry(y,K))).next((X=>{const G=g.docVersions.get(K);Qe(G!==null,48541),X.version.compareTo(G)<0&&(b.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),E.addEntry(X)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(y,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function ZT(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function uI(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,b)=>{const x=o.get(b);if(!x)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,b))));let P=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(b,P),(function(X,G,te){return X.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=sI?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(x,P,E)&&m.push(n.li.updateTargetData(u,P))}));let y=sr(),g=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(cI(u,f,e.documentUpdates).next((E=>{y=E.Bs,g=E.Ls}))),!s.isEqual(be.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(n.vs=o,u)))}function cI(r,e,n){let s=Le(),o=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=sr();return n.forEach(((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(be.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):ue(vp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{Bs:f,Ls:o}}))}function hI(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ap),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function fI(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new Xr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Pm(r,e,n){const s=Ae(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!_o(f))throw f;ue(vp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function S0(r,e,n){const s=Ae(r);let o=be.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,g,E){const b=Ae(y),x=b.Fs.get(E);return x!==void 0?ee.resolve(b.vs.get(x)):b.li.getTargetData(g,E)})(s,f,Ri(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Le()))).next((m=>(dI(s,Zx(e),m),{documents:m,ks:u})))))}function dI(r,e,n){let s=r.Ms.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class A0{constructor(){this.activeTargetIds=rC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mI{constructor(){this.vo=new A0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new A0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pI{Mo(e){}shutdown(){}}const w0="ConnectivityMonitor";class R0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(w0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(w0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yc=null;function Um(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}const fm="RestConnection",gI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class yI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===fh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=Um(),m=this.Qo(e,n.toUriEncodedString());ue(fm,`Sending RPC '${e}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,u);const{host:g}=new URL(m),E=mo(g);return this.zo(e,m,y,s,E).then((b=>(ue(fm,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw io(fm,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=gI[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class _I{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",Nl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class $a extends yI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!$a.c_){const e=nT();Nl(e,tT.STAT_EVENT,(n=>{n.stat===wm.PROXY?ue(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===wm.NOPROXY&&ue(Jt,"STAT_EVENT: detected no buffering proxy")})),$a.c_=!0}}zo(e,n,s,o,u){const f=Um();return new Promise(((m,y)=>{const g=new WE;g.setWithCredentials(!0),g.listenOnce(eT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Zc.NO_ERROR:const b=g.getResponseJson();ue(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case Zc.TIMEOUT:ue(Jt,`RPC '${e}' ${f} timed out`),y(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const x=g.getStatus();if(ue(Jt,`RPC '${e}' ${f} failed with status:`,x,"response text:",g.getResponseText()),x>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const K=P?.error;if(K&&K.status&&K.message){const X=(function(te){const ne=te.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ne)>=0?ne:W.UNKNOWN})(K.status);y(new oe(X,K.message))}else y(new oe(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new oe(W.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(Jt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ue(Jt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Um(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=u.join("");ue(Jt,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=f.createWebChannel(g,m);this.I_(E);let b=!1,x=!1;const P=new _I({Ho:K=>{x?ue(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(b||(ue(Jt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),ue(Jt,`RPC '${e}' stream ${o} sending:`,K),E.send(K))},Jo:()=>E.close()});return Nl(E,Ol.EventType.OPEN,(()=>{x||(ue(Jt,`RPC '${e}' stream ${o} transport opened.`),P.i_())})),Nl(E,Ol.EventType.CLOSE,(()=>{x||(x=!0,ue(Jt,`RPC '${e}' stream ${o} transport closed`),P.o_(),this.E_(E))})),Nl(E,Ol.EventType.ERROR,(K=>{x||(x=!0,io(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),P.o_(new oe(W.UNAVAILABLE,"The operation could not be completed")))})),Nl(E,Ol.EventType.MESSAGE,(K=>{if(!x){const X=K.data[0];Qe(!!X,16349);const G=X,te=G?.error||G[0]?.error;if(te){ue(Jt,`RPC '${e}' stream ${o} received error:`,te);const ne=te.status;let re=(function(Ee){const I=Ct[Ee];if(I!==void 0)return UT(I)})(ne),ge=te.message;re===void 0&&(re=W.INTERNAL,ge="Unknown error status: "+ne+" with message "+te.message),x=!0,P.o_(new oe(re,ge)),E.close()}else ue(Jt,`RPC '${e}' stream ${o} received:`,X),P.__(X)}})),$a.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return iT()}}function vI(r){return new $a(r)}function dm(){return typeof document<"u"?document:null}function Hh(r){return new SC(r,!0)}$a.c_=!1;class WT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const x0="PersistentStream";class e1{constructor(e,n,s,o,u,f,m,y){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(x0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ue(x0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EI extends e1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=RC(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?xi(f.readTime):be.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Lm(this.serializer),n.addTarget=(function(u,f){let m;const y=f.target;if(m=Nm(y)?{documents:IC(u,y)}:{query:NC(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=BT(u,f.resumeToken);const g=Mm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=yh(u,f.snapshotVersion.toTimestamp());const g=Mm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=OC(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Lm(this.serializer),n.removeTarget=e,this.K_(n)}}class TI extends e1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CC(e.writeResults,e.commitTime),s=xi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Lm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>xC(this.serializer,s)))};this.K_(n)}}class bI{}class SI extends bI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Vm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(W.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Vm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function AI(r,e,n,s){return new SI(r,e,n,s)}class wI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $s="RemoteStore";class RI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{Ws(this)&&(ue($s,"Restarting streams for network reachability change."),await(async function(y){const g=Ae(y);g.Ea.add(4),await lu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Fh(g)})(this))}))})),this.Va=new wI(s,o)}}async function Fh(r){if(Ws(r))for(const e of r.Ra)await e(!0)}async function lu(r){for(const e of r.Ra)await e(!1)}function t1(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sp(n)?bp(n):vo(n).O_()&&Tp(n,e))}function Ep(r,e){const n=Ae(r),s=vo(n);n.Ia.delete(e),s.O_()&&n1(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ws(n)&&n.Va.set("Unknown"))}function Tp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(r).Z_(e)}function n1(r,e){r.da.$e(e),vo(r).X_(e)}function bp(r){r.da=new vC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.Va.ua()}function Sp(r){return Ws(r)&&!vo(r).x_()&&r.Ia.size>0}function Ws(r){return Ae(r).Ea.size===0}function i1(r){r.da=void 0}async function xI(r){r.Va.set("Online")}async function CI(r){r.Ia.forEach(((e,n)=>{Tp(r,e)}))}async function II(r,e){i1(r),Sp(r)?(r.Va.ha(e),bp(r)):r.Va.set("Unknown")}async function NI(r,e,n){if(r.Va.set("Online"),e instanceof zT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){ue($s,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await vh(r,s)}else if(e instanceof nh?r.da.Xe(e):e instanceof jT?r.da.st(e):r.da.tt(e),!n.isEqual(be.min()))try{const s=await ZT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,g)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),n1(u,y);const b=new Xr(E.target,y,g,E.sequenceNumber);Tp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ue($s,"Failed to raise snapshot:",s),await vh(r,s)}}async function vh(r,e,n){if(!_o(e))throw e;r.Ea.add(1),await lu(r),r.Va.set("Offline"),n||(n=()=>ZT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue($s,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Fh(r)}))}function r1(r,e){return e().catch((n=>vh(r,n,e)))}async function Gh(r){const e=Ae(r),n=ss(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ap;for(;DI(e);)try{const o=await hI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,OI(e,o)}catch(o){await vh(e,o)}s1(e)&&a1(e)}function DI(r){return Ws(r)&&r.Ta.length<10}function OI(r,e){r.Ta.push(e);const n=ss(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function s1(r){return Ws(r)&&!ss(r).x_()&&r.Ta.length>0}function a1(r){ss(r).start()}async function MI(r){ss(r).ra()}async function VI(r){const e=ss(r);for(const n of r.Ta)e.ea(n.mutations)}async function kI(r,e,n){const s=r.Ta.shift(),o=dp.from(s,e,n);await r1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Gh(r)}async function LI(r,e){e&&ss(r).Y_&&await(async function(s,o){if((function(f){return gC(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();ss(s).B_(),await r1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Gh(s)}})(r,e),s1(r)&&a1(r)}async function C0(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ue($s,"RemoteStore received new credentials");const s=Ws(n);n.Ea.add(3),await lu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Fh(n)}async function PI(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Fh(n)):e||(n.Ea.add(2),await lu(n),n.Va.set("Unknown"))}function vo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new EI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:xI.bind(null,r),Yo:CI.bind(null,r),t_:II.bind(null,r),J_:NI.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Sp(r)?bp(r):r.Va.set("Unknown")):(await r.ma.stop(),i1(r))}))),r.ma}function ss(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new TI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:MI.bind(null,r),t_:LI.bind(null,r),ta:VI.bind(null,r),na:kI.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Gh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue($s,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ap{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Ap(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wp(r,e){if(rr("AsyncQueue",`${e}: ${r}`),_o(r))return new oe(W.UNAVAILABLE,`${e}: ${r}`);throw r}class Ja{static emptySet(e){return new Ja(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Ml(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ja;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class I0{constructor(){this.ga=new ht(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class lo{constructor(e,n,s,o,u,f,m,y,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new lo(e,n,Ja.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class UI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class jI{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=N0(),u.forEach(((f,m)=>{for(const y of m.ba)y.onError(s)}))})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function N0(){return new Zs((r=>wT(r)),Ph)}async function zI(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new UI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=wp(f,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Rp(n)}async function BI(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function qI(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&Rp(n)}function HI(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Rp(r){r.Ca.forEach((e=>{e.next()}))}var jm,D0;(D0=jm||(jm={})).Ma="default",D0.Cache="cache";class FI{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jm.Cache}}class o1{constructor(e){this.key=e}}class l1{constructor(e){this.key=e}}class GI{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=RT(e),this.tu=new Ja(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new I0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const x=o.get(E),P=Uh(this.query,b)?b:null,K=!!x&&this.mutatedKeys.has(x.key),X=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let G=!1;x&&P?x.data.isEqual(P.data)?K!==X&&(s.track({type:3,doc:P}),G=!0):this.su(x,P)||(s.track({type:2,doc:P}),G=!0,(y&&this.eu(P,y)>0||g&&this.eu(P,g)<0)&&(m=!0)):!x&&P?(s.track({type:0,doc:P}),G=!0):x&&!P&&(s.track({type:1,doc:x}),G=!0,(y||g)&&(m=!0)),G&&(P?(f=f.add(P),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,b)=>(function(P,K){const X=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:G})}};return X(P)-X(K)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,g=y!==this.Xa;return this.Xa=y,f.length!==0||g?{snapshot:new lo(this.query,e.tu,u,f,e.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new l1(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new o1(s))})),n}cu(e){this.Za=e.ks,this.Ya=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const xp="SyncEngine";class QI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class KI{constructor(e){this.key=e,this.hu=!1}}class YI{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Zs((m=>wT(m)),Ph),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(me.comparator),this.Au=new Map,this.Vu=new gp,this.du={},this.mu=new Map,this.fu=oo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XI(r,e,n=!0){const s=m1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await u1(s,e,n,!0),o}async function $I(r,e){const n=m1(r);await u1(n,e,!0,!1)}async function u1(r,e,n,s){const o=await fI(r.localStore,Ri(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await JI(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&t1(r.remoteStore,o),m}async function JI(r,e,n,s,o){r.pu=(b,x,P)=>(async function(X,G,te,ne){let re=G.view.ru(te);re.Ss&&(re=await S0(X.localStore,G.query,!1).then((({documents:I})=>G.view.ru(I,re))));const ge=ne&&ne.targetChanges.get(G.targetId),Te=ne&&ne.targetMismatches.get(G.targetId)!=null,Ee=G.view.applyChanges(re,X.isPrimaryClient,ge,Te);return M0(X,G.targetId,Ee.au),Ee.snapshot})(r,b,x,P);const u=await S0(r.localStore,e,!0),f=new GI(e,u.ks),m=f.ru(u.documents),y=ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,y);M0(r,n,g.au);const E=new QI(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function ZI(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Ph(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ep(s.remoteStore,o.targetId),zm(s,o.targetId)})).catch(yo)):(zm(s,o.targetId),await Pm(s.localStore,o.targetId,!0))}async function WI(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ep(n.remoteStore,s.targetId))}async function eN(r,e,n){const s=oN(r);try{const o=await(function(f,m){const y=Ae(f),g=at.now(),E=m.reduce(((P,K)=>P.add(K.key)),Le());let b,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let K=sr(),X=Le();return y.xs.getEntries(P,E).next((G=>{K=G,K.forEach(((te,ne)=>{ne.isValidDocument()||(X=X.add(te))}))})).next((()=>y.localDocuments.getOverlayedDocuments(P,K))).next((G=>{b=G;const te=[];for(const ne of m){const re=hC(ne,b.get(ne.key).overlayedDocument);re!=null&&te.push(new us(ne.key,re,yT(re.value.mapValue),wn.exists(!0)))}return y.mutationQueue.addMutationBatch(P,g,te,m)})).next((G=>{x=G;const te=G.applyToLocalDocumentSet(b,X);return y.documentOverlayCache.saveOverlays(P,G.batchId,te)}))})).then((()=>({batchId:x.batchId,changes:CT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let g=f.du[f.currentUser.toKey()];g||(g=new ht(ke)),g=g.insert(m,y),f.du[f.currentUser.toKey()]=g})(s,o.batchId,n),await uu(s,o.changes),await Gh(s.remoteStore)}catch(o){const u=wp(o,"Failed to persist write");n.reject(u)}}async function c1(r,e){const n=Ae(r);try{const s=await uI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await uu(n,s,e)}catch(s){await yo(s)}}function O0(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=Ae(f);y.onlineState=m;let g=!1;y.queries.forEach(((E,b)=>{for(const x of b.ba)x.va(m)&&(g=!0)})),g&&Rp(y)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function tN(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ht(me.comparator);f=f.insert(u,Wt.newNoDocument(u,be.min()));const m=Le().add(u),y=new qh(be.min(),new Map,new ht(ke),f,m);await c1(s,y),s.Ru=s.Ru.remove(u),s.Au.delete(e),Cp(s)}else await Pm(s.localStore,e,!1).then((()=>zm(s,e,n))).catch(yo)}async function nN(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await lI(n.localStore,e);f1(n,s,null),h1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uu(n,o)}catch(o){await yo(o)}}async function iN(r,e,n){const s=Ae(r);try{const o=await(function(f,m){const y=Ae(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return y.mutationQueue.lookupMutationBatch(g,m).next((b=>(Qe(b!==null,37113),E=b.keys(),y.mutationQueue.removeMutationBatch(g,b)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>y.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);f1(s,e,n),h1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await uu(s,o)}catch(o){await yo(o)}}function h1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function f1(r,e,n){const s=Ae(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function zm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||d1(r,s)}))}function d1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Ep(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Cp(r))}function M0(r,e,n){for(const s of n)s instanceof o1?(r.Vu.addReference(s.key,e),rN(r,s)):s instanceof l1?(ue(xp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||d1(r,s.key)):ye(19791,{wu:s})}function rN(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(ue(xp,"New document in limbo: "+n),r.Eu.add(s),Cp(r))}function Cp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new KI(n)),r.Ru=r.Ru.insert(n,s),t1(r.remoteStore,new Xr(Ri(hp(n.path)),s,"TargetPurposeLimboResolution",Vh.ce))}}async function uu(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{f.push(s.pu(y,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){o.push(g);const E=_p.Es(y.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(y,g){const E=Ae(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ee.forEach(g,(x=>ee.forEach(x.Ts,(P=>E.persistence.referenceDelegate.addReference(b,x.targetId,P))).next((()=>ee.forEach(x.Is,(P=>E.persistence.referenceDelegate.removeReference(b,x.targetId,P)))))))))}catch(b){if(!_o(b))throw b;ue(vp,"Failed to update sequence numbers: "+b)}for(const b of g){const x=b.targetId;if(!b.fromCache){const P=E.vs.get(x),K=P.snapshotVersion,X=P.withLastLimboFreeSnapshotVersion(K);E.vs=E.vs.insert(x,X)}}})(s.localStore,u))}async function sN(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ue(xp,"User change. New user:",e.toKey());const s=await JT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new oe(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uu(n,s.Ns)}}function aN(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function m1(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=c1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tN.bind(null,e),e.Pu.J_=qI.bind(null,e.eventManager),e.Pu.yu=HI.bind(null,e.eventManager),e}function oN(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iN.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oI(this.persistence,new rI,e.initialUser,this.serializer)}Cu(e){return new $T(yp.Vi,this.serializer)}Du(e){return new mI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class lN extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof _h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new HC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new $T((s=>_h.Vi(s,n)),this.serializer)}}class Bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>O0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sN.bind(null,this.syncEngine),await PI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jI})()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),s=vI(e.databaseInfo);return AI(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new RI(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>O0(this.syncEngine,n,0)),(function(){return R0.v()?new R0:new pI})())}createSyncEngine(e,n){return(function(o,u,f,m,y,g,E){const b=new YI(o,u,f,m,y,g);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);ue($s,"RemoteStore shutting down."),s.Ea.add(5),await lu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bm.provider={build:()=>new Bm};class uN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const as="FirestoreClient";class cN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ue(as,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ue(as,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=wp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function mm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(as,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await JT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function V0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await hN(r);ue(as,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>C0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>C0(e.remoteStore,o))),r._onlineComponents=e}async function hN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(as,"Using user provided OfflineComponentProvider");try{await mm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await mm(r,new Eh)}}else ue(as,"Using default OfflineComponentProvider"),await mm(r,new lN(void 0));return r._offlineComponents}async function p1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(as,"Using user provided OnlineComponentProvider"),await V0(r,r._uninitializedComponentsProvider._online)):(ue(as,"Using default OnlineComponentProvider"),await V0(r,new Bm))),r._onlineComponents}function fN(r){return p1(r).then((e=>e.syncEngine))}async function k0(r){const e=await p1(r),n=e.eventManager;return n.onListen=XI.bind(null,e.syncEngine),n.onUnlisten=ZI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$I.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WI.bind(null,e.syncEngine),n}function dN(r,e,n,s){const o=new uN(s),u=new FI(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>zI(await k0(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>BI(await k0(r),u)))}}function mN(r,e){const n=new Hs;return r.asyncQueue.enqueueAndForget((async()=>eN(await fN(r),e,n))),n.promise}function g1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const pN="ComponentProvider",L0=new Map;function gN(r,e,n,s,o){return new Vx(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,g1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const y1="firestore.googleapis.com",P0=!0;class U0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y1,this.ssl=P0}else this.host=e.host,this.ssl=e.ssl??P0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BC)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new dx;switch(s.type){case"firstParty":return new yx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=L0.get(n);s&&(ue(pN,"Removing Datastore"),L0.delete(n),s.terminate())})(this),Promise.resolve()}}function yN(r,e,n,s={}){r=Fs(r,Qh);const o=mo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(FE(`https://${m}`),GE("Firestore",!0)),u.host!==y1&&u.host!==m&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!Ks(y,f)&&(r._setSettings(y),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Zt.MOCK_USER;else{g=P2(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(b)}r._authCredentials=new mx(new sT(g,E))}}class Eo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class Vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ru(n,Vt._jsonSchema))return new Vt(e,s||null,new me(nt.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Nt("string",Vt._jsonSchemaVersion),referencePath:Nt("string")};class es extends Eo{constructor(e,n,s){super(e,n,hp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new me(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function qr(r,e,...n){if(r=Yt(r),aT("collection","path",e),r instanceof Qh){const s=nt.fromString(e,...n);return $v(s),new es(r,null,s)}{if(!(r instanceof Vt||r instanceof es))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return $v(s),new es(r.firestore,null,s)}}function Ya(r,e,...n){if(r=Yt(r),arguments.length===1&&(e=sp.newId()),aT("doc","path",e),r instanceof Qh){const s=nt.fromString(e,...n);return Xv(s),new Vt(r,null,new me(s))}{if(!(r instanceof Vt||r instanceof es))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return Xv(s),new Vt(r.firestore,r instanceof es?r.converter:null,new me(s))}}const j0="AsyncQueue";class z0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WT(this,"async_queue_retry"),this._c=()=>{const s=dm();s&&ue(j0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!_o(e))throw e;ue(j0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,rr("INTERNAL UNHANDLED ERROR: ",B0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ap.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:B0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function B0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class uo extends Qh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new z0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z0(e),this._firestoreClient=void 0,await e}}}function _N(r,e){const n=typeof r=="object"?r:XE(),s=typeof r=="string"?r:fh,o=ip(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=k2("firestore");u&&yN(o,...u)}return o}function Ip(r){if(r._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vN(r),r._firestoreClient}function vN(r){const e=r._freezeSettings(),n=gN(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new cN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Xt.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Nt("string",jn._jsonSchemaVersion),bytes:Nt("string")};class Np{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kh{constructor(e){this._methodName=e}}class Ci{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Nt("string",Ci._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class ei{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ei(e.vectorValues);throw new oe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Nt("string",ei._jsonSchemaVersion),vectorValues:Nt("object")};const EN=/^__.*__$/;class TN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class _1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function v1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:r})}}class Dp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Dp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Th(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(v1(this.dataSource)&&EN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class bN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Hh(e)}createContext(e,n,s,o=!1){return new Dp({dataSource:e,methodName:n,targetDoc:s,path:Kt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Op(r){const e=r._freezeSettings(),n=Hh(r._databaseId);return new bN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function E1(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Vp("Data must be an object, but it was:",f,s);const m=T1(s,f);let y,g;if(u.merge)y=new An(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const x=Jl(e,b,n);if(!f.contains(x))throw new oe(W.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);A1(E,x)||E.push(x)}y=new An(E),g=f.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,g=f.fieldTransforms;return new TN(new dn(m),y,g)}class Yh extends Kh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}class Mp extends Kh{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new $l(e.serializer,DT(e.serializer,this.Vc));return new oC(e.path,n)}isEqual(e){return e instanceof Mp&&this.Vc===e.Vc}}function SN(r,e,n,s){const o=r.createContext(1,e,n);Vp("Data must be an object, but it was:",o,s);const u=[],f=dn.empty();ls(s,((y,g)=>{const E=S1(e,y,n);g=Yt(g);const b=o.childContextForFieldPath(E);if(g instanceof Yh)u.push(E);else{const x=cu(g,b);x!=null&&(u.push(E),f.set(E,x))}}));const m=new An(u);return new _1(f,m,o.fieldTransforms)}function AN(r,e,n,s,o,u){const f=r.createContext(1,e,n),m=[Jl(e,s,n)],y=[o];if(u.length%2!=0)throw new oe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(Jl(e,u[x])),y.push(u[x+1]);const g=[],E=dn.empty();for(let x=m.length-1;x>=0;--x)if(!A1(g,m[x])){const P=m[x];let K=y[x];K=Yt(K);const X=f.childContextForFieldPath(P);if(K instanceof Yh)g.push(P);else{const G=cu(K,X);G!=null&&(g.push(P),E.set(P,G))}}const b=new An(g);return new _1(E,b,f.fieldTransforms)}function wN(r,e,n,s=!1){return cu(n,r.createContext(s?4:3,e))}function cu(r,e){if(b1(r=Yt(r)))return Vp("Unsupported field value:",e,r),T1(r,e);if(r instanceof Kh)return(function(s,o){if(!v1(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let y=cu(m,o.childContextForArray(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:yh(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(s instanceof Ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:BT(o.serializer,s._byteString)};if(s instanceof Vt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ei)return(function(f,m){const y=f instanceof ei?f.toArray():f;return{mapValue:{fields:{[pT]:{stringValue:gT},[dh]:{arrayValue:{values:y.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return fp(m.serializer,E)}))}}}}}})(s,o);if(YT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Mh(s)}`)})(r,e)}function T1(r,e){const n={};return uT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(r,((s,o)=>{const u=cu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function b1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof Ci||r instanceof jn||r instanceof Vt||r instanceof Kh||r instanceof ei||YT(r))}function Vp(r,e,n){if(!b1(n)||!oT(n)){const s=Mh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Jl(r,e,n){if((e=Yt(e))instanceof Np)return e._internalPath;if(typeof e=="string")return S1(r,e);throw Th("Field path arguments must be of type string or ",r,!1,void 0,n)}const RN=new RegExp("[~\\*/\\[\\]]");function S1(r,e,n){if(e.search(RN)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Np(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Th(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new oe(W.INVALID_ARGUMENT,m+r+y)}function A1(r,e){return r.some((n=>n.isEqual(e)))}class xN{convertValue(e,n="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ls(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[dh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new ei(n)}convertGeoPoint(e){return new Ci(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Lh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=ns(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Qe(KT(s),9688,{name:e});const o=new Ql(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class w1 extends xN{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function CN(r){return new Mp("increment",r)}const q0="@firebase/firestore",H0="4.10.0";function F0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class R1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Jl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IN extends R1{data(){return super.data()}}function NN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kp{}class DN extends kp{}function ON(r,e,...n){let s=[];e instanceof kp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((y=>y instanceof Pp)).length,m=u.filter((y=>y instanceof Lp)).length;if(f>1||f>0&&m>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Lp extends DN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Lp(e,n,s)}_apply(e){const n=this._parse(e);return x1(e._query,n),new Eo(e.firestore,e.converter,Dm(e._query,n))}_parse(e){const n=Op(e.firestore);return(function(u,f,m,y,g,E,b){let x;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Q0(b,E);const K=[];for(const X of b)K.push(G0(y,u,X));x={arrayValue:{values:K}}}else x=G0(y,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Q0(b,E),x=wN(m,f,b,E==="in"||E==="not-in");return It.create(g,E,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Pp extends kp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const y of m)x1(f,y),f=Dm(f,y)})(e._query,n),new Eo(e.firestore,e.converter,Dm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function G0(r,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AT(e)&&n.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!me.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return r0(r,new me(s))}if(n instanceof Vt)return r0(r,n._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(n)}.`)}function Q0(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function x1(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function C1(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends R1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Jl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:Nt("string",Gs._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class ih extends Gs{data(e={}){return super.data(e)}}class Za{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ih(this._firestore,this._userDataWriter,s.key,s,new kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:MN(m.type),doc:y,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Nt("string",Za._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class VN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Op(e)}set(e,n,s){this._verifyNotCommitted();const o=pm(e,this._firestore),u=C1(o.converter,n,s),f=E1(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,wn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=pm(e,this._firestore);let f;return f=typeof(n=Yt(n))=="string"||n instanceof Np?AN(this._dataReader,"WriteBatch.update",u._key,n,s,o):SN(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,wn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=pm(e,this._firestore);return this._mutations=this._mutations.concat(new Bh(n._key,wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pm(r,e){if((r=Yt(r)).firestore!==e)throw new oe(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function K0(r){return Up(Fs(r.firestore,uo),[new Bh(r._key,wn.none())])}function Dl(r,e){const n=Fs(r.firestore,uo),s=Ya(r),o=C1(r.converter,e),u=Op(r.firestore);return Up(n,[E1(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,wn.exists(!1))]).then((()=>s))}function kN(r,...e){r=Yt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||F0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(F0(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,f,m;if(r instanceof Vt)f=Fs(r.firestore,uo),m=hp(r._key.path),u={next:g=>{e[s]&&e[s](LN(f,r,g))},error:e[s+1],complete:e[s+2]};else{const g=Fs(r,Eo);f=Fs(g.firestore,uo),m=g._query;const E=new w1(f);u={next:b=>{e[s]&&e[s](new Za(f,E,g,b))},error:e[s+1],complete:e[s+2]},NN(r._query)}const y=Ip(f);return dN(y,m,o,u)}function Up(r,e){const n=Ip(r);return mN(n,e)}function LN(r,e,n){const s=n.docs.get(e._key),o=new w1(r);return new Gs(r,o,e._key,s,new kl(n.hasPendingWrites,n.fromCache),e.converter)}function Y0(r){return r=Fs(r,uo),Ip(r),new VN(r,(e=>Up(r,e)))}(function(e,n=!0){fx(po),no(new Ys("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new uo(new px(s.getProvider("auth-internal")),new _x(f,s.getProvider("app-check-internal")),kx(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Zr(q0,H0,e),Zr(q0,H0,"esm2020")})();function I1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PN=I1,N1=new nu("auth","Firebase",I1());const bh=new tp("@firebase/auth");function UN(r,...e){bh.logLevel<=Ve.WARN&&bh.warn(`Auth (${po}): ${r}`,...e)}function rh(r,...e){bh.logLevel<=Ve.ERROR&&bh.error(`Auth (${po}): ${r}`,...e)}function ar(r,...e){throw jp(r,...e)}function Ii(r,...e){return jp(r,...e)}function D1(r,e,n){const s={...PN(),[e]:n};return new nu("auth","Firebase",s).create(e,{appName:r.name})}function Qs(r){return D1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return N1.create(r,...e)}function ve(r,e,...n){if(!r)throw jp(e,...n)}function Wi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw rh(e),new Error(e)}function or(r,e){r||Wi(e)}function qm(){return typeof self<"u"&&self.location?.href||""}function jN(){return X0()==="http:"||X0()==="https:"}function X0(){return typeof self<"u"&&self.location?.protocol||null}function zN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jN()||H2()||"connection"in navigator)?navigator.onLine:!0}function BN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=z2()||F2()}get(){return zN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zp(r,e){or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class O1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const HN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FN=new hu(3e4,6e4);function Bp(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function To(r,e,n,s,o={}){return M1(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=iu({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:y,...u};return q2()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&mo(r.emulatorConfig.host)&&(g.credentials="include"),O1.fetch()(await V1(r,r.config.apiHost,n,m),g)})}async function M1(r,e,n){r._canInitEmulator=!1;const s={...qN,...e};try{const o=new QN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Xc(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw Xc(r,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw D1(r,E,g);ar(r,E)}}catch(o){if(o instanceof lr)throw o;ar(r,"network-request-failed",{message:String(o)})}}async function GN(r,e,n,s,o={}){const u=await To(r,e,n,s,o);return"mfaPendingCredential"in u&&ar(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function V1(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?zp(r.config,o):`${r.config.apiScheme}://${o}`;return HN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class QN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),FN.get())})}}function Xc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ii(r,e,s);return o.customData._tokenResponse=n,o}async function KN(r,e){return To(r,"POST","/v1/accounts:delete",e)}async function Sh(r,e){return To(r,"POST","/v1/accounts:lookup",e)}function Bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YN(r,e=!1){const n=Yt(r),s=await n.getIdToken(e),o=qp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Bl(gm(o.auth_time)),issuedAtTime:Bl(gm(o.iat)),expirationTime:Bl(gm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function gm(r){return Number(r)*1e3}function qp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=zE(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $0(r){const e=qp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Zl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof lr&&XN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function XN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class $N{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ah(r){const e=r.auth,n=await r.getIdToken(),s=await Zl(r,Sh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?k1(o.providerUserInfo):[],f=ZN(r.providerData,u),m=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!f?.length,g=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function JN(r){const e=Yt(r);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function k1(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function WN(r,e){const n=await M1(r,{},async()=>{const s=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await V1(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return r.emulatorConfig&&mo(r.emulatorConfig.host)&&(y.credentials="include"),O1.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eD(r,e){return To(r,"POST","/v2/accounts:revokeToken",Bp(r,e))}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=$0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await WN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Wa;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function Hr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $N(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YN(this,e)}reload(){return JN(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wi(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await Zl(this,KN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:P,providerData:K,stsTokenManager:X}=n;ve(b&&X,e,"internal-error");const G=Wa.fromJSON(this.name,X);ve(typeof b=="string",e,"internal-error"),Hr(s,e.name),Hr(o,e.name),ve(typeof x=="boolean",e,"internal-error"),ve(typeof P=="boolean",e,"internal-error"),Hr(u,e.name),Hr(f,e.name),Hr(m,e.name),Hr(y,e.name),Hr(g,e.name),Hr(E,e.name);const te=new Wn({uid:b,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:g,lastLoginAt:E});return K&&Array.isArray(K)&&(te.providerData=K.map(ne=>({...ne}))),y&&(te._redirectEventId=y),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new Wa;o.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?k1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Wa;m.updateFromIdToken(s);const y=new Wn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,g),y}}const J0=new Map;function er(r){or(r instanceof Function,"Expected a class definition");let e=J0.get(r);return e?(or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,J0.set(r,e),e)}class L1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}L1.type="NONE";const Z0=L1;function sh(r,e,n){return`firebase:${r}:${e}:${n}`}class eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=sh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new eo(er(Z0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||er(Z0);const f=sh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const x=await Sh(e,{idToken:E}).catch(()=>{});if(!x)break;b=await Wn._fromGetAccountInfoResponse(e,x,E)}else b=Wn._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new eo(u,e,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new eo(u,e,s))}}function W0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q1(e))return"Blackberry";if(H1(e))return"Webos";if(U1(e))return"Safari";if((e.includes("chrome/")||j1(e))&&!e.includes("edge/"))return"Chrome";if(B1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function P1(r=en()){return/firefox\//i.test(r)}function U1(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j1(r=en()){return/crios\//i.test(r)}function z1(r=en()){return/iemobile/i.test(r)}function B1(r=en()){return/android/i.test(r)}function q1(r=en()){return/blackberry/i.test(r)}function H1(r=en()){return/webos/i.test(r)}function Hp(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tD(r=en()){return Hp(r)&&!!window.navigator?.standalone}function nD(){return G2()&&document.documentMode===10}function F1(r=en()){return Hp(r)||B1(r)||H1(r)||q1(r)||/windows phone/i.test(r)||z1(r)}function G1(r,e=[]){let n;switch(r){case"Browser":n=W0(en());break;case"Worker":n=`${W0(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${s}`}class iD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const y=e(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function rD(r,e={}){return To(r,"GET","/v2/passwordPolicy",Bp(r,e))}const sD=6;class aD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class oD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eE(this),this.idTokenSubscription=new eE(this),this.beforeStateQueue=new iD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),s=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wi(this.app))return Promise.reject(Qs(this));const n=e?Yt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wi(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wi(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rD(this),n=new aD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await eD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&er(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=G1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&UN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fp(r){return Yt(r)}class eE{constructor(e){this.auth=e,this.observer=null,this.addObserver=W2(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lD(r){Gp=r}function uD(r){return Gp.loadJS(r)}function cD(){return Gp.gapiScript}function hD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function fD(r,e){const n=ip(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ks(u,e??{}))return o;ar(o,"already-initialized")}return n.initialize({options:e})}function dD(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(er);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function mD(r,e,n){const s=Fp(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Q1(e),{host:f,port:m}=pD(e),y=m===null?"":`:${m}`,g={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Ks(g,s.config.emulator)&&Ks(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,mo(f)?(FE(`${u}//${f}${y}`),GE("Auth",!0)):gD()}function Q1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function pD(r){const e=Q1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:tE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:tE(f)}}}function tE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function gD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class K1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function to(r,e){return GN(r,"POST","/v1/accounts:signInWithIdp",Bp(r,e))}const yD="http://localhost";class Js extends K1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,to(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:yD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=iu(n)}return e}}class Y1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fu extends Y1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gr extends fu{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";class Qr extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";class Kr extends fu{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";class Yr extends fu{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Wn._fromIdTokenResponse(e,s,o),f=nE(s);return new co({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=nE(s);return new co({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function nE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class wh extends lr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new wh(e,n,s,o)}}function X1(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(r,u,e,s):u})}async function _D(r,e,n=!1){const s=await Zl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return co._forOperation(r,"link",s)}async function vD(r,e,n=!1){const{auth:s}=r;if(wi(s.app))return Promise.reject(Qs(s));const o="reauthenticate";try{const u=await Zl(r,X1(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=qp(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),co._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ar(s,"user-mismatch"),u}}async function ED(r,e,n=!1){if(wi(r.app))return Promise.reject(Qs(r));const s="signIn",o=await X1(r,s,e),u=await co._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function TD(r,e,n,s){return Yt(r).onIdTokenChanged(e,n,s)}function bD(r,e,n){return Yt(r).beforeAuthStateChanged(e,n)}const Rh="__sak";class $1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const SD=1e3,AD=10;class J1 extends $1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);nD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,AD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},SD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}J1.type="LOCAL";const wD=J1;class Z1 extends $1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Z1.type="SESSION";const W1=Z1;function RD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),y=await RD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];function Qp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class xD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const g=Qp("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const x=b;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ni(){return window}function CD(r){Ni().location.href=r}function eb(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function ID(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ND(){return navigator?.serviceWorker?.controller||null}function DD(){return eb()?self:null}const tb="firebaseLocalStorageDb",OD=1,xh="firebaseLocalStorage",nb="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $h(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function MD(){const r=indexedDB.deleteDatabase(tb);return new du(r).toPromise()}function Fm(){const r=indexedDB.open(tb,OD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xh,{keyPath:nb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await MD(),e(await Fm()))})})}async function iE(r,e,n){const s=$h(r,!0).put({[nb]:e,value:n});return new du(s).toPromise()}async function VD(r,e){const n=$h(r,!1).get(e),s=await new du(n).toPromise();return s===void 0?null:s.value}function rE(r,e){const n=$h(r,!0).delete(e);return new du(n).toPromise()}const kD=800,LD=3;class ib{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>LD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(DD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ID(),!this.activeServiceWorker)return;this.sender=new xD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ND()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await iE(e,Rh,"1"),await rE(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>iE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>VD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=$h(o,!1).getAll();return new du(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ib.type="LOCAL";const PD=ib;new hu(3e4,6e4);function UD(r,e){return e?er(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Kp extends K1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jD(r){return ED(r.auth,new Kp(r),r.bypassAuthState)}function zD(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),vD(n,new Kp(r),r.bypassAuthState)}async function BD(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),_D(n,new Kp(r),r.bypassAuthState)}class rb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jD;case"linkViaPopup":case"linkViaRedirect":return BD;case"reauthViaPopup":case"reauthViaRedirect":return zD;default:ar(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qD=new hu(2e3,1e4);class Xa extends rb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=Qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qD.get())};e()}}Xa.currentPopupAction=null;const HD="pendingRedirect",ah=new Map;class FD extends rb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const s=await GD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GD(r,e){const n=YD(e),s=KD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function QD(r,e){ah.set(r._key(),e)}function KD(r){return er(r._redirectPersistence)}function YD(r){return sh(HD,r.config.apiKey,r.name)}async function XD(r,e,n=!1){if(wi(r.app))return Promise.reject(Qs(r));const s=Fp(r),o=UD(s,e),f=await new FD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const $D=600*1e3;class JD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!sb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$D&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(e))}saveEventToCache(e){this.cachedEventUids.add(sE(e)),this.lastProcessedEventTime=Date.now()}}function sE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function sb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function ZD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sb(r);default:return!1}}async function WD(r,e={}){return To(r,"GET","/v1/projects",e)}const e4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t4=/^https?/;async function n4(r){if(r.config.emulator)return;const{authorizedDomains:e}=await WD(r);for(const n of e)try{if(i4(n))return}catch{}ar(r,"unauthorized-domain")}function i4(r){const e=qm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!t4.test(n))return!1;if(e4.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const r4=new hu(3e4,6e4);function aE(){const r=Ni().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function s4(r){return new Promise((e,n)=>{function s(){aE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aE(),n(Ii(r,"network-request-failed"))},timeout:r4.get()})}if(Ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ni().gapi?.load)s();else{const o=hD("iframefcb");return Ni()[o]=()=>{gapi.load?s():n(Ii(r,"network-request-failed"))},uD(`${cD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw oh=null,e})}let oh=null;function a4(r){return oh=oh||s4(r),oh}const o4=new hu(5e3,15e3),l4="__/auth/iframe",u4="emulator/auth/iframe",c4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f4(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?zp(e,u4):`https://${r.config.authDomain}/${l4}`,s={apiKey:e.apiKey,appName:r.name,v:po},o=h4.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${iu(s).slice(1)}`}async function d4(r){const e=await a4(r),n=Ni().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:f4(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c4,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ii(r,"network-request-failed"),m=Ni().setTimeout(()=>{u(f)},o4.get());function y(){Ni().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}const m4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p4=500,g4=600,y4="_blank",_4="http://localhost";class oE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v4(r,e,n,s=p4,o=g4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...m4,width:s.toString(),height:o.toString(),top:u,left:f},g=en().toLowerCase();n&&(m=j1(g)?y4:n),P1(g)&&(e=e||_4,y.scrollbars="yes");const E=Object.entries(y).reduce((x,[P,K])=>`${x}${P}=${K},`,"");if(tD(g)&&m!=="_self")return E4(e||"",m),new oE(null);const b=window.open(e||"",m,E);ve(b,r,"popup-blocked");try{b.focus()}catch{}return new oE(b)}function E4(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const T4="__/auth/handler",b4="emulator/auth/handler",S4=encodeURIComponent("fac");async function lE(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:po,eventId:o};if(e instanceof Y1){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Z2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof fu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await r._getAppCheckToken(),g=y?`#${S4}=${encodeURIComponent(y)}`:"";return`${A4(r)}?${iu(m).slice(1)}${g}`}function A4({config:r}){return r.emulator?zp(r,b4):`https://${r.authDomain}/${T4}`}const ym="webStorageSupport";class w4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W1,this._completeRedirectFn=XD,this._overrideRedirectResult=QD}async _openPopup(e,n,s,o){or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await lE(e,n,s,qm(),o);return v4(e,u,Qp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await lE(e,n,s,qm(),o);return CD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await d4(e),s=new JD(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ym,{type:ym},o=>{const u=o?.[0]?.[ym];u!==void 0&&n(!!u),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=n4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return F1()||U1()||Hp()}}const R4=w4;var uE="@firebase/auth",cE="1.12.0";class x4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function C4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I4(r){no(new Ys("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G1(r)},g=new oD(s,o,u,y);return dD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),no(new Ys("auth-internal",e=>{const n=Fp(e.getProvider("auth").getImmediate());return(s=>new x4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(uE,cE,C4(r)),Zr(uE,cE,"esm2020")}const N4=300,D4=HE("authIdTokenMaxAge")||N4;let hE=null;const O4=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>D4)return;const o=n?.token;hE!==o&&(hE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function M4(r=XE()){const e=ip(r,"auth");if(e.isInitialized())return e.getImmediate();const n=fD(r,{popupRedirectResolver:R4,persistence:[PD,wD,W1]}),s=HE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=O4(u.toString());bD(n,f,()=>f(n.currentUser)),TD(n,m=>f(m))}}const o=BE("auth");return o&&mD(n,`http://${o}`),n}function V4(){return document.getElementsByTagName("head")?.[0]??document}lD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",V4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I4("Browser");const k4={apiKey:"AIzaSyBppPnzCowuUDKvj8OlG1Q0kzZQqSIRe7w",authDomain:"fashion-store-manager.firebaseapp.com",projectId:"fashion-store-manager",storageBucket:"fashion-store-manager.firebasestorage.app",messagingSenderId:"675074868462",appId:"1:675074868462:web:a126d22b27778867061fff",measurementId:"G-4JH1LB4YMW"},ab=YE(k4),Sn=_N(ab);M4(ab);const ob=j.createContext(void 0),L4=({children:r})=>{const[e,n]=j.useState([]),[s,o]=j.useState([]),[u,f]=j.useState([]),[m,y]=j.useState([]),[g,E]=j.useState([]),[b,x]=j.useState([]),[P,K]=j.useState(!0);j.useEffect(()=>{const R=(it,Y)=>kN(ON(qr(Sn,it)),ae=>{const fe=ae.docs.map(Ie=>({...Ie.data(),id:Ie.id}));Y(fe)}),w=R("products",n),M=R("orders",o),O=R("expenses",f),k=R("stockPurchases",y),N=R("withdrawals",E),qe=R("injections",x);return K(!1),()=>{w(),M(),O(),k(),N(),qe()}},[]);const X=async R=>{await Dl(qr(Sn,"products"),R)},G=async R=>{await K0(Ya(Sn,"products",R))},te=async R=>{const w=Y0(Sn),M=Ya(qr(Sn,"orders"));w.set(M,R);const O=e.find(k=>k.name.trim().toLowerCase()===R.productName.trim().toLowerCase());if(O){const k=Ya(Sn,"products",O.id);console.log("Updating Stock for ID:",O.id),w.update(k,{quantity:CN(-R.quantity)})}else console.error("Critical Error: Product not found in local list:",R.productName);await w.commit()},ne=async R=>{await Dl(qr(Sn,"expenses"),R)},re=async R=>{await K0(Ya(Sn,"expenses",R))},ge=async R=>{await Dl(qr(Sn,"stockPurchases"),R)},Te=async R=>{await Dl(qr(Sn,"withdrawals"),R)},Ee=async R=>{await Dl(qr(Sn,"injections"),R)},I=async R=>{try{const w=JSON.parse(R),M=Y0(Sn),O=(k,N)=>{N.forEach(qe=>{const{id:it,...Y}=qe,ae=Ya(qr(Sn,k));M.set(ae,Y)})};w.products&&O("products",w.products),w.orders&&O("orders",w.orders),w.expenses&&O("expenses",w.expenses),await M.commit(),alert("Success! All data migrated to Firebase.")}catch{alert("Error: Data migration failed.")}};return T.jsx(ob.Provider,{value:{products:e,orders:s,expenses:u,stockPurchases:m,withdrawals:g,injections:b,loading:P,addProduct:X,deleteProduct:G,addOrder:te,addExpense:ne,deleteExpense:re,addStockPurchase:ge,addWithdrawal:Te,addInjection:Ee,importAllData:I},children:r})},bo=()=>{const r=j.useContext(ob);if(!r)throw new Error("useInventory must be used within an InventoryProvider");return r};function P4(){const{products:r,orders:e,expenses:n}=bo(),s=e.reduce((g,E)=>g+E.totalAmount,0),o=r.reduce((g,E)=>g+E.quantity,0),u=n.reduce((g,E)=>g+E.amount,0),f=e.reduce((g,E)=>{const b=r.find(K=>K.name.trim().toLowerCase()===E.productName.trim().toLowerCase());let x=0;b?x=b.costPrice*E.quantity:x=E.totalAmount*.3;const P=E.totalAmount-x;return g+P},0),m=f-u,y=[{name:"Total Revenue",value:`${s.toLocaleString()} UGX`,icon:kE,color:"text-slate-900",bg:"bg-slate-100"},{name:"Net Profit",value:`${m.toLocaleString()} UGX`,icon:Lw,color:m<0?"text-red-600":"text-emerald-600",bg:m<0?"bg-red-50":"bg-emerald-50"},{name:"Shop Expenses",value:`${u.toLocaleString()} UGX`,icon:PE,color:"text-orange-600",bg:"bg-orange-50"},{name:"Items in Stock",value:o.toLocaleString(),icon:Dh,color:"text-blue-600",bg:"bg-blue-50"}];return T.jsxs("div",{className:"space-y-10 animate-in fade-in duration-700",children:[T.jsxs("div",{className:"flex justify-between items-end",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-3xl font-black text-[#0F172A] tracking-tight",children:"Business Overview"}),T.jsx("p",{className:"text-slate-500 font-medium",children:"Real-time performance tracking for your boutique."})]}),T.jsxs("div",{className:"hidden md:block text-right",children:[T.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"System Status"}),T.jsxs("p",{className:"text-sm font-bold text-emerald-500 flex items-center gap-2 justify-end",children:[T.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),"Cloud Sync Active"]})]})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map(g=>T.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm hover:shadow-md transition-all",children:[T.jsx("div",{className:`w-12 h-12 ${g.bg} ${g.color} rounded-2xl flex items-center justify-center mb-4`,children:T.jsx(g.icon,{size:24})}),T.jsx("p",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:g.name}),T.jsx("p",{className:`text-2xl font-black mt-1 ${g.color}`,children:g.value})]},g.name))}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[T.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl border border-slate-100 p-8 shadow-sm",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-xl font-bold text-[#0F172A]",children:"Recent Orders"}),T.jsx("span",{className:"text-xs font-bold bg-slate-100 px-3 py-1 rounded-full text-slate-500",children:"Last 5 Sales"})]}),T.jsxs("div",{className:"space-y-4",children:[e.slice(-5).reverse().map(g=>T.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl hover:bg-slate-100 transition-colors",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-sm",children:T.jsx(Wm,{size:18,className:"text-slate-400"})}),T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-[#0F172A]",children:g.productName}),T.jsx("p",{className:"text-xs text-slate-500",children:g.date})]})]}),T.jsxs("div",{className:"text-right",children:[T.jsxs("p",{className:"font-black text-[#0F172A]",children:[g.totalAmount.toLocaleString()," UGX"]}),T.jsx("p",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-widest",children:"Completed"})]})]},g.id)),e.length===0&&T.jsx("div",{className:"text-center py-10",children:T.jsx("p",{className:"text-slate-400 italic",children:"No sales recorded yet."})})]})]}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"bg-[#0F172A] rounded-3xl p-8 text-white shadow-xl",children:[T.jsx("h2",{className:"text-xl font-bold mb-6",children:"Efficiency"}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"p-4 bg-white/10 rounded-2xl border border-white/10",children:[T.jsx("p",{className:"text-white/60 text-sm mb-1",children:"Gross Margin"}),T.jsxs("p",{className:"text-2xl font-black text-emerald-400",children:[s>0?(f/s*100).toFixed(1):0,"%"]})]}),T.jsxs("div",{className:"p-4 bg-white/10 rounded-2xl border border-white/10",children:[T.jsx("p",{className:"text-white/60 text-sm mb-1",children:"Expense Ratio"}),T.jsxs("p",{className:"text-2xl font-black text-orange-400",children:[s>0?(u/s*100).toFixed(1):0,"%"]})]})]})]}),r.some(g=>g.quantity<3)&&T.jsxs("div",{className:"bg-red-50 border border-red-100 rounded-3xl p-6",children:[T.jsxs("div",{className:"flex items-center gap-3 text-red-600 mb-2",children:[T.jsx(LE,{size:20}),T.jsx("p",{className:"font-bold",children:"Inventory Alert"})]}),T.jsxs("p",{className:"text-sm text-red-700",children:[r.filter(g=>g.quantity<3).length," items are critically low on stock. Restock soon to avoid lost sales."]})]})]})]})]})}function U4(){const{products:r,addProduct:e,deleteProduct:n}=bo(),[s,o]=j.useState(!1),[u,f]=j.useState(null),[m,y]=j.useState(""),[g,E]=j.useState("All"),[b,x]=j.useState(""),[P,K]=j.useState("Bags"),[X,G]=j.useState(0),[te,ne]=j.useState(0),[re,ge]=j.useState(0),Te=r.filter(w=>{const M=w.name.toLowerCase().includes(m.toLowerCase()),O=g==="All"||w.category===g;return M&&O}),Ee=()=>{f(null),x(""),G(0),ne(0),ge(0),o(!0)},I=w=>{f(w.id),x(w.name),K(w.category),G(w.quantity),ne(w.costPrice),ge(w.sellPrice),o(!0),window.scrollTo({top:0,behavior:"smooth"})},R=w=>{w.preventDefault(),u&&n(u);const M={id:u||Date.now().toString(),name:b,category:P,quantity:X,costPrice:te,sellPrice:re};e(M),o(!1),f(null),x(""),G(0),ne(0),ge(0)};return T.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-3xl font-bold text-[#0F172A]",children:"Inventory"}),T.jsx("p",{className:"text-slate-500",children:"Manage your items and track stock levels."})]}),T.jsxs("button",{onClick:s?()=>o(!1):Ee,className:`${s?"bg-slate-200 text-slate-700":"bg-[#0F172A] text-white"} px-6 py-3 rounded-2xl font-bold flex items-center gap-2 transition-all active:scale-95 shadow-lg shadow-slate-200`,children:[s?T.jsx(ep,{size:20}):T.jsx(Zm,{size:20}),s?"Cancel":"Add Product"]})]}),s&&T.jsxs("form",{onSubmit:R,className:"bg-white p-8 rounded-3xl border-2 border-[#ED985F]/20 shadow-xl space-y-6 animate-in zoom-in-95 duration-300",children:[T.jsxs("div",{className:"flex items-center gap-2 text-[#ED985F] mb-2",children:[T.jsx(Ov,{size:18}),T.jsx("span",{className:"font-bold uppercase text-xs tracking-widest",children:u?"Editing Product":"New Product Details"})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Product Name"}),T.jsx("input",{required:!0,value:b,onChange:w=>x(w.target.value),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-[#ED985F] outline-none"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Category"}),T.jsxs("select",{value:P,onChange:w=>K(w.target.value),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-[#ED985F] outline-none",children:[T.jsx("option",{value:"Bags",children:"Bags"}),T.jsx("option",{value:"Shoes",children:"Shoes"}),T.jsx("option",{value:"Accessories",children:"Accessories"})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Stock Quantity"}),T.jsx("input",{type:"number",required:!0,value:X,onChange:w=>G(Number(w.target.value)),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-[#ED985F] outline-none"})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Cost (UGX)"}),T.jsx("input",{type:"number",required:!0,value:te,onChange:w=>ne(Number(w.target.value)),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-[#ED985F] outline-none"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Sale (UGX)"}),T.jsx("input",{type:"number",required:!0,value:re,onChange:w=>ge(Number(w.target.value)),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-[#ED985F] outline-none"})]})]})]}),T.jsx("button",{type:"submit",className:"w-full bg-[#ED985F] text-[#0F172A] font-black py-4 rounded-xl hover:opacity-90 transition-opacity",children:u?"UPDATE PRODUCT":"SAVE TO INVENTORY"})]}),T.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[T.jsxs("div",{className:"relative flex-1",children:[T.jsx(c2,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),T.jsx("input",{type:"text",placeholder:"Search products...",value:m,onChange:w=>y(w.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-[#ED985F] shadow-sm"})]}),T.jsxs("div",{className:"relative",children:[T.jsx(Kw,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),T.jsxs("select",{value:g,onChange:w=>E(w.target.value),className:"pl-12 pr-8 py-3 bg-white border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-[#ED985F] shadow-sm appearance-none font-bold text-slate-600 cursor-pointer",children:[T.jsx("option",{value:"All",children:"All Categories"}),T.jsx("option",{value:"Bags",children:"Bags"}),T.jsx("option",{value:"Shoes",children:"Shoes"}),T.jsx("option",{value:"Accessories",children:"Accessories"})]})]})]}),T.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:T.jsxs("table",{className:"w-full text-left border-collapse",children:[T.jsx("thead",{children:T.jsxs("tr",{className:"bg-slate-50 text-slate-400 text-[10px] uppercase tracking-widest font-bold",children:[T.jsx("th",{className:"px-8 py-5 text-center",children:"Type"}),T.jsx("th",{className:"px-6 py-5",children:"Product Details"}),T.jsx("th",{className:"px-6 py-5",children:"Category"}),T.jsx("th",{className:"px-6 py-5",children:"Stock"}),T.jsx("th",{className:"px-6 py-5",children:"Price"}),T.jsx("th",{className:"px-6 py-5 text-right",children:"Actions"})]})}),T.jsxs("tbody",{className:"divide-y divide-slate-100",children:[Te.map(w=>T.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[T.jsx("td",{className:"px-8 py-5",children:T.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-600 group-hover:bg-white transition-colors",children:w.category==="Bags"?T.jsx(Wm,{size:18}):T.jsx(Dh,{size:18})})}),T.jsx("td",{className:"px-6 py-5 font-bold text-[#0F172A]",children:w.name}),T.jsx("td",{className:"px-6 py-5 text-sm text-slate-500 font-medium",children:w.category}),T.jsx("td",{className:"px-6 py-5",children:T.jsxs("span",{className:`px-3 py-1 rounded-lg text-xs font-bold flex items-center gap-1 w-fit ${w.quantity<5?"bg-red-50 text-red-600":"bg-emerald-50 text-emerald-600"}`,children:[w.quantity<5&&T.jsx(Bw,{size:12}),w.quantity," in stock"]})}),T.jsxs("td",{className:"px-6 py-5 font-black text-[#0F172A]",children:[w.sellPrice.toLocaleString()," UGX"]}),T.jsx("td",{className:"px-6 py-5 text-right",children:T.jsxs("div",{className:"flex justify-end gap-2",children:[T.jsx("button",{onClick:()=>I(w),className:"p-2 text-slate-400 hover:text-blue-500 hover:bg-blue-50 rounded-lg transition-all",title:"Edit",children:T.jsx(Ov,{size:18})}),T.jsx("button",{onClick:()=>{window.confirm("Delete this item?")&&n(w.id)},className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",title:"Delete",children:T.jsx(VE,{size:18})})]})})]},w.id)),Te.length===0&&T.jsx("tr",{children:T.jsx("td",{colSpan:6,className:"p-20 text-center text-slate-400 italic",children:"No products found matching your search."})})]})]})})]})}function j4(){const{products:r,orders:e,addOrder:n}=bo(),[s,o]=j.useState(!1),[u,f]=j.useState(""),[m,y]=j.useState(1),g=()=>{if(e.length===0){alert("No orders to export yet!");return}const b=["Date","Product Name","Quantity","Total Amount (UGX)","Status"],x=e.map(te=>[te.date,te.productName,te.quantity,te.totalAmount,te.status]),P=[b.join(","),...x.map(te=>te.join(","))].join(`
`),K=new Blob([P],{type:"text/csv;charset=utf-8;"}),X=URL.createObjectURL(K),G=document.createElement("a");G.setAttribute("href",X),G.setAttribute("download",`Boutique_Sales_Report_${new Date().toLocaleDateString()}.csv`),document.body.appendChild(G),G.click(),document.body.removeChild(G)},E=async b=>{b.preventDefault();const x=r.find(K=>K.name===u);if(!x){alert("Please select a valid product.");return}if(x.quantity<m){alert(`Not enough stock! Only ${x.quantity} left.`);return}const P={productName:x.name,quantity:m,totalAmount:x.sellPrice*m,date:new Date().toLocaleDateString(),status:"Paid"};try{await n(P),o(!1),f(""),y(1)}catch(K){console.error("Sale failed:",K),alert("Something went wrong with the cloud sync. Please try again.")}};return T.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-3xl font-bold text-[#0F172A]",children:"Sales & Orders"}),T.jsx("p",{className:"text-slate-500",children:"Record new sales and download your reports."})]}),T.jsxs("div",{className:"flex gap-3",children:[T.jsxs("button",{onClick:g,className:"bg-white text-slate-700 border border-slate-200 px-5 py-3 rounded-2xl font-bold flex items-center gap-2 hover:bg-slate-50 transition-all active:scale-95 shadow-sm",children:[T.jsx(Jm,{size:18})," Export CSV"]}),T.jsxs("button",{onClick:()=>o(!s),className:"bg-[#ED985F] text-[#0F172A] px-6 py-3 rounded-2xl font-bold flex items-center gap-2 hover:opacity-90 transition-all active:scale-95 shadow-lg shadow-orange-100",children:[T.jsx(Zm,{size:20})," ",s?"Close":"Record a Sale"]})]})]}),s&&T.jsxs("form",{onSubmit:E,className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-xl max-w-2xl",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Select Product"}),T.jsxs("select",{required:!0,value:u,onChange:b=>f(b.target.value),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[#ED985F]",children:[T.jsx("option",{value:"",children:"-- Choose Stock --"}),r.map(b=>T.jsxs("option",{value:b.name,disabled:b.quantity===0,children:[b.name," (",b.quantity," left)"]},b.id))]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Quantity Sold"}),T.jsx("input",{type:"number",min:"1",value:m,onChange:b=>y(Number(b.target.value)),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-[#ED985F]"})]})]}),T.jsx("button",{type:"submit",className:"w-full bg-[#0F172A] text-white font-bold py-4 rounded-xl hover:bg-slate-800 transition-colors",children:"COMPLETE SALE"})]}),T.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-slate-50 text-slate-400 text-[10px] uppercase tracking-widest font-bold",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-8 py-5",children:"Date"}),T.jsx("th",{className:"px-6 py-5",children:"Items"}),T.jsx("th",{className:"px-6 py-5",children:"Qty"}),T.jsx("th",{className:"px-6 py-5 text-right",children:"Total Amount"})]})}),T.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e.map(b=>T.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[T.jsxs("td",{className:"px-8 py-5 text-sm text-slate-500 flex items-center gap-2",children:[T.jsx(ME,{size:14})," ",b.date]}),T.jsx("td",{className:"px-6 py-5 font-bold text-[#0F172A]",children:b.productName}),T.jsx("td",{className:"px-6 py-5 text-slate-600",children:b.quantity}),T.jsxs("td",{className:"px-6 py-5 text-right font-black text-emerald-600",children:[b.totalAmount.toLocaleString()," UGX"]})]},b.id)),e.length===0&&T.jsx("tr",{children:T.jsx("td",{colSpan:4,className:"p-20 text-center text-slate-400 italic",children:"No sales recorded yet. Start selling!"})})]})]})})]})}function z4(){const{expenses:r,addExpense:e,deleteExpense:n}=bo(),[s,o]=j.useState(!1),[u,f]=j.useState(""),[m,y]=j.useState(0),[g,E]=j.useState("Rent"),b=x=>{x.preventDefault();const P={id:Date.now().toString(),description:u,amount:m,category:g,date:new Date().toLocaleDateString()};e(P),o(!1),f(""),y(0)};return T.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-3xl font-bold text-[#0F172A]",children:"Shop Expenses"}),T.jsx("p",{className:"text-slate-500",children:"Track your overhead costs to see real profit."})]}),T.jsxs("button",{onClick:()=>o(!s),className:"bg-red-500 text-white px-6 py-3 rounded-2xl font-bold flex items-center gap-2 hover:bg-red-600 transition-all",children:[T.jsx(Zm,{size:20})," Record Expense"]})]}),s&&T.jsxs("form",{onSubmit:b,className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-xl max-w-2xl",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Description"}),T.jsx("input",{required:!0,value:u,onChange:x=>f(x.target.value),className:"w-full p-3 bg-slate-50 border rounded-xl",placeholder:"e.g. Monthly Rent"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Category"}),T.jsxs("select",{value:g,onChange:x=>E(x.target.value),className:"w-full p-3 bg-slate-50 border rounded-xl",children:[T.jsx("option",{value:"Rent",children:"Rent"}),T.jsx("option",{value:"Utilities",children:"Utilities"}),T.jsx("option",{value:"Marketing",children:"Marketing"}),T.jsx("option",{value:"Staff",children:"Staff"}),T.jsx("option",{value:"Other",children:"Other"})]})]}),T.jsxs("div",{className:"space-y-2 md:col-span-2",children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Amount (UGX)"}),T.jsx("input",{type:"number",required:!0,value:m,onChange:x=>y(Number(x.target.value)),className:"w-full p-3 bg-slate-50 border rounded-xl"})]})]}),T.jsx("button",{type:"submit",className:"w-full bg-[#0F172A] text-white font-bold py-4 rounded-xl",children:"SAVE EXPENSE"})]}),T.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 overflow-hidden shadow-sm",children:T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-slate-50 text-slate-400 text-[10px] uppercase font-bold",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-8 py-5",children:"Date"}),T.jsx("th",{className:"px-6 py-5",children:"Category"}),T.jsx("th",{className:"px-6 py-5",children:"Description"}),T.jsx("th",{className:"px-6 py-5 text-right",children:"Amount"}),T.jsx("th",{className:"px-6 py-5 text-right",children:"Action"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-100",children:r.map(x=>T.jsxs("tr",{children:[T.jsxs("td",{className:"px-8 py-5 text-sm flex items-center gap-2",children:[T.jsx(ME,{size:14})," ",x.date]}),T.jsx("td",{className:"px-6 py-5",children:T.jsx("span",{className:"px-3 py-1 bg-slate-100 rounded-lg text-xs font-bold",children:x.category})}),T.jsx("td",{className:"px-6 py-5 text-[#0F172A] font-medium",children:x.description}),T.jsxs("td",{className:"px-6 py-5 text-right font-bold text-red-500",children:["-",x.amount.toLocaleString()," UGX"]}),T.jsx("td",{className:"px-6 py-5 text-right",children:T.jsx("button",{onClick:()=>n(x.id),className:"text-slate-300 hover:text-red-500",children:T.jsx(VE,{size:18})})})]},x.id))})]})})]})}function B4(){const{orders:r,products:e,expenses:n,stockPurchases:s,addStockPurchase:o,withdrawals:u,addWithdrawal:f,injections:m,addInjection:y}=bo(),[g,E]=j.useState(""),[b,x]=j.useState(""),[P,K]=j.useState(""),[X,G]=j.useState(""),[te,ne]=j.useState(""),[re,ge]=j.useState(""),Te=r.reduce((C,H)=>C+H.totalAmount,0),Ee=n.reduce((C,H)=>C+H.amount,0),I=s.reduce((C,H)=>C+H.amount,0),R=u.reduce((C,H)=>C+H.amount,0),w=m.reduce((C,H)=>C+H.amount,0),M=r.reduce((C,H)=>{const ie=e.find(_e=>_e.name===H.productName),le=ie?ie.costPrice:H.totalAmount/(H.quantity||1)*.6;return C+(H.totalAmount-le*H.quantity)},0),k=M-Ee-R,qe=Te-M+w-I,it=e.reduce((C,H)=>C+H.costPrice*H.quantity,0),Y=e.reduce((C,H)=>C+H.sellPrice*H.quantity,0),ae=qe+it+k,fe=async C=>{C.preventDefault(),te&&(await y({amount:Number(te),source:re||"Owner Contribution",date:new Date().toLocaleDateString()}),ne(""),ge(""))},Ie=async C=>{C.preventDefault(),g&&(await o({description:b||"Restock",amount:Number(g),date:new Date().toLocaleDateString()}),E(""),x(""))},He=async C=>{if(C.preventDefault(),!P||Number(P)>k){alert("Insufficient profit balance!");return}await f({amount:Number(P),date:new Date().toLocaleDateString(),note:X||"Personal Use"}),K(""),G("")};return T.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700",children:[T.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Financial Management"}),T.jsx("p",{className:"text-slate-500 font-medium",children:"Manage capital, stock investments, and personal withdrawals."})]}),T.jsx("div",{className:"bg-gradient-to-br from-indigo-600 to-blue-700 p-[2px] rounded-3xl shadow-xl shadow-blue-100",children:T.jsxs("div",{className:"bg-white/10 backdrop-blur-md px-8 py-4 rounded-[22px] border border-white/20",children:[T.jsx("p",{className:"text-[10px] font-bold text-blue-100 uppercase tracking-widest mb-1 text-center",children:"Total Boutique Value"}),T.jsxs("p",{className:"text-2xl font-black text-white",children:[ae.toLocaleString()," UGX"]})]})})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[T.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[T.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Stock (Cost Value)"}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(Dh,{size:20,className:"text-slate-400"}),T.jsxs("p",{className:"text-xl font-black text-slate-900",children:[it.toLocaleString()," UGX"]})]})]}),T.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[T.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Expected Revenue"}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-50 flex items-center justify-center",children:T.jsx(kE,{size:18,className:"text-emerald-500"})}),T.jsxs("p",{className:"text-xl font-black text-emerald-600",children:[Y.toLocaleString()," UGX"]})]})]}),T.jsxs("div",{className:"bg-white p-6 rounded-3xl border-2 border-blue-50 shadow-sm",children:[T.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase tracking-widest mb-1",children:"Buying Power"}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(Ww,{size:20,className:"text-blue-600"}),T.jsxs("p",{className:"text-xl font-black text-blue-600",children:[qe.toLocaleString()," UGX"]})]})]}),T.jsxs("div",{className:"bg-[#0F172A] p-6 rounded-3xl shadow-lg",children:[T.jsx("p",{className:"text-xs font-bold text-white/40 uppercase tracking-widest mb-1",children:"Your Salary Balance"}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(Vv,{size:20,className:"text-emerald-400"}),T.jsxs("p",{className:"text-xl font-black text-emerald-400",children:[k.toLocaleString()," UGX"]})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[T.jsxs("div",{className:"bg-blue-600 p-6 rounded-3xl text-white shadow-lg",children:[T.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[T.jsx(Dv,{size:20})," Add Capital"]}),T.jsxs("form",{onSubmit:fe,className:"space-y-3",children:[T.jsx("input",{type:"number",value:te,onChange:C=>ne(C.target.value),placeholder:"Amount (UGX)",className:"w-full p-3 bg-white/10 border border-white/20 rounded-xl outline-none placeholder:text-white/50"}),T.jsx("input",{value:re,onChange:C=>ge(C.target.value),placeholder:"Source (e.g. Savings)",className:"w-full p-3 bg-white/10 border border-white/20 rounded-xl outline-none placeholder:text-white/50"}),T.jsx("button",{className:"w-full bg-white text-blue-600 font-black py-3 rounded-xl hover:bg-blue-50",children:"INJECT FUNDS"})]})]}),T.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[T.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[T.jsx(Mv,{size:20,className:"text-blue-500"})," Restock"]}),T.jsxs("form",{onSubmit:Ie,className:"space-y-3",children:[T.jsx("input",{value:b,onChange:C=>x(C.target.value),placeholder:"Items purchased?",className:"w-full p-3 bg-slate-50 border rounded-xl outline-none"}),T.jsx("input",{type:"number",value:g,onChange:C=>E(C.target.value),placeholder:"Total Spent (UGX)",className:"w-full p-3 bg-slate-50 border rounded-xl outline-none"}),T.jsx("button",{className:"w-full bg-blue-600 text-white font-bold py-3 rounded-xl hover:bg-blue-700",children:"LOG PURCHASE"})]})]}),T.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[T.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[T.jsx(Uw,{size:20,className:"text-emerald-500"})," Withdraw"]}),T.jsxs("form",{onSubmit:He,className:"space-y-3",children:[T.jsx("input",{type:"number",value:P,onChange:C=>K(C.target.value),placeholder:"Amount (UGX)",className:"w-full p-3 bg-slate-50 border rounded-xl outline-none"}),T.jsx("input",{value:X,onChange:C=>G(C.target.value),placeholder:"Reason for withdrawal?",className:"w-full p-3 bg-slate-50 border rounded-xl outline-none"}),T.jsx("button",{className:"w-full bg-emerald-500 text-[#0F172A] font-black py-3 rounded-xl hover:bg-emerald-600",children:"WITHDRAW NOW"})]})]})]}),T.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[T.jsxs("div",{className:"p-6 bg-slate-50 border-b flex justify-between items-center",children:[T.jsxs("h2",{className:"font-bold text-slate-900 flex items-center gap-2",children:[T.jsx(Xw,{size:18})," Audit Trail"]}),T.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"All Outflows & Injections"})]}),T.jsxs("div",{className:"divide-y max-h-[400px] overflow-y-auto",children:[[...s,...u,...m].sort((C,H)=>H.id.localeCompare(C.id)).map(C=>{const H="source"in C,ie="note"in C;return T.jsxs("div",{className:"p-5 flex justify-between items-center hover:bg-slate-50 transition-colors",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:`p-3 rounded-xl ${H?"bg-blue-600 text-white shadow-md shadow-blue-100":ie?"bg-emerald-50 text-emerald-600":"bg-slate-100 text-slate-600"}`,children:H?T.jsx(Dv,{size:18}):ie?T.jsx(Vv,{size:18}):T.jsx(Mv,{size:18})}),T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-slate-800",children:H?C.source:ie?C.note:C.description}),T.jsxs("p",{className:"text-xs text-slate-400 font-medium",children:[C.date,"  ",H?"Capital Injection":ie?"Withdrawal":"Stock Purchase"]})]})]}),T.jsxs("p",{className:`font-black text-lg ${H?"text-blue-600":ie?"text-emerald-600":"text-slate-900"}`,children:[H?"+":"-",C.amount.toLocaleString()," ",T.jsx("span",{className:"text-[10px]",children:"UGX"})]})]},C.id)}),s.length===0&&u.length===0&&m.length===0&&T.jsx("div",{className:"p-20 text-center text-slate-400 italic",children:"No financial history yet."})]})]})]})}function q4(){const r=bo(),e="v1.0.0 (Initial Build)",n=()=>{const o={products:r.products,orders:r.orders,expenses:r.expenses,stockPurchases:r.stockPurchases,withdrawals:r.withdrawals,injections:r.injections,exportDate:new Date().toISOString()},u=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),f=URL.createObjectURL(u),m=document.createElement("a");m.href=f,m.download=`fashion_store_backup_${new Date().toLocaleDateString()}.json`,m.click()},s=o=>{const u=o.target.files?.[0];if(!u)return;const f=new FileReader;f.onload=m=>{const y=m.target?.result;window.confirm("This will overwrite all current data. Are you sure?")&&r.importAllData(y)},f.readAsText(u)};return T.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-700",children:[T.jsxs("header",{children:[T.jsx("h1",{className:"text-3xl font-black text-slate-900",children:"Settings"}),T.jsx("p",{className:"text-slate-500 font-medium",children:"Software configuration and data security."})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[T.jsx("div",{className:"md:col-span-2 space-y-6",children:T.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:[T.jsxs("div",{className:"flex items-center gap-3 border-b pb-4",children:[T.jsx(Fw,{className:"text-blue-600",size:24}),T.jsx("h2",{className:"text-xl font-bold",children:"Backup & Recovery"})]}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[T.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl space-y-4",children:[T.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-sm",children:T.jsx(Jm,{className:"text-blue-600",size:20})}),T.jsx("h3",{className:"font-bold text-slate-900",children:"Export Data"}),T.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:"Download a backup of all your products, sales, and financial records."}),T.jsx("button",{onClick:n,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-xl hover:bg-blue-700 transition-colors",children:"SAVE BACKUP FILE"})]}),T.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl space-y-4",children:[T.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-sm",children:T.jsx(T2,{className:"text-orange-600",size:20})}),T.jsx("h3",{className:"font-bold text-slate-900",children:"Import Data"}),T.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:"Upload a previously saved backup file to restore your store records."}),T.jsxs("label",{className:"block w-full bg-white border-2 border-dashed border-slate-200 text-slate-600 text-center font-bold py-3 rounded-xl hover:border-orange-400 cursor-pointer transition-colors",children:["SELECT FILE",T.jsx("input",{type:"file",accept:".json",onChange:s,className:"hidden"})]})]})]}),T.jsxs("div",{className:"flex gap-4 p-4 bg-amber-50 rounded-2xl border border-amber-100",children:[T.jsx(LE,{className:"text-amber-600 shrink-0",size:20}),T.jsx("p",{className:"text-xs text-amber-800 font-medium italic",children:"Caution: Importing a data file will replace everything you currently see in the system. Make sure you have the correct file before proceeding."})]})]})}),T.jsx("div",{className:"space-y-6",children:T.jsxs("div",{className:"bg-[#0F172A] p-8 rounded-3xl text-white shadow-xl",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[T.jsx(Jw,{className:"text-blue-400",size:20}),T.jsx("h2",{className:"text-lg font-bold",children:"Software Info"})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-white/40 text-[10px] uppercase font-bold tracking-widest",children:"Current Version"}),T.jsx("p",{className:"text-xl font-black text-blue-400",children:e})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-white/40 text-[10px] uppercase font-bold tracking-widest",children:"Status"}),T.jsxs("p",{className:"text-emerald-400 font-bold flex items-center gap-2",children:[T.jsx(m2,{size:16})," Fully Operational"]})]}),T.jsx("div",{className:"pt-4 border-t border-white/10",children:T.jsx("p",{className:"text-[10px] text-white/40 leading-relaxed italic",children:"This system is running locally on your laptop. All data is stored in your browser's secure local storage."})})]})]})})]})]})}const H4="1.0.0",F4="https://raw.githubusercontent.com/robert-stac/Fashion-Store-App/main/version.json";function G4(){const[r,e]=j.useState(!1),[n,s]=j.useState("");return j.useEffect(()=>{(async()=>{try{const f=await(await fetch(F4)).json();f.version!==H4&&(s(f.version),e(!0))}catch{console.log("Version check skipped.")}})()},[]),r?T.jsx("div",{className:"fixed bottom-6 right-6 z-[9999] animate-in slide-in-from-right duration-500",children:T.jsxs("div",{className:"bg-[#0F172A] text-white p-5 rounded-3xl shadow-2xl border border-blue-500/30 flex items-center gap-4 max-w-sm",children:[T.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl flex-shrink-0",children:T.jsx(l2,{size:20,className:"animate-spin",style:{animationDuration:"3s"}})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h4",{className:"font-bold text-sm",children:"Update Available"}),T.jsxs("p",{className:"text-xs text-white/60",children:["Version ",n," is ready. Refresh to update."]})]}),T.jsx("button",{onClick:()=>e(!1),className:"hover:bg-white/10 p-2 rounded-xl transition-colors",children:T.jsx(ep,{size:18})})]})}):null}function Q4(){const[r,e]=j.useState(null),[n,s]=j.useState(!1);j.useEffect(()=>{window.addEventListener("beforeinstallprompt",u=>{u.preventDefault(),e(u),s(!0)})},[]);const o=async()=>{if(!r)return;r.prompt();const{outcome:u}=await r.userChoice;u==="accepted"&&(e(null),s(!1))};return n?T.jsx("div",{className:"fixed bottom-28 right-6 z-[9999] animate-in slide-in-from-bottom duration-500",children:T.jsxs("div",{className:"bg-white text-slate-900 p-5 rounded-3xl shadow-2xl border border-slate-200 flex items-center gap-4 max-w-sm",children:[T.jsx("div",{className:"bg-slate-100 p-3 rounded-2xl flex-shrink-0 text-blue-600",children:T.jsx(Jm,{size:20})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h4",{className:"font-bold text-sm text-slate-900",children:"Install Desktop App"}),T.jsx("p",{className:"text-xs text-slate-500",children:"Add to your taskbar for quick access."})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:o,className:"bg-blue-600 text-white px-4 py-2 rounded-xl text-xs font-bold hover:bg-blue-700 transition-colors",children:"Install"}),T.jsx("button",{onClick:()=>s(!1),className:"text-slate-400 p-2",children:T.jsx(ep,{size:18})})]})]})}):null}function K4(){return T.jsxs(L4,{children:[" ",T.jsx(G4,{}),T.jsx(Q4,{}),T.jsx($A,{children:T.jsxs(Fr,{path:"/",element:T.jsx(w2,{}),children:[T.jsx(Fr,{index:!0,element:T.jsx(P4,{})}),T.jsx(Fr,{path:"inventory",element:T.jsx(U4,{})}),T.jsx(Fr,{path:"orders",element:T.jsx(j4,{})}),T.jsx(Fr,{path:"expenses",element:T.jsx(z4,{})}),T.jsx(Fr,{path:"finances",element:T.jsx(B4,{})}),T.jsx(Fr,{path:"settings",element:T.jsx(q4,{})})]})})]})}const Y4="/Fashion-Store-App/";XS.createRoot(document.getElementById("root")).render(T.jsx(BS.StrictMode,{children:T.jsx(Ew,{basename:Y4,children:T.jsx(K4,{})})}));
